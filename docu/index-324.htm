<!DOCTYPE html>
<!--[if IE 8 ]>
	<html class="no-js ie8" lang="de-DE">
<![endif]-->
<!--[if IE 9 ]>
	<html class="no-js ie9" lang="de-DE">
<![endif]-->
<!--[if gt IE 9]><!-->
<html lang="de-DE"><!--<![endif]-->
	<head>
				<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta http-equiv="X-UA-Compatible" content="IE=9; IE=8; IE=7; IE=EDGE">

		<link rel="profile" href="http://gmpg.org/xfn/11">
		<link rel="pingback" href="http://www.iobroker.net/docu/xmlrpc.php">

		<title>Anwesenheitssimulation &#8211; ioBroker</title>
<link rel='dns-prefetch' href='//netdna.bootstrapcdn.com'>
<link rel='dns-prefetch' href='//s.w.org'>
<link rel="alternate" type="application/rss+xml" title="ioBroker &raquo; Feed" href="index.rss?feed=rss2&#038;lang=de">
<link rel="alternate" type="application/rss+xml" title="ioBroker &raquo; Kommentar-Feed" href="index-1.rss?feed=comments-rss2&#038;lang=de">
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.2.1\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.2.1\/svg\/","svgExt":".svg","source":{"concatemoji":"http:\/\/www.iobroker.net\/docu\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.7.5"}};
			!function(a,b,c){function d(a){var b,c,d,e,f=String.fromCharCode;if(!k||!k.fillText)return!1;switch(k.clearRect(0,0,j.width,j.height),k.textBaseline="top",k.font="600 32px Arial",a){case"flag":return k.fillText(f(55356,56826,55356,56819),0,0),!(j.toDataURL().length<3e3)&&(k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,57331,65039,8205,55356,57096),0,0),b=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,57331,55356,57096),0,0),c=j.toDataURL(),b!==c);case"emoji4":return k.fillText(f(55357,56425,55356,57341,8205,55357,56507),0,0),d=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55357,56425,55356,57341,55357,56507),0,0),e=j.toDataURL(),d!==e}return!1}function e(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g,h,i,j=b.createElement("canvas"),k=j.getContext&&j.getContext("2d");for(i=Array("flag","emoji4"),c.supports={everything:!0,everythingExceptFlag:!0},h=0;h<i.length;h++)c.supports[i[h]]=d(i[h]),c.supports.everything=c.supports.everything&&c.supports[i[h]],"flag"!==i[h]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[i[h]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='crayon-css' href='wp-content\plugins\crayon-syntax-highlighter\css\min\crayon.min.css?ver=_2.7.2_beta' type='text/css' media='all'>
<link rel='stylesheet' id='crayon-theme-classic-css' href='wp-content\plugins\crayon-syntax-highlighter\themes\classic\classic.css?ver=_2.7.2_beta' type='text/css' media='all'>
<link rel='stylesheet' id='crayon-font-monaco-css' href='wp-content\plugins\crayon-syntax-highlighter\fonts\monaco.css?ver=_2.7.2_beta' type='text/css' media='all'>
<link rel='stylesheet' id='contact-form-7-css' href='wp-content\plugins\contact-form-7\includes\css\styles.css?ver=4.9.2' type='text/css' media='all'>
<link rel='stylesheet' id='cookie-law-info-css' href='wp-content\plugins\cookie-law-info\public\css\cookie-law-info-public.css?ver=1.7.6' type='text/css' media='all'>
<link rel='stylesheet' id='cookie-law-info-gdpr-css' href='wp-content\plugins\cookie-law-info\public\css\cookie-law-info-gdpr.css?ver=1.7.6' type='text/css' media='all'>
<link rel='stylesheet' id='dedo-css-css' href='wp-content\plugins\delightful-downloads\assets\css\delightful-downloads.min.css?ver=1.6.6' type='text/css' media='all'>
<link rel='stylesheet' id='mbpro-font-awesome-css' href='wp-content\plugins\maxbuttons\assets\libraries\font-awesome\css\font-awesome.min.css?ver=6.28' type='text/css' media='all'>
<link rel='stylesheet' id='page-list-style-css' href='wp-content\plugins\page-list\css\page-list.css?ver=5.1' type='text/css' media='all'>
<link rel='stylesheet' id='pc_google_analytics-frontend-css' href='http://www.iobroker.net/docu/wp-content/plugins/pc-google-analytics/assets/css/frontend.css?ver=1.0.0' type='text/css' media='all'>
<link rel='stylesheet' id='font-awesome-css' href='//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.css' type='text/css' media='screen'>
<link rel='stylesheet' id='toc-screen-css' href='wp-content\plugins\table-of-contents-plus\screen.min.css?ver=1509' type='text/css' media='all'>
<link rel='stylesheet' id='parent-style-css' href='wp-content\themes\responsive-mobile\style.css?ver=4.7.5' type='text/css' media='all'>
<link rel='stylesheet' id='responsive-mobile-style-css' href='wp-content\themes\responsive-mobile\css\style.css?ver=1.8' type='text/css' media='all'>
<link rel='stylesheet' id='responsive-mobile-child-style-css' href='wp-content\themes\responsive-mobile_child\style.css?ver=1.0' type='text/css' media='all'>
<link rel='stylesheet' id='recent-posts-widget-with-thumbnails-public-style-css' href='wp-content\plugins\recent-posts-widget-with-thumbnails\public.css?ver=6.5.0' type='text/css' media='all'>
<link rel='stylesheet' id='cleverness_todo_list_frontend-css' href='wp-content\plugins\cleverness-to-do-list\css\cleverness-to-do-list-frontend.css?ver=3.4.2' type='text/css' media='all'>
<link rel='stylesheet' id='jquery.ui.theme-css' href='wp-content\plugins\cleverness-to-do-list\css\jquery-ui-fresh.css?ver=3.4.2' type='text/css' media='all'>
<link rel='stylesheet' id='tablepress-default-css' href='wp-content\tablepress-combined.min.css?ver=128' type='text/css' media='all'>
<link rel='stylesheet' id='bootstrap-css' href='wp-content\themes\responsive-mobile\libraries\bootstrap\css\bootstrap.min.css?ver=4.7.5' type='text/css' media='all'>
<script type='text/javascript' src='wp-includes\js\jquery\jquery.js?ver=1.12.4'></script>
<script type='text/javascript' src='wp-includes\js\jquery\jquery-migrate.min.js?ver=1.4.1'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var CrayonSyntaxSettings = {"version":"_2.7.2_beta","is_admin":"0","ajaxurl":"http:\/\/www.iobroker.net\/docu\/wp-admin\/admin-ajax.php","prefix":"crayon-","setting":"crayon-setting","selected":"crayon-setting-selected","changed":"crayon-setting-changed","special":"crayon-setting-special","orig_value":"data-orig-value","debug":""};
var CrayonSyntaxStrings = {"copy":"Dr\u00fccken Sie %s zum Kopieren, %s zum Einf\u00fcgen","minimize":"Klicken um Code aufzuklappen"};
/* ]]> */
</script>
<script type='text/javascript' src='wp-content\plugins\crayon-syntax-highlighter\js\min\crayon.min.js?ver=_2.7.2_beta'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var Cli_Data = {"nn_cookie_ids":[],"cookielist":[]};
var log_object = {"ajax_url":"http:\/\/www.iobroker.net\/docu\/wp-admin\/admin-ajax.php"};
/* ]]> */
</script>
<script type='text/javascript' src='wp-content\plugins\cookie-law-info\public\js\cookie-law-info-public.js?ver=1.7.6'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var mb_ajax = {"ajaxurl":"http:\/\/www.iobroker.net\/docu\/wp-admin\/admin-ajax.php"};
/* ]]> */
</script>
<script type='text/javascript' src='wp-content\plugins\maxbuttons\js\min\front.js?ver=6.28'></script>
<script type='text/javascript' src='wp-content\plugins\pc-google-analytics\assets\js\frontend.min.js?ver=1.0.0'></script>
<script type='text/javascript' src='wp-content\themes\responsive-mobile\libraries\bootstrap\js\bootstrap.min.js?ver=4.7.5'></script>
<link rel='https://api.w.org/' href='index.json?rest_route=/'>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="xmlrpc.xml?rsd">
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="wp-includes\wlwmanifest.xml">
<meta name="generator" content="WordPress 4.7.5">
<link rel="canonical" href="index-324.htm?page_id=3684&#038;lang=de">
<link rel='shortlink' href='http://www.iobroker.net/docu/?p=3684'>
<link rel="alternate" type="application/json+oembed" href="index-300.json?rest_route=%2Foembed%2F1.0%2Fembed&#038;url=http%3A%2F%2Fwww.iobroker.net%2Fdocu%2F%3Fpage_id%3D3684%26lang%3Dde">
<link rel="alternate" type="text/xml+oembed" href="index-299.xml?rest_route=%2Foembed%2F1.0%2Fembed&#038;url=http%3A%2F%2Fwww.iobroker.net%2Fdocu%2F%3Fpage_id%3D3684%26lang%3Dde&#038;format=xml">
	<script>
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

		ga('create', 'UA-86900958-1', 'auto');
		ga('send', 'pageview');

		</script>

<style>
.scroll-back-to-top-wrapper {
    position: fixed;
	opacity: 0;
	visibility: hidden;
	overflow: hidden;
	text-align: center;
	z-index: 99999999;
    background-color: #777777;
	color: #eeeeee;
	width: 50px;
	height: 48px;
	line-height: 48px;
	right: 30px;
	bottom: 30px;
	padding-top: 2px;
	border-top-left-radius: 10px;
	border-top-right-radius: 10px;
	border-bottom-right-radius: 10px;
	border-bottom-left-radius: 10px;
	-webkit-transition: all 0.5s ease-in-out;
	-moz-transition: all 0.5s ease-in-out;
	-ms-transition: all 0.5s ease-in-out;
	-o-transition: all 0.5s ease-in-out;
	transition: all 0.5s ease-in-out;
}
.scroll-back-to-top-wrapper:hover {
	background-color: #888888;
  color: #eeeeee;
}
.scroll-back-to-top-wrapper.show {
    visibility:visible;
    cursor:pointer;
	opacity: 1.0;
}
.scroll-back-to-top-wrapper i.fa {
	line-height: inherit;
}
.scroll-back-to-top-wrapper .fa-lg {
	vertical-align: 0;
}
</style><!-- Analytics by WP-Statistics v12.6 - https://wp-statistics.com/ -->
		<script type="text/javascript">
			var cli_flush_cache=1;
		</script>
				<style type="text/css" id="wp-custom-css">
			/*
You can add your own CSS here.

Click the help icon above to learn more.
*/
.site-content .content-area{
	/*background: #6592c9;*/
}		</style>
	<style type="text/css">
.paypal-donations { text-align: center !important }
</style>
	</head>

<body class="page-template-default page page-id-3684 page-child parent-pageid-3593 group-blog default" itemscope="itemscope" itemtype="http://schema.org/WebPage">
<div id="container" class="site">
	<a class="skip-link screen-reader-text" href="#content">Springe zum Inhalt</a>
	<a class="skip-link screen-reader-text" href="#main-navigation">Zum Hauptmenü springen</a>
	<div id="top-menu-container" class="container-full-width">
		<nav id="top-menu" class="container" itemscope="" itemtype="http://schema.org/SiteNavigationElement">
			<ul id="menu-2016_top_menue" class="top-menu"><li id="menu-item-2203-de" class="lang-item lang-item-4 lang-item-de lang-item-first current-lang menu-item menu-item-type-custom menu-item-object-custom menu-item-2203-de"><a href="index-324.htm?page_id=3684&#038;lang=de" hreflang="de-DE" lang="de-DE">Deutsch</a></li>
<li id="menu-item-2203-en" class="lang-item lang-item-7 lang-item-en no-translation menu-item menu-item-type-custom menu-item-object-custom menu-item-2203-en"><a href="index-1.htm?lang=en" hreflang="en-GB" lang="en-GB">English</a></li>
<li id="menu-item-2203-ru" class="lang-item lang-item-20 lang-item-ru no-translation menu-item menu-item-type-custom menu-item-object-custom menu-item-2203-ru"><a href="index-2.htm?lang=ru" hreflang="ru-RU" lang="ru-RU">Русский</a></li>
</ul>		</nav>
	</div><!-- top menu container -->
        <div id="header_section">
	<header id="header" class="container-full-width site-header" role="banner" itemscope="itemscope" itemtype="http://schema.org/WPHeader">
				<div class="container">
			<div class="header-row">
				<div id="site-branding">
							<div id="logo">
			<a href="index.htm?lang=de" rel="home" itemprop="url" title="ioBroker">
				<img src="wp-content\uploads\ioBroker_logo_lang-e1456684383484.png" alt="ioBroker" itemprop="image">
			</a>
		</div>
					</div>
				<div id="secondary-header">

	<div id="top-widget" class="top-widget" role="complementary" itemscope="itemscope" itemtype="http://schema.org/WPSideBar">

			<div id="search-2" class="responsive-mobile-top-widget widget_search"><form role="search" method="get" class="search-form" action="http://www.iobroker.net/docu/">
				<label>
					<span class="screen-reader-text">Suche nach:</span>
					<input type="search" class="search-field" placeholder="Suche&#160;&hellip;" value="" name="s">
				</label>
				<input type="submit" class="search-submit" value="Suche">
			<input type="hidden" name="lang" value="de"></form></div>
			</div><!-- end of #top-widget -->
				</div>
			</div>
		</div>

			</header><!-- #header -->

	<div id="main-menu-container" class="container-full-width">
		<div id="main-menu" class="container">
			<nav id="main-navigation" class="site-navigation" role="navigation" itemscope="itemscope" itemtype="http://schema.org/SiteNavigationElement">
				<div id="mobile-current-item">Menü</div>
				<button id="mobile-nav-button"><span class="accessibile-label">Mobile-Menü ein-/ausschalten</span></button>
				<div class="main-nav"><ul id="menu-2016_kopfzeile_de" class="menu"><li id="menu-item-2204" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2204"><a href="..\index.htm">Startseite</a></li>
<li id="menu-item-7199" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-7199"><a href="https://www.iobroker.net/#de/shop">Shop</a></li>
<li id="menu-item-2278" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2278"><a href="index-3.htm?page_id=2258&#038;lang=de">Aktuelles</a></li>
<li id="menu-item-2626" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-2626"><a href="index-4.htm?page_id=2375&#038;lang=de">Einleitung</a>
<ul class="sub-menu">
	<li id="menu-item-6381" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-6381"><a href="index-4.htm?page_id=2375&#038;lang=de">für alle</a></li>
	<li id="menu-item-6380" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-6380"><a href="index-5.htm?page_id=6317&#038;lang=de">für Einsteiger</a>
	<ul class="sub-menu">
		<li id="menu-item-6451" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-6451"><a href="index-6.htm?page_id=6335&#038;lang=de">Server aufsetzen</a></li>
		<li id="menu-item-6450" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-6450"><a href="index-7.htm?page_id=5063&#038;lang=de">erste Adapter</a></li>
		<li id="menu-item-6449" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-6449"><a href="index-8.htm?page_id=6365&#038;lang=de">erste Visualisierung</a></li>
		<li id="menu-item-6826" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-6826"><a href="index-9.htm?page_id=6548&#038;lang=de">Daten loggen</a></li>
		<li id="menu-item-6825" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-6825"><a href="index-10.htm?page_id=6562&#038;lang=de">erster Chart</a></li>
	</ul>
</li>
	<li id="menu-item-2289" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2289"><a href="index-11.htm?page_id=2281&#038;lang=de">für Entwickler</a></li>
</ul>
</li>
<li id="menu-item-2290" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-2290"><a href="index-12.htm?page_id=2279&#038;lang=de">Installation / Start</a>
<ul class="sub-menu">
	<li id="menu-item-2395" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2395"><a href="index-13.htm?page_id=2387&#038;lang=de">Videos</a></li>
	<li id="menu-item-3336" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-3336"><a href="index-14.htm?page_id=3334&#038;lang=de">Plattformen / Betriebssystem</a>
	<ul class="sub-menu">
		<li id="menu-item-8383" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-8383"><a href="index-15.htm?page_id=8323&#038;lang=de">Linux Schnellstart (auch für Raspberry Pi 2/3)</a></li>
		<li id="menu-item-8382" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-8382"><a href="index-16.htm?page_id=8327&#038;lang=de">Schnellstart für Raspberry Pi 1</a></li>
		<li id="menu-item-8429" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-8429"><a href="index-17.htm?page_id=8390&#038;lang=de">Windows</a></li>
		<li id="menu-item-2300" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2300"><a href="index-18.htm?page_id=2293&#038;lang=de">OS X</a></li>
		<li id="menu-item-3337" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3337"><a href="index-19.htm?page_id=2563&#038;lang=de">Downloads für die Installation</a></li>
		<li id="menu-item-5362" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-5362"><a href="index-20.htm?page_id=5358&#038;lang=de">Einrichtung und Installation von ioBroker in VirtualBox</a></li>
		<li id="menu-item-6767" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-6767"><a href="index-21.htm?page_id=6764&#038;lang=de">ioBroker mit Cloud auf QNAP-453a</a></li>
	</ul>
</li>
	<li id="menu-item-2358" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2358"><a href="index-22.htm?page_id=2354&#038;lang=de">Erster Start von ioBroker</a></li>
	<li id="menu-item-8530" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-8530"><a href="index-23.htm?page_id=8511&#038;lang=de">Grundlagen zur Verwendung von Adaptern</a></li>
	<li id="menu-item-3070" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3070"><a href="index-24.htm?page_id=3068&#038;lang=de">Multihost Modus</a></li>
	<li id="menu-item-5890" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-5890"><a href="index-25.htm?page_id=5859&#038;lang=de">Alexa mit ioBroker (Schnellstart)</a></li>
	<li id="menu-item-3964" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3964"><a href="index-26.htm?page_id=3928&#038;lang=de">ioBroker läuft nicht mehr</a></li>
	<li id="menu-item-5532" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-5532"><a href="index-27.htm?page_id=5510&#038;lang=de">Wie das Packet serialport oder ähnlich zu installieren</a></li>
</ul>
</li>
<li id="menu-item-2248" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-2248"><a href="index-28.htm?page_id=2236&#038;lang=de">Adapter</a>
<ul class="sub-menu">
	<li id="menu-item-2249" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2249"><a href="index-29.htm?page_id=2238&#038;lang=de">Allgemein</a></li>
	<li id="menu-item-2429" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-2429"><a href="index-30.htm?page_id=2407&#038;lang=de">Aufbewahrung</a>
	<ul class="sub-menu">
		<li id="menu-item-6988" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-6988"><a href="index-31.htm?page_id=5197&#038;lang=de">Howto – MariaDB auf der Synology DiskStation als Datenbank für Flot</a></li>
	</ul>
</li>
	<li id="menu-item-2430" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2430"><a href="index-32.htm?page_id=2405&#038;lang=de">Hardware</a></li>
	<li id="menu-item-2425" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2425"><a href="index-33.htm?page_id=2417&#038;lang=de">Kommunikation</a></li>
	<li id="menu-item-2424" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2424"><a href="index-34.htm?page_id=2419&#038;lang=de">Medien</a></li>
	<li id="menu-item-2426" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2426"><a href="index-35.htm?page_id=2415&#038;lang=de">Skripte und Logik</a></li>
	<li id="menu-item-2427" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-2427"><a href="index-36.htm?page_id=2412&#038;lang=de">ioBroker.vis</a>
	<ul class="sub-menu">
		<li id="menu-item-5035" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-5035"><a href="index-37.htm?page_id=5026&#038;lang=de">ioBroker.vis App</a></li>
	</ul>
</li>
	<li id="menu-item-2431" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2431"><a href="index-38.htm?page_id=2403&#038;lang=de">Visualisierung</a></li>
	<li id="menu-item-2423" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2423"><a href="index-39.htm?page_id=2421&#038;lang=de">Wartung</a></li>
	<li id="menu-item-2432" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2432"><a href="index-40.htm?page_id=2401&#038;lang=de">Wetter</a></li>
	<li id="menu-item-2428" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2428"><a href="index-41.htm?page_id=2410&#038;lang=de">Zeitplanung</a></li>
</ul>
</li>
<li id="menu-item-2805" class="menu-item menu-item-type-post_type menu-item-object-page current-page-ancestor menu-item-has-children menu-item-2805"><a href="index-42.htm?page_id=2786&#038;lang=de">Scripte</a>
<ul class="sub-menu">
	<li id="menu-item-5401" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-5401"><a href="index-43.htm?page_id=5385&#038;lang=de">Einführung Programmieren mit Javascript</a></li>
	<li id="menu-item-3757" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3757"><a href="index-44.htm?page_id=3526&#038;lang=de">Counter</a></li>
	<li id="menu-item-3758" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3758"><a href="index-45.htm?page_id=3585&#038;lang=de">Heizung / Lüftung</a></li>
	<li id="menu-item-3759" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3759"><a href="index-46.htm?page_id=3587&#038;lang=de">Info / Status</a></li>
	<li id="menu-item-3755" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3755"><a href="index-47.htm?page_id=3589&#038;lang=de">Mediensteuerung</a></li>
	<li id="menu-item-3754" class="menu-item menu-item-type-post_type menu-item-object-page current-page-ancestor menu-item-3754"><a href="index-48.htm?page_id=3593&#038;lang=de">Steuern / Regeln</a></li>
	<li id="menu-item-3756" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3756"><a href="index-49.htm?page_id=3591&#038;lang=de">Zeitsteuerung</a></li>
</ul>
</li>
<li id="menu-item-2288" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-2288"><a href="index-50.htm?page_id=2283&#038;lang=de">Downloads</a>
<ul class="sub-menu">
	<li id="menu-item-2806" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2806"><a href="index-19.htm?page_id=2563&#038;lang=de">Downloads für die Installation</a></li>
	<li id="menu-item-5146" class="menu-item menu-item-type-post_type menu-item-object-page current-page-ancestor menu-item-5146"><a href="index-42.htm?page_id=2786&#038;lang=de">Scripte</a></li>
</ul>
</li>
<li id="menu-item-2287" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-2287"><a href="index-51.htm?page_id=2285&#038;lang=de">Forum / Support</a>
<ul class="sub-menu">
	<li id="menu-item-2379" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2379"><a href="http://forum.iobroker.net">Forum</a></li>
	<li id="menu-item-7324" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-7324"><a href="index-52.htm?page_id=7322&#038;lang=de">Glossar</a></li>
	<li id="menu-item-2396" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2396"><a href="index-53.htm?page_id=2380&#038;lang=de">FAQ</a></li>
	<li id="menu-item-8440" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-8440"><a href="index-54.htm?page_id=8438&#038;lang=de">Troubleshooting (in Arbeit)</a></li>
	<li id="menu-item-2394" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2394"><a href="index-55.htm?page_id=2392&#038;lang=de">Tipps und Tricks</a></li>
</ul>
</li>
</ul></div>			</nav><!-- #site-navigation -->
		</div><!-- #main-menu -->
	</div><!-- #main-menu-container -->
	<div id="sub-menu-container" class="container-full-width">
		<div id="sub-menu" class="container">
			<nav id="sub-navigation" class="site-navigation" role="navigation" itemscope="itemscope" itemtype="http://schema.org/SiteNavigationElement">
						</nav><!-- #site-navigation -->
		</div><!-- #sub-menu -->
	</div><!-- #sub-menu-container -->
        </div>
	<div id="wrapper" class="site-content container-full-width">

	<div id="content" class="content-area">
			<main id="main" class="site-main" role="main">

				<div class="breadcrumb-list" xmlns:v="http://rdf.data-vocabulary.org/#"><span class="breadcrumb" typeof="v:Breadcrumb"><a rel="v:url" property="v:title" href="index.htm?lang=de">Home</a></span> <span class="chevron">&#8250;</span> <span class="breadcrumb" typeof="v:Breadcrumb"><a rel="v:url" property="v:title" href="index-163.htm?page_id=2364&lang=de">Deutsch</a></span> <span class="chevron">&#8250;</span> <span class="breadcrumb" typeof="v:Breadcrumb"><a rel="v:url" property="v:title" href="index-42.htm?page_id=2786&lang=de">Scripte</a></span> <span class="chevron">&#8250;</span> <span class="breadcrumb" typeof="v:Breadcrumb"><a rel="v:url" property="v:title" href="index-48.htm?page_id=3593&lang=de">Steuern / Regeln</a></span> <span class="chevron">&#8250;</span> <span class="breadcrumb-current">Anwesenheitssimulation</span></div>


<article id="post-3684" class="post-3684 page type-page status-publish hentry">


<header class="entry-header">

	</header><!-- .entry-header -->

	<div class="post-entry">
		<h1><span id="Anwesenheitssimulation">Anwesenheitssimulation</span></h1>
<p>Über Zeitprofile  und zufälliger Einschaltzeit und Dauer werden Verbraucher ein- und ausgeschaltet</p>
<div id="toc_container" class="no_bullets"><ul class="toc_list"><li><a href="#Anwesenheitssimulation"><span class="toc_number toc_depth_1">1</span> Anwesenheitssimulation</a><ul><li><a href="#Steckbrief"><span class="toc_number toc_depth_2">1.1</span> Steckbrief</a></li><li><a href="#Script"><span class="toc_number toc_depth_2">1.2</span> Script</a></li></ul></li></ul></div>

<table width="100%">
<tbody>
<tr>
<td style="width: 50%;">
<h2><span id="Steckbrief">Steckbrief</span></h2>
</td>
<td style="width: 50%;"></td>
</tr>
<tr>
<td style="width: 50%;"><strong>Art des Scripts</strong></td>
<td style="width: 50%;">Komplettscript</td>
</tr>
<tr>
<td style="width: 50%;"><strong>Aktuelle Version</strong></td>
<td style="width: 50%;"></td>
</tr>
<tr>
<td style="width: 50%;"><strong>Voraussetzungen</strong></td>
<td style="width: 50%;"></td>
</tr>
<tr>
<td style="width: 50%;"><strong>Entwickler</strong></td>
<td style="width: 50%;">looxer01</td>
</tr>
<tr>
<td style="width: 50%;"><strong>Stichworte</strong></td>
<td style="width: 50%;">Anwesenheit, Einbruchsschutz</td>
</tr>
<tr>
<td style="width: 50%;"><strong>Zusatzinformation</strong></td>
<td style="width: 50%;"></td>
</tr>
<tr>
<td style="width: 50%;"><strong>Forendiskussion</strong></td>
<td style="width: 50%;"><a href="http://forum.iobroker.net/viewtopic.php?f=21&t=1967&sid=11762639a96c9f3e7ae0be4c269bc4bf">zum Forum</a></td>
</tr>
</tbody>
</table>
<h2><span id="Script">Script</span></h2>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5cefa6e1361c1643287236" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">

			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Zeilennummern"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Unformatierte Code-Ansicht"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Zeilenumbruch umschalten"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Code aufklappen"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Code in einem neuen Fenster anzeigen"><div class="crayon-button-icon"></div></div><span class="crayon-language">JavaScript</span></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
//..........Anwesenheitssimulation AWS Version 0.80
//..........Datum: 28.12.2015
//..........Autor: Looxer01
//..........Forum ioBroker
//..........http://forum.iobroker.com/posting.php?mode=post&amp;f=21&amp;sid=b3b2a31dae55081fedaf0ad9c8d74acd
//
//..........Änderungshistorie
//..........Version 0.10 Initial 28.12.2015
//..........Version 0.11 29.12.2015 Einstellungen um Astrozeiten erweitert (noch ohne Funktion)
//.........,Version 0.12 29.12.2015 EVENT Deaktivierung von AWS hinzugefügt: Schreiben Log und loeschen Schedules
//...............................................Aktivierung von AWS hihzugüfügt: Schreiben Log bei Aktivierung
//..........Version 0.13 29.12.2015 das Schreiben des externen Logs optional gemacht - unter Einstellungen auswaehlbar
//..........Version 0.20 29.12.2015 Astrozeit Funktion hinzugefügt. Astrozeit wird je IDGruppe auf true/false gesetzt und overruled die variablen zeit1von,zeit2von,zeit3von,zeit4von,zeit5von
//..........Version 0.30 29.12.2015 Umarbeitung zur Verkürzung des Scripts
//..........Version 0.31 30.12.2015 Fehlerbeseitigung in IDGruppen3 und 4 - einige Code Hygiene Massnahmen
//..................................Umbenennung der IDGruppen mit führend "ID" / Startverzögerungseinstellungen hinzugefügt
//..........Version 0.32 30.12.2015 umgestellt auf setStateDelayed / Startverzögerungsfunktion hinzugefügt.
//..........Version 0.33 31.12.2015 Fehler mit EVAL Funktion gefixt / Fehler mit Startverzoegerung und Einschaltzeiten gefixt
//..................................Funktion Anzahl von Geraete Teilnehmer zur Geraete ID bestimmung hinzugefügt
//..........Version 0.40 01.01.2016 Log-Pfad variablel gemacht // Log-File Format umgearbeitet und Headerline hinzugefügt fuer externes Log. Internes Log ueberarbeitet
//..........Version 0.41 02.01.2016 Funktionen von Baetz zum TimeInRange Check hinzugefuegt. Keine Globale Funktion mehr notwendig. -- Kommentarte ueberarbeitet
//..........Version 0.42 02.01.2015 Herkunftsnachweis für IsTimeInRange Funktion hinzugefuegt
//..................................Fehler zur zufaelligen Geraete Findung behoben. Das letzte Geraet wurde nie ausgewaehlt // Fehler im log "Gearaet wurde nicht eingeschaltet wurde gelogged auch wenn es eingeschaltet wurde"
//..........Version 0.43 03.01.2015 Wenn AWS auf inaktiv gesetzt wird, dann werden alle teilnehmenden Geraete ausgeschaltet -  Dokumentation der Variablen / variablen deklaration nachgeholt fuer zwei Faelle
//..........Version 0.44 04.01.2015 Addieren der Einschaltverzoegerung zur Ausschaltzeit fuer die Ausschaltzeitberechnung // Fixed Fehler doppelte Schaltung fuer STATE geraete
//..........Version 0.45 04.01.2015 weiterer Fehler zur Berechnung der Ausschaltzeit korrigiert
//..........Version 0.50 04.01.2015 Beseitigung unnötiges Coding // Ueberpruefung ob Geraet existiert hinzugefuegt - LogMeldung falls nicht hinzugefuegt. - kein Javascript restart mehr, wenn geraet nicht existiert
//..........Version 0.60 04.01.2015 Ausschalten der Teilnehmer bei Deaktivierung optimiert. Ausschaltung optional gemacht / Astrozeit ueberarbeitet
//..................................Astrozeit auch fuer die bis Zeit hinzugefuegt. Damit lassen sich Schaltungen bis zum Sonnenaufgang umsetzen / weitere Codeoptimierungen
//..........Version 0.61 05.01.2015 Beim  Ausschalten Verzoegerung zwischen Schaltvorgange eingebaut  / Codeiptimierung bei den Gruppen Schedules / Fehler bei der  GrpZufAnz und StartDelay beseitigt fuer Gruppen 2-5
//..........Version 0.65 06.01.2015 Reaktion bei bereits eigneschalteten Lampen variabel gemacht / Codeoptimierungen / ID fuer AWS-Aktiv ist jetzt variabel
//..........Version 0.70 26.01.2015 SetStateDelayed ist jetzt in javascript gefixt ab JS version 1.1.2 - Das Loeschen von Ein/Auschaltplanungen wird jetzt mit dem neuen Befehl clearStateDelayed gemacht
//..................................Vorläufig wurde das Merken der letzten Aktion geloescht, da es keine Verwendung im Moment hat
//..........Version 0.75 27.01.2015 Fehler beim Loeschen von Ein/Auschaltplanungen behoben - Es wurde nicht geloescht, wenn Verbraucher eingeschaltet bleiben sollen
//..........Version 0.80 28.04.2016 Fehler mit der Astrozeit, wenn die BisZeit &lt; ist als die Astrozeit(von) beseitigt


//// Das Script wird aktiviert, wenn das Flag "Anwesenheitssteuerung gesetzt wird"
// HIER Einstellungen vornehmen............................................................................................


// Einstellungen der Aktivzeiten je IDGruppe von bis
var zeit1von = "17:00:00";  //Aktivzeit von IDGruppe1
var zeit1bis = "21:30:00";  //Aktivzeit bis IDGruppe1

var zeit2von = "20:15:00";  //Aktivzeit von IDGruppe2
var zeit2bis = "23:30:00";  //Aktivzeit bis IDGruppe2

var zeit3von = "23:30:00";  //Aktivzeit von IDGruppe3
var zeit3bis = "01:00:00";  //Aktivzeit bis IDGruppe3

var zeit4von = "20:00:00";  //Aktivzeit von IDGruppe4
var zeit4bis = "03:00:00";  //Aktivzeit bis IDGruppe4

var zeit5von = "19:00:00";  //Aktivzeit von IDGruppe5
var zeit5bis = "23:00:00";  //Aktivzeit bis IDGruppe5

// Wenn Astrozeit auf true steht, dann wird die vonZeit durch die Astrozeit übersteuert
var vonAstro1 = true ;  // die zeit1von wird ersetzt durch die Astrozeit - wenn auf night - setting ist optional true = Verwendung der Astrozeit - IDGruppe1
var vonAstro2 = false ;  // die zeit1von wird ersetzt durch die Astrozeit - wenn auf night - setting ist optional true = Verwendung der Astrozeit - IDGruppe2
var vonAstro3 = false ;  // die zeit1von wird ersetzt durch die Astrozeit - wenn auf night - setting ist optional true = Verwendung der Astrozeit - IDGruppe3
var vonAstro4 = false ;  // die zeit1von wird ersetzt durch die Astrozeit - wenn auf night - setting ist optional true = Verwendung der Astrozeit - IDGruppe4
var vonAstro5 = false ;  // die zeit1von wird ersetzt durch die Astrozeit - wenn auf night - setting ist optional true = Verwendung der Astrozeit - IDGruppe5



// Wenn bis Astrozeit auf true steht, dann wird die bisZeit durch die Astrozeit übersteuert
var bisAstro1 = false ;  // die zeit1von wird ersetzt durch die Astrozeit -  setting ist optional true = Verwendung der Astrozeit - IDGruppe1
var bisAstro2 = false ;  // die zeit1von wird ersetzt durch die Astrozeit - setting ist optional true = Verwendung der Astrozeit - IDGruppe2
var bisAstro3 = false ;  // die zeit1von wird ersetzt durch die Astrozeit - setting ist optional true = Verwendung der Astrozeit - IDGruppe3
var bisAstro4 = false ;  // die zeit1von wird ersetzt durch die Astrozeit - setting ist optional true = Verwendung der Astrozeit - IDGruppe4
var bisAstro5 = false ;  // die zeit1von wird ersetzt durch die Astrozeit - setting ist optional true = Verwendung der Astrozeit - IDGruppe5


// Einstellungen der zufaelligen Einschaltdauer je IDGruppe von bis
var ein1von = 1;   // Minuten IDGruppe1 von
var ein1bis = 10;   // Minuten IDGruppe1 bis
var ein2von = 10;   // Minuten IDGruppe2 von
var ein2bis = 30;   // Minuten IDGruppe2 bis
var ein3von = 5;   // Minuten IDGruppe3 von
var ein3bis = 20;   // Minuten IDGruppe3 bis
var ein4von = 20;   // Minuten IDGruppe4 von
var ein4bis = 45;   // Minuten IDGruppe4 bis
var ein5von = 10;   // Minuten IDGruppe5 von
var ein5bis = 30;   // Minuten IDGruppe5 bis


// Einstellung je Gruppe für die  maximale  Startverzögerung in Minuten
// bei 0 = keine Startverzögerung - bei z.B. 10 = Startverzögerung zwischen 0 und 10 in Minuten
//
var StartDelay1 = 1;   // Maximale Startverzoegerung Gruppe1
var StartDelay2 = 5;   // Maximale Startverzoegerung Gruppe2
var StartDelay3 = 5;   // Maximale Startverzoegerung Gruppe3
var StartDelay4 = 5;   // Maximale Startverzoegerung Gruppe4
var StartDelay5 = 0;   // Maximale Startverzoegerung Gruppe5




// Einstellung Check-schedule  - Voreinstellung z.B. alle 30  Minuten je IDGruppe - Damit wird je Lauf nach Zufaelligkeit je ein Geraet der IDGruppe eingeschaltet
var cron1 = 2;  // checks alle x Minuten für IDGruppe1
var cron2 = 2; //  checks alle x Minuten für IDGruppe2
var cron3 = 5; //  checks alle x Minuten für IDGruppe3
var cron4 = 5; //  checks alle x Minuten für IDGruppe4
var cron5 = 0; //  checks alle x Minuten für IDGruppe5



// Einstellung teilnehmende Homematic Geräte je IDGruppe maximal 5 - Eingabe der Homematic ID
var     IDGruppe11 = "hm-rpc.0.XXXXXXXXXX.1.LEVEL";  // Licht Wohnzimmer Esstisch Deckenlampe
var     IDGruppe12 = "hm-rpc.0.XXXXXXXXXX.1.STATE";  // Licht Terrassentuere
var     IDGruppe13 = "hm-rpc.0.XXXXXXXXXX.1.STATE";  // Licht Wohnzimmer Esstisch Stehlampe
var     IDGruppe14 = "hm-rpc.0.XXXXXXXXXX.1.STATE";  // Licht Kinderbad
var     IDGruppe15 = "hm-rpc.0.XXXXXXXXXX.1.STATE";  // Licht Hobbyraum
var     Grp1ZufAnz = 5;              // Anzahl der Geräte zur zufälligen Bestimmung des Geraetes

var     IDGruppe21 = "hm-rpc.0.XXXXXXXXXX.1.LEVEL";  // Licht Wohnzimmer Esstisch Deckenlampe
var     IDGruppe22 = "hm-rpc.0.XXXXXXXXXX.1.STATE";  // Licht Terrassentuere
var     IDGruppe23 = "hm-rpc.0.XXXXXXXXXX.1.STATE";  // Licht Wohnzimmer Esstisch Stehlampe
var     IDGruppe24 = "  ";
var     IDGruppe25 = "  ";
var     Grp2ZufAnz = 3;              // Anzahl der Geräte zur zufälligen Bestimmung des Geraetes


var     IDGruppe31 =  "hm-rpc.0.XXXXXXXXXX.1.STATE";  // Licht Flur oben Wand;
var     IDGruppe32 =  "hm-rpc.0.XXXXXXXXXX.1.STATE";  // Licht Flur oben unten;
var     IDGruppe33 =  "hm-rpc.0.XXXXXXXXXX.1.STATE";  // Licht Kinderbad
var     IDGruppe34 = "  ";
var     IDGruppe35 = "  ";
var     Grp3ZufAnz = 5;              // Anzahl der Geräte zur zufälligen Bestimmung des Geraetes


var     IDGruppe41 = "hm-rpc.0.XXXXXXXXXX.4.STATE"; // Licht aussen Steinterrasse
var     IDGruppe42 = "hm-rpc.0.XXXXXXXXXX.2.STATE";  // Licht aussen Kugeln
var     IDGruppe43 = "hm-rpc.0.XXXXXXXXXX.1.STATE"; // Licht Schwimmbad Nebenlicht;
var     IDGruppe44 = "  ";
var     IDGruppe45 = "  ";
var     Grp4ZufAnz = 3;              // Anzahl der Geräte zur zufälligen Bestimmung des Geraetes


var     IDGruppe51 = "  ";
var     IDGruppe52 = "  ";
var     IDGruppe53 = "  ";
var     IDGruppe54 = "  ";
var     IDGruppe55 = "  ";
var     Grp5ZufAnz = 5;              // Anzahl der Geräte zur zufälligen Bestimmung des Geraetes


var logflag = true;     // wenn auf true dann wird das logging in Datei /opt/iobroker/iobroker-data/AWSLog.csv eingeschaltet bei false vice versa

var ausflag = false;     // Wenn AWS deaktiviert wird, dann werden alle Teilnehmer ausgeschaltet


// Ende Einstellungen .......................................................................................................



// Experten-Einstellungen .......................................................................................................

createState('Anwesenheitssteuerung.AWSAktiv',true);
var IDAWSaktiv = "javascript.0.Anwesenheitssteuerung.AWSAktiv";     // in den objekten angelegte variable zur Bestimmung ob AWS aktiv ist - Kann auch ausgetauscht werden durch eine andere
var LogPath = "/opt/iobroker/iobroker-data/AWSLog.csv";             // Pfad und Dateiname des externen Logs
var IgnoreWhenOn = false;                                           // bei true: Ignoriert den Schaltvorgang, wenn das Geraet bereits eingeschaltet war

// Ende Experten-Einstellungen .......................................................................................................


var fs = require('fs');                     // enable write fuer externes log
var cron1job = "*/"+cron1+" * * * *";       // CRON pattern aufgrund der Vorgabe in den Einstellungen
var cron2job = "*/"+cron2+" * * * *";       // CRON pattern aufgrund der Vorgabe in den Einstellungen
var cron3job = "*/"+cron3+" * * * *";       // CRON pattern aufgrund der Vorgabe in den Einstellungen
var cron4job = "*/"+cron4+" * * * *";       // CRON pattern aufgrund der Vorgabe in den Einstellungen
var cron5job = "*/"+cron5+" * * * *";       // CRON pattern aufgrund der Vorgabe in den Einstellungen
var x = 0;                                  // Geraetenummer der Gruppe, die zufaellig ausgewaehlt wurde
var y = 0;                                  //  Einschaltzdauer aufgrund der Zufallszahl in Millisekunden
var z = 0;                                  // Einschaltverzögerung aufgrund der Zufallszahl
var string = " ";                           // Logstring
var logtext=" " ;                           // Kommentar im log
var objIDGruppe = " ";                      // uebergabe an Funktion der IDGruppe zum Schalten des Geraetes
var SpaceChk = new RegExp(/\s/);            // pattern um zu pruefen ob eine IDGruppe blanks enthaelt


// Execute IDGruppe1
//-------------------------------------------------------------------------------------------------------------------------------------------------------
schedule(cron1job, function() {
if  (getState(IDAWSaktiv).val === true) {     // AWS aktiv ?
    zeit1von = astrojetzt(zeit1von,zeit1bis,"von",vonAstro1,bisAstro1);             // endif - setzen der abweichenden von-Zeit falls Astro aktiv
    zeit1bis = astrojetzt(zeit1von,zeit1bis,"bis",vonAstro1,bisAstro1);             // endif - setzen der abweichenden bis-Zeit falls Astro aktiv
//    if (vonAstro1 === true) {   zeit1von = astrojetzt(zeit1von,"von");   }          // endif - setzen der abweichenden von-Zeit falls Astro aktiv
//    if (bisAstro1 === true) {   zeit1bis = astrojetzt(zeit1bis,"bis");   }          // endif - setzen der abweichenden bis-Zeit falls Astro aktiv
    if(isTimeInRange(zeit1von, zeit1bis)) {                                         // ist die "von"-Zeit innerhalb des aktuellen Zeitfensters ?
log("astrozeit1von  gesetzt von " + zeit1von + " bis " + zeit1bis ,"info");
        x = zufall(1,Grp1ZufAnz,x);                                                 // Ermittlung zufaelliges Geraet zum enschalten
        z = zufall(0,StartDelay1*60,y)*1000;                                        // Ermittlung der Einschaltverzögerung aufgrund der Zufallszahl
        y = zufall(ein1von*60,ein1bis*60,y)*1000;                                   // Ermittlung der Einschaltzdauer aufgrund der Zufallszahl in Millisekunden
        var IDGruppe = "IDGruppe1" + x;                                             // Ermittlung Gruppenname z.B. IDGruppe11
        if (x &lt;= 5 &amp;&amp; GeraetExists(IDGruppe)) {    AWSSchaltung(IDGruppe,y,z);  }   // Geraetenummer muss 1 - 5 sein, dass Geraet muss existieren dann schalten
    } // Ende Zeitcheck
}  // Endeif für AWS-Aktivflag check
}); // end schedule IDGruppe1


// Execute IDGruppe2
//-------------------------------------------------------------------------------------------------------------------------------------------------------
schedule(cron2job, function() {
if  (getState(IDAWSaktiv).val === true) {     // AWS aktiv ?
    zeit2von = astrojetzt(zeit2von,zeit2bis,"von",vonAstro2,bisAstro2);             // endif - setzen der abweichenden von-Zeit falls Astro aktiv
    zeit2bis = astrojetzt(zeit2von,zeit2bis,"bis",vonAstro2,bisAstro2);             // endif - setzen der abweichenden bis-Zeit falls Astro aktiv
//    if (vonAstro2 === true) {   zeit2von = astrojetzt(zeit2von,"von");   }          // endif - setzen der abweichenden von-Zeit falls Astro aktiv
//    if (bisAstro2 === true) {   zeit2bis = astrojetzt(zeit2bis,"bis");   }          // endif - setzen der abweichenden bis-Zeit falls Astro aktiv
    if(isTimeInRange(zeit2von, zeit2bis)) {                                         // ist die "von"-Zeit innerhalb des aktuellen Zeitfensters ?
        x = zufall(1,Grp2ZufAnz,x);                                                 // Ermittlung zufaelliges Geraet zum enschalten
        z = zufall(0,StartDelay2*60,y)*1000;                                        // Ermittlung der Einschaltverzögerung aufgrund der Zufallszahl
        y = zufall(ein2von*60,ein2bis*60,y)*1000;                                   // Ermittlung der Einschaltzdauer aufgrund der Zufallszahl in Millisekunden
        var IDGruppe = "IDGruppe2" + x;                                             // Ermittlung Gruppenname z.B. IDGruppe21
        if (x &lt;= 5 &amp;&amp; GeraetExists(IDGruppe)) {    AWSSchaltung(IDGruppe,y,z);  }   // Geraetenummer muss 1 - 5 sein, dass Geraet muss existieren dann schalten
    } // Ende Zeitcheck
}  // Endeif für AWS-Aktivflag check
}); // end schedule IDGruppe2


// Execute IDGruppe3
//-------------------------------------------------------------------------------------------------------------------------------------------------------
schedule(cron3job, function() {
if  (getState(IDAWSaktiv).val === true) {     // AWS aktiv ?
    zeit3von = astrojetzt(zeit3von,zeit3bis,"von",vonAstro3,bisAstro3);             // endif - setzen der abweichenden von-Zeit falls Astro aktiv
    zeit3bis = astrojetzt(zeit3von,zeit3bis,"bis",vonAstro3,bisAstro3);             // endif - setzen der abweichenden bis-Zeit falls Astro aktiv
//    if (vonAstro3 === true) {   zeit3von = astrojetzt(zeit3von,"von");   }          // endif - setzen der abweichenden von-Zeit falls Astro aktiv
//    if (bisAstro3 === true) {   zeit3bis = astrojetzt(zeit3bis,"bis");   }          // endif - setzen der abweichenden bis-Zeit falls Astro aktiv
    if(isTimeInRange(zeit3von, zeit3bis)) {                                         // ist die "von"-Zeit innerhalb des aktuellen Zeitfensters ?
        x = zufall(1,Grp3ZufAnz,x);                                                 // Ermittlung zufaelliges Geraet zum enschalten
        z = zufall(0,StartDelay3*60,y)*1000;                                        // Ermittlung der Einschaltverzögerung aufgrund der Zufallszahl
        y = zufall(ein3von*60,ein3bis*60,y)*1000;                                   // Ermittlung der Einschaltzdauer aufgrund der Zufallszahl in Millisekunden
        var IDGruppe = "IDGruppe3" + x;                                             // Ermittlung Gruppenname z.B. IDGruppe31
        if (x &lt;= 5 &amp;&amp; GeraetExists(IDGruppe)) {    AWSSchaltung(IDGruppe,y,z);  }   // Geraetenummer muss 1 - 5 sein, dass Geraet muss existieren dann schalten
  } // Ende Zeitcheck
}  // Endeif für AWS-Aktivflag check
}); // end schedule IDGruppe3



// Execute IDGruppe4
//-------------------------------------------------------------------------------------------------------------------------------------------------------
schedule(cron4job, function() {
if  (getState(IDAWSaktiv).val === true) {     // AWS aktiv ?
    zeit4von = astrojetzt(zeit4von,zeit4bis,"von",vonAstro4,bisAstro4);             // endif - setzen der abweichenden von-Zeit falls Astro aktiv
    zeit4bis = astrojetzt(zeit4von,zeit4bis,"bis",vonAstro4,bisAstro4);             // endif - setzen der abweichenden bis-Zeit falls Astro aktiv
//    if (vonAstro4 === true) {   zeit4von = astrojetzt(zeit4von,"von");   }          // endif - setzen der abweichenden von-Zeit falls Astro aktiv
//    if (bisAstro4 === true) {   zeit1bis = astrojetzt(zeit4bis,"bis");   }          // endif - setzen der abweichenden bis-Zeit falls Astro aktiv
    if(isTimeInRange(zeit4von, zeit4bis)) {                                         // ist die "von"-Zeit innerhalb des aktuellen Zeitfensters ?
        x = zufall(1,Grp4ZufAnz,x);                                                 // Ermittlung zufaelliges Geraet zum enschalten
        z = zufall(0,StartDelay4*60,y)*1000;                                        // Ermittlung der Einschaltverzögerung aufgrund der Zufallszahl
        y = zufall(ein4von*60,ein4bis*60,y)*1000;                                   // Ermittlung der Einschaltzdauer aufgrund der Zufallszahl in Millisekunden
        var IDGruppe = "IDGruppe4" + x;                                             // Ermittlung Gruppenname z.B. IDGruppe41
        if (x &lt;= 5 &amp;&amp; GeraetExists(IDGruppe)) {    AWSSchaltung(IDGruppe,y,z);  }   // Geraetenummer muss 1 - 5 sein, dass Geraet muss existieren dann schalten
    } // Ende Zeitcheck
}  // Endeif für AWS-Aktivflag check
}); // end schedule IDGruppe4



// Execute IDGruppe5
//-------------------------------------------------------------------------------------------------------------------------------------------------------
schedule(cron5job, function() {
if  (getState(IDAWSaktiv).val === true) {     // AWS aktiv ?
    zeit5von = astrojetzt(zeit5von,zeit5bis,"von",vonAstro5,bisAstro5);             // endif - setzen der abweichenden von-Zeit falls Astro aktiv
    zeit5bis = astrojetzt(zeit5von,zeit5bis,"bis",vonAstro5,bisAstro5);             // endif - setzen der abweichenden bis-Zeit falls Astro aktiv
//    if (vonAstro5 === true) {   zeit5von = astrojetzt(zeit5von,"von");   }          // endif - setzen der abweichenden von-Zeit falls Astro aktiv
//    if (bisAstro5 === true) {   zeit5bis = astrojetzt(zeit5bis,"bis");   }          // endif - setzen der abweichenden bis-Zeit falls Astro aktiv
    if(isTimeInRange(zeit5von, zeit5bis)) {                                         // ist die "von"-Zeit innerhalb des aktuellen Zeitfensters ?
        x = zufall(1,Grp5ZufAnz,x);                                                 // Ermittlung zufaelliges Geraet zum enschalten
        z = zufall(0,StartDelay5*60,y)*1000;                                        // Ermittlung der Einschaltverzögerung aufgrund der Zufallszahl
        y = zufall(ein5von*60,ein5bis*60,y)*1000;                                   // Ermittlung der Einschaltzdauer aufgrund der Zufallszahl in Millisekunden
        var IDGruppe = "IDGruppe5" + x;                                             // Ermittlung Gruppenname z.B. IDGruppe51
        if (x &lt;= 5 &amp;&amp; GeraetExists(IDGruppe)) {    AWSSchaltung(IDGruppe,y,z);  }   // Geraetenummer muss 1 - 5 sein, dass Geraet muss existieren dann schalten
  } // Ende Zeitcheck
}  // Endeif für AWS-Aktivflag check
}); // end schedule IDGruppe5




// ------------------------Ruecksetzen der Timeouts /Ausschalten der teilnehmenden Geraete, wenn AWS-Aktiv auf false gesetzt wird--------------

on({id: IDAWSaktiv, val: false }, function(obj)      // Event:  wenn AWS Flag auf nicht aktiv gesetzt wurde
{

    var objGruppeI =    " ";    // Baut die IDGruppe zusammen Position 1
    var objGruppeJ =    " ";    // Baut die IDGruppe zusammen Position 2
    var countobj   =    0;      //counter fuer Verzoegerungen zwischen den Ausschaltungen

    for (i = 1; i &lt;= 5; i++) {                                                              // Loop fuer die Gruppen-Nr
        objGruppeI = "IDGruppe" + i;                                                        // Loop fuer die Geraete Nr der IDGruppen 1 - 5
           for (j = 1; j &lt;= 5; j++) {                                                       // Loop Position 2 /1 - 5 )
                objGruppeJ = objGruppeI + j ;                                               // Ermittlung Position 2
                if (SpaceChk.test(eval(objGruppeJ))) {                                      // Check for  blanks
                } else {                                                                    // keine blanks
                       if (GeraetExists(objGruppeJ) === true) {                             // Gibt es das Geraet
                           clearStateDelayed(eval(objGruppeJ));                             // Alle Pläne der Gruppe loeschen
                           if (ausflag) {                                                   // sollen die Teilnehmer ausgeschaltet werden ?
                            setStateDelayed(eval(objGruppeJ), false, countobj);             // ausschalten mit je  300 millisekunden wartezeit
                           }                                                                // endif check ob Geraete ausgeschaltet werden sollen
                           countobj = countobj + 300;                                       // alle 300 millisekunden schalten
                       } // endif fuer Geraetecheck und switch off
                } // end Space Check
          } //  Ende Position 2 Loop
    }  // Ende Position 1 Loop
    log("EVENT  AWS deaktiviert Der schedule zur geplanten Ausschaltung von Geraeten wurde zurueckgesetzt " ,"info");
    string = ";;;;;;;AWS wurde deaktiviert - Der schedule zur geplanten Ausschaltung von Geraeten wurde zurueckgesetzt";           // bereite LOG vor

    writelog(string);                                                                           // schreibe LOG in Datei

}); // ende on id


// ------------------------schreibe Log wenn AWS aktiviert wurde--------------------------------------

on({id: IDAWSaktiv, val: true }, function(obj)       // Event:  wenn AWS Flag auf nicht aktiv gesetzt wurde
{

log("EVENT  AWS wurde aktiviert " ,"info");
string = ";;;;;;;AWS wurde aktiviert";                                                  // bereite LOG vor
writelog(string);


}); // ende on id

// ------------------------ F U N K T I O N E N -------------------------------------------------------

//-----------------------------------------------------------------------------------------------------
// Diese Funktion schaltet die IDGruppenmitglieder der gerade zu berabeitenden IDGruppe
//-----------------------------------------------------------------------------------------------------
function AWSSchaltung(objIDGruppe,y,z) {
    logtext = " ";
    if (eval(objIDGruppe).match('STATE')) {                                             // ist es ein STATE Geraet ?
       if  (getState(eval(objIDGruppe)).val === false ) {                               // nur wenn noch nicht eingeschaltet
          setStateDelayed(eval(objIDGruppe), true,  z);                                 // Licht an in z millisekunden
//          var timer = setTimeout(function (){
//             setState(eval(objIDGruppe),0);   }, z+y);                                //Licht aus in y millisekunden   (Einschaltverzoegerung plus Einschaltdauer)
               setStateDelayed(eval(objIDGruppe), false, z+y, false);                   //Licht aus in z+y millisekunden   (Einschaltverzoegerung plus Einschaltdauer)
       } else {                                                                         // else - Geraet ist schon eingeschaltet
           if (IgnoreWhenOn) {                                                          //keine  Reaktion wenn Geraet bereits eingeschaltet war
                logtext = "keine Aktion - Geraet war bereits eingeschaltet";
           } else {                                                                     // else - es soll uebersteuert werden mit den neuen werten
                z = 0;                                                                  // Einschaltverzoegerung setzen auf Null
                setStateDelayed(eval(objIDGruppe), false, z+y, true );                  //Licht aus in z+y millisekunden   (Einschaltverzoegerung plus Einschaltdauer) ohne Einschaltverzoegerung
                logtext = "Geraet war bereits eingeschaltet -- uebersteuert - ohne Einschaltverzoegerung -  alter schedule geloescht- ";
           }          // endeif IgnoreWhenOn
       }        // Ende IF fuer Check ob bereits eingeschaltet
    } // Ende IF für STATE Geraete

    if (eval(objIDGruppe).match('LEVEL')) {                                             // ist es ein LEVEL Geraet ?
       if  (getState(eval(objIDGruppe)).val === 0 ) {                                   // nur wenn noch nicht eingeschaltet
            setStateDelayed(eval(objIDGruppe), 100,  z);                                // Licht an in z millisekunden
//            var timer = setTimeout(function (){
//                setState(eval(objIDGruppe),0);   }, z+y);                             //Licht aus in y millisekunden   (Einschaltverzoegerung plus Einschaltdauer)
            setStateDelayed(eval(objIDGruppe), 0, z+y, false);                          //Licht aus in y millisekunden   (Einschaltverzoegerung plus Einschaltdauer)
       } else {                                                                         // else - Geraet ist schon eingeschaltet
        if (IgnoreWhenOn) {                                                             //keine  Reaktion wenn Geraet bereits eingeschaltet war
                logtext = "keine Aktion - Geraet war bereits eingeschaltet";
           } else {                                                                     // else - es soll uebersteuert werden mit den neuen werten
                z = 0;                                                                  // Einschaltverzoegerung setzen auf Null
                 setStateDelayed(eval(objIDGruppe), 0, z+y, true);                      //Licht aus in z+y millisekunden   (Einschaltverzoegerung plus Einschaltdauer) ohne Einschaltverzoegerung
                 logtext = "Geraet war bereits eingeschaltet -- uebersteuert - ohne Einschaltverzoegerung -  alter schedule geloescht- ";
           }    // endeif IgnoreWhenOn
        }     // Ende IF fuer Check ob bereits eingeschaltet
     } // Ende IF für LEVEL Geraete

        var GeraeteName = getObject(eval(objIDGruppe)).common.name;                         // Name des Geraetes in Klartext
        var now =    new Date();                                                            // store current date and time
        var currSec = now.getTime();                                                        // millisekunden seit 01.01.1970 /current millisecs
        var berechnEinZeit = millisecToDate( currSec + z);                                  // millisecs in Zeit umrechnen fuer die Einschaltzeit
        var berechnAusZeit = millisecToDate(currSec + z + y);                               // millisecs in Zeit umrechnen fuer die Ausschaltzeit
//        WriteArray(objIDGruppe,timer, currSec + z, currSec + z + y)                                             // Merken des Schaltvorganges
        string = objIDGruppe+";" + eval(objIDGruppe) +";" +  GeraeteName + ";" + z/1000 + ";" +y/1000+";"+berechnEinZeit + ";" + berechnAusZeit + ";" + logtext;     // bereite LOG vor
        log("EVENT " + objIDGruppe + "; " + eval(objIDGruppe) + "; " +  GeraeteName + "; " + z/1000 + "; " + y/1000 + "; " + berechnEinZeit + "; " + berechnAusZeit + "; " + logtext, "info");  //Log schreiben
        writelog(string);                                                               // schreibe LOG in Datei
        Logtext = " ";

} // Ende Funktion

//-----------------------------------------------------------------------------------------------------
// Funktion merkt sich den letzten Schaltvorgang zum Loeschen des Schedules und auch zur Optimierung der Schaltvorgaenge
//-----------------------------------------------------------------------------------------------------
//function WriteArray(objIDGruppe,timer,von,bis) {
//   log("EVENT " + objIDGruppe + "; " +  von + "; " + bis + "; " , "info");

 //for (var i = 0; i &lt;=25; ++i) {
//      if ( Gruppen[i][0].slice(6,8) === objIDGruppe.slice(8,10)) {    // Identifikation der Objektgruppe
//            Gruppen[i][1] = timer; Gruppen[i][2] = von;  Gruppen[i][3] = bis;       // Schreibe Werte in Array
 //         log("Arrayliste "+ Gruppen[i][0] + " " + " " + Gruppen[i][0].slice(7,2) + objIDGruppe.slice(9,2) ),"info";
//            log("Arrayliste "+ Gruppen[i][0] + " " + Gruppen[i][1] + " " + Gruppen[i][2] + " " + Gruppen[i][3] ),"info";
//
//      }   // ende if - Identifikation der Gruppe

//    } // ende for Schleife
//return Gruppen;
// } // ende Funktion

//-----------------------------------------------------------------------------------------------------
// Funktion zur Bestimmung einer ganzzahligen Zufallszahl innerhalb vorgegebener min/max Werte
//-----------------------------------------------------------------------------------------------------
function zufall(low,high,back) {
  back = Math.floor(Math.random() * (high - low + 1)) + low;
//  log("EVENT  AWS Zufallszahlen - low = " + low + "high = " + high + " back = " + back ,"info");
 return back;
} // ende Funktion


//-----------------------------------------------------------------------------------------------------
// Funktion zur Ueberpruefung ob die angegebenen Geraete exisiteren
//-----------------------------------------------------------------------------------------------------
function GeraetExists(objGruppe) {
back = false;

if (SpaceChk.test(eval(objGruppe))) {                     // objIDGruppe darf kein space enthalten  // ist ein Geraet ueberhaupt zugeordnet ?
//         log("Geraet hat kein assignment - Gruppe " + objGruppe, "info");
         return back;
 } //  endif IDGruppe hat kein assignment

if  (getState(eval(objGruppe)))   { // Existiert das Geraet ?
         back = true;
    } else {     log("Geraet existiert nicht - bitte in den Einstellungen ueberpruefen - Gruppe " + objGruppe, "info");
} //  endif check on Geraet exists

return back;
} // ende Funktion


//-----------------------------------------------------------------------------------------------------
// Funktion schreibt einen Logeintrag in das Filesystem und auch in das interne Log-System
//-----------------------------------------------------------------------------------------------------
function writelog(string) {
    if (logflag === true) {
     // Zerlege Datum und Zeit in Variable
        var now =    new Date(); // store current date and time
        var year =   now.getFullYear();
        var month =  addZero(now.getMonth()+1);
        var day =    addZero(now.getDate());
        var Thour =  addZero(now.getHours());
        var Tmin =   addZero(now.getMinutes());
        var Tsec =   addZero(now.getSeconds());
        var logdate = day + '.' + month + '.' + year;
        var logtime = Thour + ':' + Tmin + ':' + Tsec;



if (fs.existsSync(LogPath)) {
    fs.appendFileSync(LogPath, logdate+" ;"+logtime+" ;"+string + "\n");       // Füge Satz in Datei ein
    } else {
        log("Logfile nicht gefunden - wird angelegt"), "info";
        var headerLine= "Datum;Uhrzeit;Gruppe;GeraeteID;Geraetebezeichnung;Einschaltverzoegerung;LaengeSchaltzeit;ZeitEin berechnet;ZeitAus berechnet;Kommentar"
        fs.appendFileSync(LogPath, headerLine + "\n");       // Füge Satz in Datei ein
        fs.appendFileSync(LogPath, logdate+" ;"+logtime+" ;"+string + "\n");       // Füge Satz in Datei ein
      }  // endif Filecheck
    } ; // Ende check on logflag
} // Ende Funktion


//------------------------Ermittlung der Zeit wenn Astrozeit eingeschaltet wird
// Funktion bestimmt ob die Astrozeit die Gültigkeitsbereich der VonZeit overruled
//-----------------------------------------------------------------------------------------------------

function astrojetzt(zeitvon, zeitbis, abschnitt,astrovon,astrobis) {
var sunriseEnd = getAstroDate("sunriseEnd");                                    // Ende der Nacht nach Astro
var sunsetStart = getAstroDate("sunsetStart");                                  // Ende des Tages nach Astro
var nowvon;                                                                     // fuer astrozeitrechnung vonzeit
var nowbis;                                                                     // fuer astrozeitrechnung vonzeit
var Thour;                                                                      // Stunde mit führender Null
var Tmin;                                                                       // Minute mit führender Null
var lower;                                                                      // Zeitvergleich
var upper;                                                                      // Zeitvergleih
var zeit;                                                                       // Rueckgabezeit


if(astrovon === true ) {                                                        // Astrozeit gesetzt
    nowvon      =  new Date(sunsetStart);                                       // store sunset date and time vonZeit
    Thour       =  addZero(nowvon.getHours());                                  // extract hour
    Tmin        =  addZero(nowvon.getMinutes());                                // extract min
    zeitvon = Thour + ':' + Tmin + ':' + "00";                                  // Zusammensetzen der Zeit in Format hh:mm:ss
}

if(astrobis === true ) {                                                        // Astrozeit gesetzt
    nowbis      =  new Date(sunriseEnd);                                        // store sunset date and time vonZeit
    Thour       =  addZero(nowbis.getHours());                                  // extract hour
    Tmin        =  addZero(nowbis.getMinutes());                                // extract min
    zeitbis = Thour + ':' + Tmin + ':' + "00";                                  // Zusammensetzen der Zeit in Format hh:mm:ss
}


if (abschnitt === "von") {                                                      // wenn vonZeit berechnet wird
    lower = addTime(zeitvon);                                                   // vonZeit muss kleiner sein als bis Zeit
    upper = addTime(zeitbis);                                                   // bisZeit muss groesser sein als vonZeit
    zeit = zeitvon;
    if (upper &lt; lower &amp;&amp; astrovon === true &amp;&amp; astrobis === false) {             // Sonderfall wenn die biszeit kleiner als die astrozeit ist
        zeit = zeitbis;                                                         // wenn die Astrozeit groesser wird als die BisZeit, dann ist vonZeit = bisZeit
    }
}

if (abschnitt === "bis") {                                                      // nur Rückgabewert setzen
    zeit = zeitbis;
}

return zeit;                                                                    // fertig

} // Ende Funktion




//-----------------------------------------------------------------------------------------------------
// Funktion zur Erzeugung von führenden Nullen für das Datum Format
//-----------------------------------------------------------------------------------------------------
function addZero(i) {
    if (i &lt; 10) {
        i = "0" + i;
    }
    return i;
} // Ende Funktion

 //-----------------------------------------------------------------------------------------------------
// Funktion Millisekunden in Datum/Zeit  umrechnen /wird für logging benoetigt
//-----------------------------------------------------------------------------------------------------
function millisecToDate(millisec) {
        var time = new Date(millisec);
        var Thour =  addZero(time.getHours());
        var Tmin =   addZero(time.getMinutes());
        var Tsec =   addZero(time.getSeconds());
        datum = Thour + ':' + Tmin + ':' + Tsec;
       return datum;
} // Ende Funktion

//-----------------------------------------------------------------------------------------------------
// 3 Funktionen zum Zeitrange check zur Prüfung ob die Schaltungszeiten erreicht sind
// Autor ist Beatz - uebernommen aus:
// viewtopic.php?f=21&amp;t=1072&amp;p=11167&amp;hilit=isTimeInRange&amp;sid=4dca8ea2c7f9337cdc73a1a9e4824a40#p11167
//-----------------------------------------------------------------------------------------------------
function isTimeInRange(strLower, strUpper) {
    var now = new Date();
    var lower = addTime(strLower);
    var upper = addTime(strUpper);
    var inRange = false;
    if (upper &gt; lower) {
        // opens and closes in same day
        inRange = (now &gt;= lower &amp;&amp; now &lt;= upper) ? true : false;
    } else {
        // closes in the following day
        inRange = (now &gt;= upper &amp;&amp; now &lt;= lower) ? false : true;
    }
    return inRange;
}

function currentDate() {
    var d = new Date();
    return new Date(d.getFullYear(), d.getMonth(), d.getDate());
}
function addTime(strTime) {
    var time = strTime.split(':');
    var d = currentDate();
    d.setHours(time[0]);
    d.setMinutes(time[1]);
    d.setSeconds(time[2]);
    return d;
}</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-2">2</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-4">4</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-6">6</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-8">8</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-10">10</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-12">12</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-14">14</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-16">16</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-18">18</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-20">20</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-22">22</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-24">24</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-26">26</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-28">28</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-30">30</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-32">32</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-34">34</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-36">36</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-38">38</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-40">40</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-41">41</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-42">42</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-43">43</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-44">44</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-45">45</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-46">46</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-47">47</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-48">48</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-49">49</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-50">50</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-51">51</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-52">52</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-53">53</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-54">54</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-55">55</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-56">56</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-57">57</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-58">58</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-59">59</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-60">60</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-61">61</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-62">62</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-63">63</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-64">64</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-65">65</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-66">66</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-67">67</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-68">68</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-69">69</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-70">70</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-71">71</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-72">72</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-73">73</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-74">74</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-75">75</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-76">76</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-77">77</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-78">78</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-79">79</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-80">80</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-81">81</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-82">82</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-83">83</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-84">84</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-85">85</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-86">86</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-87">87</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-88">88</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-89">89</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-90">90</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-91">91</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-92">92</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-93">93</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-94">94</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-95">95</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-96">96</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-97">97</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-98">98</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-99">99</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-100">100</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-101">101</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-102">102</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-103">103</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-104">104</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-105">105</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-106">106</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-107">107</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-108">108</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-109">109</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-110">110</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-111">111</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-112">112</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-113">113</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-114">114</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-115">115</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-116">116</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-117">117</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-118">118</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-119">119</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-120">120</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-121">121</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-122">122</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-123">123</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-124">124</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-125">125</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-126">126</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-127">127</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-128">128</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-129">129</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-130">130</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-131">131</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-132">132</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-133">133</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-134">134</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-135">135</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-136">136</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-137">137</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-138">138</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-139">139</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-140">140</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-141">141</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-142">142</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-143">143</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-144">144</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-145">145</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-146">146</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-147">147</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-148">148</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-149">149</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-150">150</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-151">151</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-152">152</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-153">153</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-154">154</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-155">155</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-156">156</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-157">157</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-158">158</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-159">159</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-160">160</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-161">161</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-162">162</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-163">163</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-164">164</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-165">165</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-166">166</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-167">167</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-168">168</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-169">169</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-170">170</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-171">171</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-172">172</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-173">173</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-174">174</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-175">175</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-176">176</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-177">177</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-178">178</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-179">179</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-180">180</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-181">181</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-182">182</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-183">183</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-184">184</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-185">185</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-186">186</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-187">187</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-188">188</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-189">189</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-190">190</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-191">191</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-192">192</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-193">193</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-194">194</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-195">195</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-196">196</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-197">197</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-198">198</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-199">199</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-200">200</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-201">201</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-202">202</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-203">203</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-204">204</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-205">205</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-206">206</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-207">207</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-208">208</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-209">209</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-210">210</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-211">211</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-212">212</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-213">213</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-214">214</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-215">215</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-216">216</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-217">217</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-218">218</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-219">219</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-220">220</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-221">221</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-222">222</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-223">223</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-224">224</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-225">225</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-226">226</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-227">227</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-228">228</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-229">229</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-230">230</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-231">231</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-232">232</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-233">233</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-234">234</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-235">235</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-236">236</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-237">237</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-238">238</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-239">239</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-240">240</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-241">241</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-242">242</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-243">243</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-244">244</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-245">245</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-246">246</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-247">247</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-248">248</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-249">249</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-250">250</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-251">251</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-252">252</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-253">253</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-254">254</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-255">255</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-256">256</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-257">257</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-258">258</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-259">259</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-260">260</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-261">261</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-262">262</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-263">263</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-264">264</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-265">265</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-266">266</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-267">267</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-268">268</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-269">269</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-270">270</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-271">271</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-272">272</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-273">273</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-274">274</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-275">275</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-276">276</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-277">277</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-278">278</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-279">279</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-280">280</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-281">281</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-282">282</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-283">283</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-284">284</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-285">285</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-286">286</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-287">287</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-288">288</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-289">289</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-290">290</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-291">291</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-292">292</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-293">293</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-294">294</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-295">295</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-296">296</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-297">297</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-298">298</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-299">299</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-300">300</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-301">301</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-302">302</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-303">303</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-304">304</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-305">305</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-306">306</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-307">307</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-308">308</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-309">309</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-310">310</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-311">311</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-312">312</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-313">313</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-314">314</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-315">315</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-316">316</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-317">317</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-318">318</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-319">319</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-320">320</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-321">321</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-322">322</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-323">323</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-324">324</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-325">325</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-326">326</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-327">327</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-328">328</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-329">329</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-330">330</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-331">331</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-332">332</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-333">333</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-334">334</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-335">335</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-336">336</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-337">337</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-338">338</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-339">339</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-340">340</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-341">341</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-342">342</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-343">343</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-344">344</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-345">345</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-346">346</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-347">347</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-348">348</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-349">349</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-350">350</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-351">351</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-352">352</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-353">353</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-354">354</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-355">355</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-356">356</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-357">357</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-358">358</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-359">359</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-360">360</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-361">361</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-362">362</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-363">363</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-364">364</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-365">365</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-366">366</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-367">367</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-368">368</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-369">369</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-370">370</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-371">371</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-372">372</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-373">373</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-374">374</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-375">375</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-376">376</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-377">377</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-378">378</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-379">379</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-380">380</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-381">381</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-382">382</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-383">383</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-384">384</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-385">385</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-386">386</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-387">387</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-388">388</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-389">389</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-390">390</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-391">391</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-392">392</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-393">393</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-394">394</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-395">395</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-396">396</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-397">397</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-398">398</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-399">399</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-400">400</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-401">401</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-402">402</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-403">403</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-404">404</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-405">405</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-406">406</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-407">407</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-408">408</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-409">409</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-410">410</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-411">411</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-412">412</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-413">413</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-414">414</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-415">415</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-416">416</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-417">417</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-418">418</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-419">419</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-420">420</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-421">421</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-422">422</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-423">423</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-424">424</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-425">425</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-426">426</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-427">427</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-428">428</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-429">429</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-430">430</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-431">431</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-432">432</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-433">433</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-434">434</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-435">435</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-436">436</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-437">437</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-438">438</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-439">439</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-440">440</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-441">441</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-442">442</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-443">443</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-444">444</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-445">445</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-446">446</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-447">447</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-448">448</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-449">449</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-450">450</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-451">451</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-452">452</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-453">453</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-454">454</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-455">455</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-456">456</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-457">457</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-458">458</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-459">459</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-460">460</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-461">461</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-462">462</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-463">463</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-464">464</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-465">465</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-466">466</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-467">467</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-468">468</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-469">469</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-470">470</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-471">471</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-472">472</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-473">473</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-474">474</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-475">475</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-476">476</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-477">477</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-478">478</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-479">479</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-480">480</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-481">481</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-482">482</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-483">483</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-484">484</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-485">485</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-486">486</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-487">487</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-488">488</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-489">489</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-490">490</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-491">491</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-492">492</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-493">493</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-494">494</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-495">495</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-496">496</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-497">497</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-498">498</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-499">499</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-500">500</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-501">501</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-502">502</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-503">503</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-504">504</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-505">505</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-506">506</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-507">507</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-508">508</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-509">509</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-510">510</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-511">511</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-512">512</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-513">513</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-514">514</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-515">515</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-516">516</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-517">517</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-518">518</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-519">519</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-520">520</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-521">521</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-522">522</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-523">523</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-524">524</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-525">525</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-526">526</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-527">527</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-528">528</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-529">529</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-530">530</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-531">531</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-532">532</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-533">533</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-534">534</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-535">535</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-536">536</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-537">537</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-538">538</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-539">539</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-540">540</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-541">541</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-542">542</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-543">543</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-544">544</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-545">545</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-546">546</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-547">547</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-548">548</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-549">549</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-550">550</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-551">551</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-552">552</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-553">553</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-554">554</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-555">555</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-556">556</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-557">557</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-558">558</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-559">559</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-560">560</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-561">561</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-562">562</div><div class="crayon-num" data-line="crayon-5cefa6e1361c1643287236-563">563</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e1361c1643287236-564">564</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-1"><span class="crayon-c">//..........Anwesenheitssimulation AWS Version 0.80</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-2"><span class="crayon-c">//..........Datum: 28.12.2015</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-3"><span class="crayon-c">//..........Autor: Looxer01</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-4"><span class="crayon-c">//..........Forum ioBroker</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-5"><span class="crayon-c">//..........http://forum.iobroker.com/posting.php?mode=post&amp;f=21&amp;sid=b3b2a31dae55081fedaf0ad9c8d74acd</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-6"><span class="crayon-c">//</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-7"><span class="crayon-c">//..........Änderungshistorie</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-8"><span class="crayon-c">//..........Version 0.10 Initial 28.12.2015</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-9"><span class="crayon-c">//..........Version 0.11 29.12.2015 Einstellungen um Astrozeiten erweitert (noch ohne Funktion)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-10"><span class="crayon-c">//.........,Version 0.12 29.12.2015 EVENT Deaktivierung von AWS hinzugefügt: Schreiben Log und loeschen Schedules</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-11"><span class="crayon-c">//...............................................Aktivierung von AWS hihzugüfügt: Schreiben Log bei Aktivierung</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-12"><span class="crayon-c">//..........Version 0.13 29.12.2015 das Schreiben des externen Logs optional gemacht - unter Einstellungen auswaehlbar</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-13"><span class="crayon-c">//..........Version 0.20 29.12.2015 Astrozeit Funktion hinzugefügt. Astrozeit wird je IDGruppe auf true/false gesetzt und overruled die variablen zeit1von,zeit2von,zeit3von,zeit4von,zeit5von</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-14"><span class="crayon-c">//..........Version 0.30 29.12.2015 Umarbeitung zur Verkürzung des Scripts</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-15"><span class="crayon-c">//..........Version 0.31 30.12.2015 Fehlerbeseitigung in IDGruppen3 und 4 - einige Code Hygiene Massnahmen</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-16"><span class="crayon-c">//..................................Umbenennung der IDGruppen mit führend "ID" / Startverzögerungseinstellungen hinzugefügt</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-17"><span class="crayon-c">//..........Version 0.32 30.12.2015 umgestellt auf setStateDelayed / Startverzögerungsfunktion hinzugefügt.</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-18"><span class="crayon-c">//..........Version 0.33 31.12.2015 Fehler mit EVAL Funktion gefixt / Fehler mit Startverzoegerung und Einschaltzeiten gefixt</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-19"><span class="crayon-c">//..................................Funktion Anzahl von Geraete Teilnehmer zur Geraete ID bestimmung hinzugefügt</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-20"><span class="crayon-c">//..........Version 0.40 01.01.2016 Log-Pfad variablel gemacht // Log-File Format umgearbeitet und Headerline hinzugefügt fuer externes Log. Internes Log ueberarbeitet</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-21"><span class="crayon-c">//..........Version 0.41 02.01.2016 Funktionen von Baetz zum TimeInRange Check hinzugefuegt. Keine Globale Funktion mehr notwendig. -- Kommentarte ueberarbeitet</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-22"><span class="crayon-c">//..........Version 0.42 02.01.2015 Herkunftsnachweis für IsTimeInRange Funktion hinzugefuegt</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-23"><span class="crayon-c">//..................................Fehler zur zufaelligen Geraete Findung behoben. Das letzte Geraet wurde nie ausgewaehlt // Fehler im log "Gearaet wurde nicht eingeschaltet wurde gelogged auch wenn es eingeschaltet wurde"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-24"><span class="crayon-c">//..........Version 0.43 03.01.2015 Wenn AWS auf inaktiv gesetzt wird, dann werden alle teilnehmenden Geraete ausgeschaltet -&nbsp;&nbsp;Dokumentation der Variablen / variablen deklaration nachgeholt fuer zwei Faelle</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-25"><span class="crayon-c">//..........Version 0.44 04.01.2015 Addieren der Einschaltverzoegerung zur Ausschaltzeit fuer die Ausschaltzeitberechnung // Fixed Fehler doppelte Schaltung fuer STATE geraete</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-26"><span class="crayon-c">//..........Version 0.45 04.01.2015 weiterer Fehler zur Berechnung der Ausschaltzeit korrigiert</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-27"><span class="crayon-c">//..........Version 0.50 04.01.2015 Beseitigung unnötiges Coding // Ueberpruefung ob Geraet existiert hinzugefuegt - LogMeldung falls nicht hinzugefuegt. - kein Javascript restart mehr, wenn geraet nicht existiert</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-28"><span class="crayon-c">//..........Version 0.60 04.01.2015 Ausschalten der Teilnehmer bei Deaktivierung optimiert. Ausschaltung optional gemacht / Astrozeit ueberarbeitet</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-29"><span class="crayon-c">//..................................Astrozeit auch fuer die bis Zeit hinzugefuegt. Damit lassen sich Schaltungen bis zum Sonnenaufgang umsetzen / weitere Codeoptimierungen</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-30"><span class="crayon-c">//..........Version 0.61 05.01.2015 Beim&nbsp;&nbsp;Ausschalten Verzoegerung zwischen Schaltvorgange eingebaut&nbsp;&nbsp;/ Codeiptimierung bei den Gruppen Schedules / Fehler bei der&nbsp;&nbsp;GrpZufAnz und StartDelay beseitigt fuer Gruppen 2-5</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-31"><span class="crayon-c">//..........Version 0.65 06.01.2015 Reaktion bei bereits eigneschalteten Lampen variabel gemacht / Codeoptimierungen / ID fuer AWS-Aktiv ist jetzt variabel</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-32"><span class="crayon-c">//..........Version 0.70 26.01.2015 SetStateDelayed ist jetzt in javascript gefixt ab JS version 1.1.2 - Das Loeschen von Ein/Auschaltplanungen wird jetzt mit dem neuen Befehl clearStateDelayed gemacht</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-33"><span class="crayon-c">//..................................Vorläufig wurde das Merken der letzten Aktion geloescht, da es keine Verwendung im Moment hat</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-34"><span class="crayon-c">//..........Version 0.75 27.01.2015 Fehler beim Loeschen von Ein/Auschaltplanungen behoben - Es wurde nicht geloescht, wenn Verbraucher eingeschaltet bleiben sollen</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-35"><span class="crayon-c">//..........Version 0.80 28.04.2016 Fehler mit der Astrozeit, wenn die BisZeit &lt; ist als die Astrozeit(von) beseitigt</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-36">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-37">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-38"><span class="crayon-c">//// Das Script wird aktiviert, wenn das Flag "Anwesenheitssteuerung gesetzt wird"</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-39"><span class="crayon-c">// HIER Einstellungen vornehmen............................................................................................</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-40">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-41">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-42"><span class="crayon-c">// Einstellungen der Aktivzeiten je IDGruppe von bis</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-43"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-e ">zeit1von</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"17:00:00"</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">//Aktivzeit von IDGruppe1</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-44"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-e ">zeit1bis</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"21:30:00"</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">//Aktivzeit bis IDGruppe1</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-45">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-46"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-e ">zeit2von</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"20:15:00"</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">//Aktivzeit von IDGruppe2</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-47"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-e ">zeit2bis</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"23:30:00"</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">//Aktivzeit bis IDGruppe2</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-48">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-49"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-e ">zeit3von</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"23:30:00"</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">//Aktivzeit von IDGruppe3</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-50"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-e ">zeit3bis</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"01:00:00"</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">//Aktivzeit bis IDGruppe3</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-51">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-52"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-e ">zeit4von</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"20:00:00"</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">//Aktivzeit von IDGruppe4</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-53"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-e ">zeit4bis</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"03:00:00"</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">//Aktivzeit bis IDGruppe4</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-54">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-55"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-e ">zeit5von</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"19:00:00"</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">//Aktivzeit von IDGruppe5</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-56"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-e ">zeit5bis</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"23:00:00"</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">//Aktivzeit bis IDGruppe5</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-57">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-58"><span class="crayon-c">// Wenn Astrozeit auf true steht, dann wird die vonZeit durch die Astrozeit übersteuert</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-59"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">vonAstro1</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-h"> </span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// die zeit1von wird ersetzt durch die Astrozeit - wenn auf night - setting ist optional true = Verwendung der Astrozeit - IDGruppe1</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-60"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">vonAstro2</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-h"> </span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// die zeit1von wird ersetzt durch die Astrozeit - wenn auf night - setting ist optional true = Verwendung der Astrozeit - IDGruppe2</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-61"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">vonAstro3</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-h"> </span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// die zeit1von wird ersetzt durch die Astrozeit - wenn auf night - setting ist optional true = Verwendung der Astrozeit - IDGruppe3</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-62"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">vonAstro4</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-h"> </span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// die zeit1von wird ersetzt durch die Astrozeit - wenn auf night - setting ist optional true = Verwendung der Astrozeit - IDGruppe4</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-63"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">vonAstro5</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-h"> </span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// die zeit1von wird ersetzt durch die Astrozeit - wenn auf night - setting ist optional true = Verwendung der Astrozeit - IDGruppe5</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-64">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-65">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-66">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-67"><span class="crayon-c">// Wenn bis Astrozeit auf true steht, dann wird die bisZeit durch die Astrozeit übersteuert</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-68"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">bisAstro1</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-h"> </span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// die zeit1von wird ersetzt durch die Astrozeit -&nbsp;&nbsp;setting ist optional true = Verwendung der Astrozeit - IDGruppe1</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-69"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">bisAstro2</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-h"> </span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// die zeit1von wird ersetzt durch die Astrozeit - setting ist optional true = Verwendung der Astrozeit - IDGruppe2</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-70"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">bisAstro3</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-h"> </span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// die zeit1von wird ersetzt durch die Astrozeit - setting ist optional true = Verwendung der Astrozeit - IDGruppe3</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-71"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">bisAstro4</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-h"> </span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// die zeit1von wird ersetzt durch die Astrozeit - setting ist optional true = Verwendung der Astrozeit - IDGruppe4</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-72"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">bisAstro5</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-h"> </span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// die zeit1von wird ersetzt durch die Astrozeit - setting ist optional true = Verwendung der Astrozeit - IDGruppe5</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-73">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-74">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-75"><span class="crayon-c">// Einstellungen der zufaelligen Einschaltdauer je IDGruppe von bis</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-76"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">ein1von</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-c">// Minuten IDGruppe1 von</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-77"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">ein1bis</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">10</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-c">// Minuten IDGruppe1 bis</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-78"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">ein2von</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">10</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-c">// Minuten IDGruppe2 von</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-79"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">ein2bis</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">30</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-c">// Minuten IDGruppe2 bis</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-80"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">ein3von</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">5</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-c">// Minuten IDGruppe3 von</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-81"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">ein3bis</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">20</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-c">// Minuten IDGruppe3 bis</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-82"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">ein4von</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">20</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-c">// Minuten IDGruppe4 von</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-83"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">ein4bis</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">45</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-c">// Minuten IDGruppe4 bis</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-84"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">ein5von</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">10</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-c">// Minuten IDGruppe5 von</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-85"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">ein5bis</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">30</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-c">// Minuten IDGruppe5 bis</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-86">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-87">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-88"><span class="crayon-c">// Einstellung je Gruppe für die&nbsp;&nbsp;maximale&nbsp;&nbsp;Startverzögerung in Minuten</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-89"><span class="crayon-c">// bei 0 = keine Startverzögerung - bei z.B. 10 = Startverzögerung zwischen 0 und 10 in Minuten</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-90"><span class="crayon-c">//</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-91"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">StartDelay1</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-c">// Maximale Startverzoegerung Gruppe1</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-92"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">StartDelay2</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">5</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-c">// Maximale Startverzoegerung Gruppe2</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-93"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">StartDelay3</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">5</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-c">// Maximale Startverzoegerung Gruppe3</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-94"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">StartDelay4</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">5</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-c">// Maximale Startverzoegerung Gruppe4</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-95"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">StartDelay5</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-c">// Maximale Startverzoegerung Gruppe5</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-96">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-97">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-98">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-99">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-100"><span class="crayon-c">// Einstellung Check-schedule&nbsp;&nbsp;- Voreinstellung z.B. alle 30&nbsp;&nbsp;Minuten je IDGruppe - Damit wird je Lauf nach Zufaelligkeit je ein Geraet der IDGruppe eingeschaltet</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-101"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">cron1</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">2</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// checks alle x Minuten für IDGruppe1</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-102"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">cron2</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">2</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-c">//&nbsp;&nbsp;checks alle x Minuten für IDGruppe2</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-103"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">cron3</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">5</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-c">//&nbsp;&nbsp;checks alle x Minuten für IDGruppe3</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-104"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">cron4</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">5</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-c">//&nbsp;&nbsp;checks alle x Minuten für IDGruppe4</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-105"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">cron5</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-c">//&nbsp;&nbsp;checks alle x Minuten für IDGruppe5</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-106">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-107">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-108">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-109"><span class="crayon-c">// Einstellung teilnehmende Homematic Geräte je IDGruppe maximal 5 - Eingabe der Homematic ID</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-110"><span class="crayon-t">var</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-e ">IDGruppe11</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"hm-rpc.0.XXXXXXXXXX.1.LEVEL"</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// Licht Wohnzimmer Esstisch Deckenlampe</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-111"><span class="crayon-t">var</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-e ">IDGruppe12</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"hm-rpc.0.XXXXXXXXXX.1.STATE"</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// Licht Terrassentuere</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-112"><span class="crayon-t">var</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-e ">IDGruppe13</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"hm-rpc.0.XXXXXXXXXX.1.STATE"</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// Licht Wohnzimmer Esstisch Stehlampe</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-113"><span class="crayon-t">var</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-e ">IDGruppe14</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"hm-rpc.0.XXXXXXXXXX.1.STATE"</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// Licht Kinderbad</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-114"><span class="crayon-t">var</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-e ">IDGruppe15</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"hm-rpc.0.XXXXXXXXXX.1.STATE"</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// Licht Hobbyraum</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-115"><span class="crayon-t">var</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">Grp1ZufAnz</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">5</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Anzahl der Geräte zur zufälligen Bestimmung des Geraetes </span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-116">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-117"><span class="crayon-t">var</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-e ">IDGruppe21</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"hm-rpc.0.XXXXXXXXXX.1.LEVEL"</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// Licht Wohnzimmer Esstisch Deckenlampe</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-118"><span class="crayon-t">var</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-e ">IDGruppe22</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"hm-rpc.0.XXXXXXXXXX.1.STATE"</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// Licht Terrassentuere</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-119"><span class="crayon-t">var</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-e ">IDGruppe23</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"hm-rpc.0.XXXXXXXXXX.1.STATE"</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// Licht Wohnzimmer Esstisch Stehlampe</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-120"><span class="crayon-t">var</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-e ">IDGruppe24</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"&nbsp;&nbsp;"</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-121"><span class="crayon-t">var</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-e ">IDGruppe25</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"&nbsp;&nbsp;"</span><span class="crayon-sy">;</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-122"><span class="crayon-t">var</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">Grp2ZufAnz</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">3</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Anzahl der Geräte zur zufälligen Bestimmung des Geraetes </span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-123">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-124">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-125"><span class="crayon-t">var</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-e ">IDGruppe31</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-s">"hm-rpc.0.XXXXXXXXXX.1.STATE"</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// Licht Flur oben Wand;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-126"><span class="crayon-t">var</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-e ">IDGruppe32</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-s">"hm-rpc.0.XXXXXXXXXX.1.STATE"</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// Licht Flur oben unten; </span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-127"><span class="crayon-t">var</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-e ">IDGruppe33</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-s">"hm-rpc.0.XXXXXXXXXX.1.STATE"</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// Licht Kinderbad</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-128"><span class="crayon-t">var</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-e ">IDGruppe34</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"&nbsp;&nbsp;"</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-129"><span class="crayon-t">var</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-e ">IDGruppe35</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"&nbsp;&nbsp;"</span><span class="crayon-sy">;</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-130"><span class="crayon-t">var</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">Grp3ZufAnz</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">5</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Anzahl der Geräte zur zufälligen Bestimmung des Geraetes </span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-131">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-132">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-133"><span class="crayon-t">var</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-e ">IDGruppe41</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"hm-rpc.0.XXXXXXXXXX.4.STATE"</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-c">// Licht aussen Steinterrasse</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-134"><span class="crayon-t">var</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-e ">IDGruppe42</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"hm-rpc.0.XXXXXXXXXX.2.STATE"</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// Licht aussen Kugeln </span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-135"><span class="crayon-t">var</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-e ">IDGruppe43</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"hm-rpc.0.XXXXXXXXXX.1.STATE"</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-c">// Licht Schwimmbad Nebenlicht;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-136"><span class="crayon-t">var</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-e ">IDGruppe44</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"&nbsp;&nbsp;"</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-137"><span class="crayon-t">var</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-e ">IDGruppe45</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"&nbsp;&nbsp;"</span><span class="crayon-sy">;</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-138"><span class="crayon-t">var</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">Grp4ZufAnz</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">3</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Anzahl der Geräte zur zufälligen Bestimmung des Geraetes </span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-139">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-140">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-141"><span class="crayon-t">var</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-e ">IDGruppe51</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"&nbsp;&nbsp;"</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-142"><span class="crayon-t">var</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-e ">IDGruppe52</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"&nbsp;&nbsp;"</span><span class="crayon-sy">;</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-143"><span class="crayon-t">var</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-e ">IDGruppe53</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"&nbsp;&nbsp;"</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-144"><span class="crayon-t">var</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-e ">IDGruppe54</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"&nbsp;&nbsp;"</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-145"><span class="crayon-t">var</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-e ">IDGruppe55</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"&nbsp;&nbsp;"</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-146"><span class="crayon-t">var</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">Grp5ZufAnz</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">5</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Anzahl der Geräte zur zufälligen Bestimmung des Geraetes </span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-147">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-148">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-149"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">logflag</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// wenn auf true dann wird das logging in Datei /opt/iobroker/iobroker-data/AWSLog.csv eingeschaltet bei false vice versa</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-150">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-151"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">ausflag</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// Wenn AWS deaktiviert wird, dann werden alle Teilnehmer ausgeschaltet</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-152">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-153">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-154"><span class="crayon-c">// Ende Einstellungen .......................................................................................................</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-155">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-156">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-157">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-158"><span class="crayon-c">// Experten-Einstellungen .......................................................................................................</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-159">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-160"><span class="crayon-e">createState</span><span class="crayon-sy">(</span><span class="crayon-s">'Anwesenheitssteuerung.AWSAktiv'</span><span class="crayon-sy">,</span><span class="crayon-t">true</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-161"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-e ">IDAWSaktiv</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"javascript.0.Anwesenheitssteuerung.AWSAktiv"</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// in den objekten angelegte variable zur Bestimmung ob AWS aktiv ist - Kann auch ausgetauscht werden durch eine andere</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-162"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-e ">LogPath</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"/opt/iobroker/iobroker-data/AWSLog.csv"</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// Pfad und Dateiname des externen Logs</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-163"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">IgnoreWhenOn</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// bei true: Ignoriert den Schaltvorgang, wenn das Geraet bereits eingeschaltet war</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-164">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-165"><span class="crayon-c">// Ende Experten-Einstellungen .......................................................................................................</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-166">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-167">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-168"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">fs</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">require</span><span class="crayon-sy">(</span><span class="crayon-s">'fs'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// enable write fuer externes log</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-169"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-e ">cron1job</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"*/"</span><span class="crayon-o">+</span><span class="crayon-v">cron1</span><span class="crayon-o">+</span><span class="crayon-s">" * * * *"</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// CRON pattern aufgrund der Vorgabe in den Einstellungen</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-170"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-e ">cron2job</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"*/"</span><span class="crayon-o">+</span><span class="crayon-v">cron2</span><span class="crayon-o">+</span><span class="crayon-s">" * * * *"</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// CRON pattern aufgrund der Vorgabe in den Einstellungen</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-171"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-e ">cron3job</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"*/"</span><span class="crayon-o">+</span><span class="crayon-v">cron3</span><span class="crayon-o">+</span><span class="crayon-s">" * * * *"</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// CRON pattern aufgrund der Vorgabe in den Einstellungen</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-172"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-e ">cron4job</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"*/"</span><span class="crayon-o">+</span><span class="crayon-v">cron4</span><span class="crayon-o">+</span><span class="crayon-s">" * * * *"</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// CRON pattern aufgrund der Vorgabe in den Einstellungen</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-173"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-e ">cron5job</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"*/"</span><span class="crayon-o">+</span><span class="crayon-v">cron5</span><span class="crayon-o">+</span><span class="crayon-s">" * * * *"</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// CRON pattern aufgrund der Vorgabe in den Einstellungen</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-174"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">x</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Geraetenummer der Gruppe, die zufaellig ausgewaehlt wurde</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-175"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">y</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//&nbsp;&nbsp;Einschaltzdauer aufgrund der Zufallszahl in Millisekunden</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-176"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">z</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Einschaltverzögerung aufgrund der Zufallszahl</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-177"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-t">string</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">" "</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// Logstring</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-178"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-e ">logtext</span><span class="crayon-o">=</span><span class="crayon-s">" "</span><span class="crayon-h"> </span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// Kommentar im log</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-179"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-e ">objIDGruppe</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">" "</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// uebergabe an Funktion der IDGruppe zum Schalten des Geraetes</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-180"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">SpaceChk</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-r">RegExp</span><span class="crayon-sy">(</span><span class="crayon-o">/</span><span class="crayon-sy">\</span><span class="crayon-v">s</span><span class="crayon-o">/</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// pattern um zu pruefen ob eine IDGruppe blanks enthaelt</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-181">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-182">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-183"><span class="crayon-c">// Execute IDGruppe1&nbsp;&nbsp;&nbsp;&nbsp; </span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-184"><span class="crayon-c">//-------------------------------------------------------------------------------------------------------------------------------------------------------</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-185"><span class="crayon-e">schedule</span><span class="crayon-sy">(</span><span class="crayon-v">cron1job</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-186"><span class="crayon-st">if</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">(</span><span class="crayon-e">getState</span><span class="crayon-sy">(</span><span class="crayon-v">IDAWSaktiv</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-v">val</span><span class="crayon-h"> </span><span class="crayon-o">===</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// AWS aktiv ?</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-187"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">zeit1von</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">astrojetzt</span><span class="crayon-sy">(</span><span class="crayon-v">zeit1von</span><span class="crayon-sy">,</span><span class="crayon-v">zeit1bis</span><span class="crayon-sy">,</span><span class="crayon-s">"von"</span><span class="crayon-sy">,</span><span class="crayon-v">vonAstro1</span><span class="crayon-sy">,</span><span class="crayon-v">bisAstro1</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// endif - setzen der abweichenden von-Zeit falls Astro aktiv</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-188"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">zeit1bis</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">astrojetzt</span><span class="crayon-sy">(</span><span class="crayon-v">zeit1von</span><span class="crayon-sy">,</span><span class="crayon-v">zeit1bis</span><span class="crayon-sy">,</span><span class="crayon-s">"bis"</span><span class="crayon-sy">,</span><span class="crayon-v">vonAstro1</span><span class="crayon-sy">,</span><span class="crayon-v">bisAstro1</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// endif - setzen der abweichenden bis-Zeit falls Astro aktiv</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-189"><span class="crayon-c">//&nbsp;&nbsp;&nbsp;&nbsp;if (vonAstro1 === true) {&nbsp;&nbsp; zeit1von = astrojetzt(zeit1von,"von");&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// endif - setzen der abweichenden von-Zeit falls Astro aktiv</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-190"><span class="crayon-c">//&nbsp;&nbsp;&nbsp;&nbsp;if (bisAstro1 === true) {&nbsp;&nbsp; zeit1bis = astrojetzt(zeit1bis,"bis");&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// endif - setzen der abweichenden bis-Zeit falls Astro aktiv</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-191"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-e">isTimeInRange</span><span class="crayon-sy">(</span><span class="crayon-v">zeit1von</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">zeit1bis</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// ist die "von"-Zeit innerhalb des aktuellen Zeitfensters ?</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-192"><span class="crayon-e">log</span><span class="crayon-sy">(</span><span class="crayon-s">"astrozeit1von&nbsp;&nbsp;gesetzt von "</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">zeit1von</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">" bis "</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-i">zeit1bis</span><span class="crayon-h"> </span><span class="crayon-sy">,</span><span class="crayon-s">"info"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-193"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">x</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">zufall</span><span class="crayon-sy">(</span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-v">Grp1ZufAnz</span><span class="crayon-sy">,</span><span class="crayon-v">x</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// Ermittlung zufaelliges Geraet zum enschalten</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-194"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">z</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">zufall</span><span class="crayon-sy">(</span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-v">StartDelay1</span><span class="crayon-o">*</span><span class="crayon-cn">60</span><span class="crayon-sy">,</span><span class="crayon-v">y</span><span class="crayon-sy">)</span><span class="crayon-o">*</span><span class="crayon-cn">1000</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Ermittlung der Einschaltverzögerung aufgrund der Zufallszahl</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-195"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">y</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">zufall</span><span class="crayon-sy">(</span><span class="crayon-v">ein1von</span><span class="crayon-o">*</span><span class="crayon-cn">60</span><span class="crayon-sy">,</span><span class="crayon-v">ein1bis</span><span class="crayon-o">*</span><span class="crayon-cn">60</span><span class="crayon-sy">,</span><span class="crayon-v">y</span><span class="crayon-sy">)</span><span class="crayon-o">*</span><span class="crayon-cn">1000</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// Ermittlung der Einschaltzdauer aufgrund der Zufallszahl in Millisekunden</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-196"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-e ">IDGruppe</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"IDGruppe1"</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">x</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// Ermittlung Gruppenname z.B. IDGruppe11</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-197"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">x</span><span class="crayon-h"> </span><span class="crayon-o">&lt;=</span><span class="crayon-h"> </span><span class="crayon-cn">5</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-e">GeraetExists</span><span class="crayon-sy">(</span><span class="crayon-v">IDGruppe</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">AWSSchaltung</span><span class="crayon-sy">(</span><span class="crayon-v">IDGruppe</span><span class="crayon-sy">,</span><span class="crayon-v">y</span><span class="crayon-sy">,</span><span class="crayon-v">z</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-c">// Geraetenummer muss 1 - 5 sein, dass Geraet muss existieren dann schalten</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-198"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-c">// Ende Zeitcheck</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-199"><span class="crayon-sy">}</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// Endeif für AWS-Aktivflag check&nbsp;&nbsp; </span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-200"><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-c">// end schedule IDGruppe1</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-201">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-202">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-203"><span class="crayon-c">// Execute IDGruppe2&nbsp;&nbsp;&nbsp;&nbsp; </span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-204"><span class="crayon-c">//-------------------------------------------------------------------------------------------------------------------------------------------------------</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-205"><span class="crayon-e">schedule</span><span class="crayon-sy">(</span><span class="crayon-v">cron2job</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-206"><span class="crayon-st">if</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">(</span><span class="crayon-e">getState</span><span class="crayon-sy">(</span><span class="crayon-v">IDAWSaktiv</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-v">val</span><span class="crayon-h"> </span><span class="crayon-o">===</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// AWS aktiv ?</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-207"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">zeit2von</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">astrojetzt</span><span class="crayon-sy">(</span><span class="crayon-v">zeit2von</span><span class="crayon-sy">,</span><span class="crayon-v">zeit2bis</span><span class="crayon-sy">,</span><span class="crayon-s">"von"</span><span class="crayon-sy">,</span><span class="crayon-v">vonAstro2</span><span class="crayon-sy">,</span><span class="crayon-v">bisAstro2</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// endif - setzen der abweichenden von-Zeit falls Astro aktiv</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-208"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">zeit2bis</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">astrojetzt</span><span class="crayon-sy">(</span><span class="crayon-v">zeit2von</span><span class="crayon-sy">,</span><span class="crayon-v">zeit2bis</span><span class="crayon-sy">,</span><span class="crayon-s">"bis"</span><span class="crayon-sy">,</span><span class="crayon-v">vonAstro2</span><span class="crayon-sy">,</span><span class="crayon-v">bisAstro2</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// endif - setzen der abweichenden bis-Zeit falls Astro aktiv</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-209"><span class="crayon-c">//&nbsp;&nbsp;&nbsp;&nbsp;if (vonAstro2 === true) {&nbsp;&nbsp; zeit2von = astrojetzt(zeit2von,"von");&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// endif - setzen der abweichenden von-Zeit falls Astro aktiv</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-210"><span class="crayon-c">//&nbsp;&nbsp;&nbsp;&nbsp;if (bisAstro2 === true) {&nbsp;&nbsp; zeit2bis = astrojetzt(zeit2bis,"bis");&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// endif - setzen der abweichenden bis-Zeit falls Astro aktiv</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-211"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-e">isTimeInRange</span><span class="crayon-sy">(</span><span class="crayon-v">zeit2von</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">zeit2bis</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// ist die "von"-Zeit innerhalb des aktuellen Zeitfensters ?</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-212"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">x</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">zufall</span><span class="crayon-sy">(</span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-v">Grp2ZufAnz</span><span class="crayon-sy">,</span><span class="crayon-v">x</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// Ermittlung zufaelliges Geraet zum enschalten</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-213"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">z</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">zufall</span><span class="crayon-sy">(</span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-v">StartDelay2</span><span class="crayon-o">*</span><span class="crayon-cn">60</span><span class="crayon-sy">,</span><span class="crayon-v">y</span><span class="crayon-sy">)</span><span class="crayon-o">*</span><span class="crayon-cn">1000</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Ermittlung der Einschaltverzögerung aufgrund der Zufallszahl</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-214"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">y</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">zufall</span><span class="crayon-sy">(</span><span class="crayon-v">ein2von</span><span class="crayon-o">*</span><span class="crayon-cn">60</span><span class="crayon-sy">,</span><span class="crayon-v">ein2bis</span><span class="crayon-o">*</span><span class="crayon-cn">60</span><span class="crayon-sy">,</span><span class="crayon-v">y</span><span class="crayon-sy">)</span><span class="crayon-o">*</span><span class="crayon-cn">1000</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// Ermittlung der Einschaltzdauer aufgrund der Zufallszahl in Millisekunden</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-215"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-e ">IDGruppe</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"IDGruppe2"</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">x</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// Ermittlung Gruppenname z.B. IDGruppe21</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-216"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">x</span><span class="crayon-h"> </span><span class="crayon-o">&lt;=</span><span class="crayon-h"> </span><span class="crayon-cn">5</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-e">GeraetExists</span><span class="crayon-sy">(</span><span class="crayon-v">IDGruppe</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">AWSSchaltung</span><span class="crayon-sy">(</span><span class="crayon-v">IDGruppe</span><span class="crayon-sy">,</span><span class="crayon-v">y</span><span class="crayon-sy">,</span><span class="crayon-v">z</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-c">// Geraetenummer muss 1 - 5 sein, dass Geraet muss existieren dann schalten</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-217"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-c">// Ende Zeitcheck</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-218"><span class="crayon-sy">}</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// Endeif für AWS-Aktivflag check&nbsp;&nbsp; </span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-219"><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-c">// end schedule IDGruppe2</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-220">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-221">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-222"><span class="crayon-c">// Execute IDGruppe3&nbsp;&nbsp; </span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-223"><span class="crayon-c">//-------------------------------------------------------------------------------------------------------------------------------------------------------</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-224"><span class="crayon-e">schedule</span><span class="crayon-sy">(</span><span class="crayon-v">cron3job</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-225"><span class="crayon-st">if</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">(</span><span class="crayon-e">getState</span><span class="crayon-sy">(</span><span class="crayon-v">IDAWSaktiv</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-v">val</span><span class="crayon-h"> </span><span class="crayon-o">===</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// AWS aktiv ?</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-226"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">zeit3von</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">astrojetzt</span><span class="crayon-sy">(</span><span class="crayon-v">zeit3von</span><span class="crayon-sy">,</span><span class="crayon-v">zeit3bis</span><span class="crayon-sy">,</span><span class="crayon-s">"von"</span><span class="crayon-sy">,</span><span class="crayon-v">vonAstro3</span><span class="crayon-sy">,</span><span class="crayon-v">bisAstro3</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// endif - setzen der abweichenden von-Zeit falls Astro aktiv</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-227"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">zeit3bis</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">astrojetzt</span><span class="crayon-sy">(</span><span class="crayon-v">zeit3von</span><span class="crayon-sy">,</span><span class="crayon-v">zeit3bis</span><span class="crayon-sy">,</span><span class="crayon-s">"bis"</span><span class="crayon-sy">,</span><span class="crayon-v">vonAstro3</span><span class="crayon-sy">,</span><span class="crayon-v">bisAstro3</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// endif - setzen der abweichenden bis-Zeit falls Astro aktiv</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-228"><span class="crayon-c">//&nbsp;&nbsp;&nbsp;&nbsp;if (vonAstro3 === true) {&nbsp;&nbsp; zeit3von = astrojetzt(zeit3von,"von");&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// endif - setzen der abweichenden von-Zeit falls Astro aktiv</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-229"><span class="crayon-c">//&nbsp;&nbsp;&nbsp;&nbsp;if (bisAstro3 === true) {&nbsp;&nbsp; zeit3bis = astrojetzt(zeit3bis,"bis");&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// endif - setzen der abweichenden bis-Zeit falls Astro aktiv</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-230"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-e">isTimeInRange</span><span class="crayon-sy">(</span><span class="crayon-v">zeit3von</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">zeit3bis</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// ist die "von"-Zeit innerhalb des aktuellen Zeitfensters ?</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-231"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">x</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">zufall</span><span class="crayon-sy">(</span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-v">Grp3ZufAnz</span><span class="crayon-sy">,</span><span class="crayon-v">x</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// Ermittlung zufaelliges Geraet zum enschalten</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-232"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">z</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">zufall</span><span class="crayon-sy">(</span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-v">StartDelay3</span><span class="crayon-o">*</span><span class="crayon-cn">60</span><span class="crayon-sy">,</span><span class="crayon-v">y</span><span class="crayon-sy">)</span><span class="crayon-o">*</span><span class="crayon-cn">1000</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Ermittlung der Einschaltverzögerung aufgrund der Zufallszahl</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-233"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">y</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">zufall</span><span class="crayon-sy">(</span><span class="crayon-v">ein3von</span><span class="crayon-o">*</span><span class="crayon-cn">60</span><span class="crayon-sy">,</span><span class="crayon-v">ein3bis</span><span class="crayon-o">*</span><span class="crayon-cn">60</span><span class="crayon-sy">,</span><span class="crayon-v">y</span><span class="crayon-sy">)</span><span class="crayon-o">*</span><span class="crayon-cn">1000</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// Ermittlung der Einschaltzdauer aufgrund der Zufallszahl in Millisekunden</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-234"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-e ">IDGruppe</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"IDGruppe3"</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">x</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// Ermittlung Gruppenname z.B. IDGruppe31</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-235"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">x</span><span class="crayon-h"> </span><span class="crayon-o">&lt;=</span><span class="crayon-h"> </span><span class="crayon-cn">5</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-e">GeraetExists</span><span class="crayon-sy">(</span><span class="crayon-v">IDGruppe</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">AWSSchaltung</span><span class="crayon-sy">(</span><span class="crayon-v">IDGruppe</span><span class="crayon-sy">,</span><span class="crayon-v">y</span><span class="crayon-sy">,</span><span class="crayon-v">z</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-c">// Geraetenummer muss 1 - 5 sein, dass Geraet muss existieren dann schalten</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-236"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-c">// Ende Zeitcheck</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-237"><span class="crayon-sy">}</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// Endeif für AWS-Aktivflag check&nbsp;&nbsp; </span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-238"><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-c">// end schedule IDGruppe3</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-239">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-240">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-241">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-242"><span class="crayon-c">// Execute IDGruppe4&nbsp;&nbsp; </span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-243"><span class="crayon-c">//-------------------------------------------------------------------------------------------------------------------------------------------------------</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-244"><span class="crayon-e">schedule</span><span class="crayon-sy">(</span><span class="crayon-v">cron4job</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-245"><span class="crayon-st">if</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">(</span><span class="crayon-e">getState</span><span class="crayon-sy">(</span><span class="crayon-v">IDAWSaktiv</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-v">val</span><span class="crayon-h"> </span><span class="crayon-o">===</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// AWS aktiv ?</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-246"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">zeit4von</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">astrojetzt</span><span class="crayon-sy">(</span><span class="crayon-v">zeit4von</span><span class="crayon-sy">,</span><span class="crayon-v">zeit4bis</span><span class="crayon-sy">,</span><span class="crayon-s">"von"</span><span class="crayon-sy">,</span><span class="crayon-v">vonAstro4</span><span class="crayon-sy">,</span><span class="crayon-v">bisAstro4</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// endif - setzen der abweichenden von-Zeit falls Astro aktiv</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-247"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">zeit4bis</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">astrojetzt</span><span class="crayon-sy">(</span><span class="crayon-v">zeit4von</span><span class="crayon-sy">,</span><span class="crayon-v">zeit4bis</span><span class="crayon-sy">,</span><span class="crayon-s">"bis"</span><span class="crayon-sy">,</span><span class="crayon-v">vonAstro4</span><span class="crayon-sy">,</span><span class="crayon-v">bisAstro4</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// endif - setzen der abweichenden bis-Zeit falls Astro aktiv</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-248"><span class="crayon-c">//&nbsp;&nbsp;&nbsp;&nbsp;if (vonAstro4 === true) {&nbsp;&nbsp; zeit4von = astrojetzt(zeit4von,"von");&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// endif - setzen der abweichenden von-Zeit falls Astro aktiv</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-249"><span class="crayon-c">//&nbsp;&nbsp;&nbsp;&nbsp;if (bisAstro4 === true) {&nbsp;&nbsp; zeit1bis = astrojetzt(zeit4bis,"bis");&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// endif - setzen der abweichenden bis-Zeit falls Astro aktiv</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-250"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-e">isTimeInRange</span><span class="crayon-sy">(</span><span class="crayon-v">zeit4von</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">zeit4bis</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// ist die "von"-Zeit innerhalb des aktuellen Zeitfensters ?</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-251"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">x</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">zufall</span><span class="crayon-sy">(</span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-v">Grp4ZufAnz</span><span class="crayon-sy">,</span><span class="crayon-v">x</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// Ermittlung zufaelliges Geraet zum enschalten</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-252"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">z</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">zufall</span><span class="crayon-sy">(</span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-v">StartDelay4</span><span class="crayon-o">*</span><span class="crayon-cn">60</span><span class="crayon-sy">,</span><span class="crayon-v">y</span><span class="crayon-sy">)</span><span class="crayon-o">*</span><span class="crayon-cn">1000</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Ermittlung der Einschaltverzögerung aufgrund der Zufallszahl</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-253"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">y</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">zufall</span><span class="crayon-sy">(</span><span class="crayon-v">ein4von</span><span class="crayon-o">*</span><span class="crayon-cn">60</span><span class="crayon-sy">,</span><span class="crayon-v">ein4bis</span><span class="crayon-o">*</span><span class="crayon-cn">60</span><span class="crayon-sy">,</span><span class="crayon-v">y</span><span class="crayon-sy">)</span><span class="crayon-o">*</span><span class="crayon-cn">1000</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// Ermittlung der Einschaltzdauer aufgrund der Zufallszahl in Millisekunden</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-254"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-e ">IDGruppe</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"IDGruppe4"</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">x</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// Ermittlung Gruppenname z.B. IDGruppe41</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-255"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">x</span><span class="crayon-h"> </span><span class="crayon-o">&lt;=</span><span class="crayon-h"> </span><span class="crayon-cn">5</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-e">GeraetExists</span><span class="crayon-sy">(</span><span class="crayon-v">IDGruppe</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">AWSSchaltung</span><span class="crayon-sy">(</span><span class="crayon-v">IDGruppe</span><span class="crayon-sy">,</span><span class="crayon-v">y</span><span class="crayon-sy">,</span><span class="crayon-v">z</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-c">// Geraetenummer muss 1 - 5 sein, dass Geraet muss existieren dann schalten</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-256"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-c">// Ende Zeitcheck</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-257"><span class="crayon-sy">}</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// Endeif für AWS-Aktivflag check&nbsp;&nbsp; </span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-258"><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-c">// end schedule IDGruppe4</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-259">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-260">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-261">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-262"><span class="crayon-c">// Execute IDGruppe5&nbsp;&nbsp; </span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-263"><span class="crayon-c">//-------------------------------------------------------------------------------------------------------------------------------------------------------</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-264"><span class="crayon-e">schedule</span><span class="crayon-sy">(</span><span class="crayon-v">cron5job</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-265"><span class="crayon-st">if</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">(</span><span class="crayon-e">getState</span><span class="crayon-sy">(</span><span class="crayon-v">IDAWSaktiv</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-v">val</span><span class="crayon-h"> </span><span class="crayon-o">===</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// AWS aktiv ?</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-266"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">zeit5von</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">astrojetzt</span><span class="crayon-sy">(</span><span class="crayon-v">zeit5von</span><span class="crayon-sy">,</span><span class="crayon-v">zeit5bis</span><span class="crayon-sy">,</span><span class="crayon-s">"von"</span><span class="crayon-sy">,</span><span class="crayon-v">vonAstro5</span><span class="crayon-sy">,</span><span class="crayon-v">bisAstro5</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// endif - setzen der abweichenden von-Zeit falls Astro aktiv</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-267"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">zeit5bis</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">astrojetzt</span><span class="crayon-sy">(</span><span class="crayon-v">zeit5von</span><span class="crayon-sy">,</span><span class="crayon-v">zeit5bis</span><span class="crayon-sy">,</span><span class="crayon-s">"bis"</span><span class="crayon-sy">,</span><span class="crayon-v">vonAstro5</span><span class="crayon-sy">,</span><span class="crayon-v">bisAstro5</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// endif - setzen der abweichenden bis-Zeit falls Astro aktiv</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-268"><span class="crayon-c">//&nbsp;&nbsp;&nbsp;&nbsp;if (vonAstro5 === true) {&nbsp;&nbsp; zeit5von = astrojetzt(zeit5von,"von");&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// endif - setzen der abweichenden von-Zeit falls Astro aktiv</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-269"><span class="crayon-c">//&nbsp;&nbsp;&nbsp;&nbsp;if (bisAstro5 === true) {&nbsp;&nbsp; zeit5bis = astrojetzt(zeit5bis,"bis");&nbsp;&nbsp; }&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// endif - setzen der abweichenden bis-Zeit falls Astro aktiv</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-270"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-e">isTimeInRange</span><span class="crayon-sy">(</span><span class="crayon-v">zeit5von</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">zeit5bis</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// ist die "von"-Zeit innerhalb des aktuellen Zeitfensters ?</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-271"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">x</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">zufall</span><span class="crayon-sy">(</span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-v">Grp5ZufAnz</span><span class="crayon-sy">,</span><span class="crayon-v">x</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// Ermittlung zufaelliges Geraet zum enschalten</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-272"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">z</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">zufall</span><span class="crayon-sy">(</span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-v">StartDelay5</span><span class="crayon-o">*</span><span class="crayon-cn">60</span><span class="crayon-sy">,</span><span class="crayon-v">y</span><span class="crayon-sy">)</span><span class="crayon-o">*</span><span class="crayon-cn">1000</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Ermittlung der Einschaltverzögerung aufgrund der Zufallszahl</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-273"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">y</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">zufall</span><span class="crayon-sy">(</span><span class="crayon-v">ein5von</span><span class="crayon-o">*</span><span class="crayon-cn">60</span><span class="crayon-sy">,</span><span class="crayon-v">ein5bis</span><span class="crayon-o">*</span><span class="crayon-cn">60</span><span class="crayon-sy">,</span><span class="crayon-v">y</span><span class="crayon-sy">)</span><span class="crayon-o">*</span><span class="crayon-cn">1000</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// Ermittlung der Einschaltzdauer aufgrund der Zufallszahl in Millisekunden</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-274"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-e ">IDGruppe</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"IDGruppe5"</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">x</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// Ermittlung Gruppenname z.B. IDGruppe51</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-275"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">x</span><span class="crayon-h"> </span><span class="crayon-o">&lt;=</span><span class="crayon-h"> </span><span class="crayon-cn">5</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-e">GeraetExists</span><span class="crayon-sy">(</span><span class="crayon-v">IDGruppe</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">AWSSchaltung</span><span class="crayon-sy">(</span><span class="crayon-v">IDGruppe</span><span class="crayon-sy">,</span><span class="crayon-v">y</span><span class="crayon-sy">,</span><span class="crayon-v">z</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-c">// Geraetenummer muss 1 - 5 sein, dass Geraet muss existieren dann schalten</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-276"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-c">// Ende Zeitcheck</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-277"><span class="crayon-sy">}</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// Endeif für AWS-Aktivflag check&nbsp;&nbsp; </span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-278"><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-c">// end schedule IDGruppe5</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-279">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-280">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-281">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-282">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-283"><span class="crayon-c">// ------------------------Ruecksetzen der Timeouts /Ausschalten der teilnehmenden Geraete, wenn AWS-Aktiv auf false gesetzt wird--------------</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-284">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-285"><span class="crayon-e">on</span><span class="crayon-sy">(</span><span class="crayon-sy">{</span><span class="crayon-v">id</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">IDAWSaktiv</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">val</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-h"> </span><span class="crayon-sy">}</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">obj</span><span class="crayon-sy">)</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Event:&nbsp;&nbsp;wenn AWS Flag auf nicht aktiv gesetzt wurde</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-286"><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-287">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-288"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-e ">objGruppeI</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">" "</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Baut die IDGruppe zusammen Position 1</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-289"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-e ">objGruppeJ</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">" "</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Baut die IDGruppe zusammen Position 2</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-290"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">countobj</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-cn">0</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//counter fuer Verzoegerungen zwischen den Ausschaltungen</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-291">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-292"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">&lt;=</span><span class="crayon-h"> </span><span class="crayon-cn">5</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-o">++</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Loop fuer die Gruppen-Nr</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-293"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">objGruppeI</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"IDGruppe"</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Loop fuer die Geraete Nr der IDGruppen 1 - 5</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-294"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">j</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">j</span><span class="crayon-h"> </span><span class="crayon-o">&lt;=</span><span class="crayon-h"> </span><span class="crayon-cn">5</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">j</span><span class="crayon-o">++</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// Loop Position 2 /1 - 5 )</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-295"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">objGruppeJ</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">objGruppeI</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-i">j</span><span class="crayon-h"> </span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// Ermittlung Position 2</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-296"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">SpaceChk</span><span class="crayon-sy">.</span><span class="crayon-e">test</span><span class="crayon-sy">(</span><span class="crayon-r">eval</span><span class="crayon-sy">(</span><span class="crayon-v">objGruppeJ</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Check for&nbsp;&nbsp;blanks</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-297"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// keine blanks</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-298"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-e">GeraetExists</span><span class="crayon-sy">(</span><span class="crayon-v">objGruppeJ</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">===</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// Gibt es das Geraet </span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-299"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-e">clearStateDelayed</span><span class="crayon-sy">(</span><span class="crayon-r">eval</span><span class="crayon-sy">(</span><span class="crayon-v">objGruppeJ</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// Alle Pläne der Gruppe loeschen</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-300"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">ausflag</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// sollen die Teilnehmer ausgeschaltet werden ?&nbsp;&nbsp;</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-301"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">setStateDelayed</span><span class="crayon-sy">(</span><span class="crayon-r">eval</span><span class="crayon-sy">(</span><span class="crayon-v">objGruppeJ</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">countobj</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// ausschalten mit je&nbsp;&nbsp;300 millisekunden wartezeit</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-302"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-sy">}</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// endif check ob Geraete ausgeschaltet werden sollen</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-303"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">countobj</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">countobj</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-cn">300</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// alle 300 millisekunden schalten</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-304"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-c">// endif fuer Geraetecheck und switch off</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-305"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-c">// end Space Check</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-306"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-c">//&nbsp;&nbsp;Ende Position 2 Loop</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-307"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// Ende Position 1 Loop</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-308"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">log</span><span class="crayon-sy">(</span><span class="crayon-s">"EVENT&nbsp;&nbsp;AWS deaktiviert Der schedule zur geplanten Ausschaltung von Geraeten wurde zurueckgesetzt "</span><span class="crayon-h"> </span><span class="crayon-sy">,</span><span class="crayon-s">"info"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-309"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">string</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">";;;;;;;AWS wurde deaktiviert - Der schedule zur geplanten Ausschaltung von Geraeten wurde zurueckgesetzt"</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// bereite LOG vor</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-310">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-311"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">writelog</span><span class="crayon-sy">(</span><span class="crayon-t">string</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// schreibe LOG in Datei</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-312">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-313"><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-c">// ende on id</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-314">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-315">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-316"><span class="crayon-c">// ------------------------schreibe Log wenn AWS aktiviert wurde--------------------------------------</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-317">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-318"><span class="crayon-e">on</span><span class="crayon-sy">(</span><span class="crayon-sy">{</span><span class="crayon-v">id</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">IDAWSaktiv</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">val</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-h"> </span><span class="crayon-sy">}</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">obj</span><span class="crayon-sy">)</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// Event:&nbsp;&nbsp;wenn AWS Flag auf nicht aktiv gesetzt wurde</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-319"><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-320">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-321"><span class="crayon-e">log</span><span class="crayon-sy">(</span><span class="crayon-s">"EVENT&nbsp;&nbsp;AWS wurde aktiviert "</span><span class="crayon-h"> </span><span class="crayon-sy">,</span><span class="crayon-s">"info"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-322"><span class="crayon-t">string</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">";;;;;;;AWS wurde aktiviert"</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// bereite LOG vor</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-323"><span class="crayon-e">writelog</span><span class="crayon-sy">(</span><span class="crayon-t">string</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-324">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-325">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-326"><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-c">// ende on id</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-327">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-328"><span class="crayon-c">// ------------------------ F U N K T I O N E N -------------------------------------------------------</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-329">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-330"><span class="crayon-c">//-----------------------------------------------------------------------------------------------------</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-331"><span class="crayon-c">// Diese Funktion schaltet die IDGruppenmitglieder der gerade zu berabeitenden IDGruppe</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-332"><span class="crayon-c">//-----------------------------------------------------------------------------------------------------</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-333"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">AWSSchaltung</span><span class="crayon-sy">(</span><span class="crayon-v">objIDGruppe</span><span class="crayon-sy">,</span><span class="crayon-v">y</span><span class="crayon-sy">,</span><span class="crayon-v">z</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-334"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">logtext</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">" "</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-335"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-r">eval</span><span class="crayon-sy">(</span><span class="crayon-v">objIDGruppe</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">match</span><span class="crayon-sy">(</span><span class="crayon-s">'STATE'</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// ist es ein STATE Geraet ?</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-336"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-st">if</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">(</span><span class="crayon-e">getState</span><span class="crayon-sy">(</span><span class="crayon-r">eval</span><span class="crayon-sy">(</span><span class="crayon-v">objIDGruppe</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-v">val</span><span class="crayon-h"> </span><span class="crayon-o">===</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-h"> </span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// nur wenn noch nicht eingeschaltet</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-337"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">setStateDelayed</span><span class="crayon-sy">(</span><span class="crayon-r">eval</span><span class="crayon-sy">(</span><span class="crayon-v">objIDGruppe</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">,</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">z</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// Licht an in z millisekunden</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-338"><span class="crayon-c">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var timer = setTimeout(function (){&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-339"><span class="crayon-c">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; setState(eval(objIDGruppe),0);&nbsp;&nbsp; }, z+y);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;//Licht aus in y millisekunden&nbsp;&nbsp; (Einschaltverzoegerung plus Einschaltdauer)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-340"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-e">setStateDelayed</span><span class="crayon-sy">(</span><span class="crayon-r">eval</span><span class="crayon-sy">(</span><span class="crayon-v">objIDGruppe</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">z</span><span class="crayon-o">+</span><span class="crayon-v">y</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">//Licht aus in z+y millisekunden&nbsp;&nbsp; (Einschaltverzoegerung plus Einschaltdauer)</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-341"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// else - Geraet ist schon eingeschaltet</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-342"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">IgnoreWhenOn</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//keine&nbsp;&nbsp;Reaktion wenn Geraet bereits eingeschaltet war</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-343"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">logtext</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"keine Aktion - Geraet war bereits eingeschaltet"</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp; </span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-344"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// else - es soll uebersteuert werden mit den neuen werten</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-345"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">z</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Einschaltverzoegerung setzen auf Null</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-346"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">setStateDelayed</span><span class="crayon-sy">(</span><span class="crayon-r">eval</span><span class="crayon-sy">(</span><span class="crayon-v">objIDGruppe</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">z</span><span class="crayon-o">+</span><span class="crayon-v">y</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-h"> </span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//Licht aus in z+y millisekunden&nbsp;&nbsp; (Einschaltverzoegerung plus Einschaltdauer) ohne Einschaltverzoegerung</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-347"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">logtext</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"Geraet war bereits eingeschaltet -- uebersteuert - ohne Einschaltverzoegerung -&nbsp;&nbsp;alter schedule geloescht- "</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-348"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-sy">}</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// endeif IgnoreWhenOn</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-349"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-sy">}</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Ende IF fuer Check ob bereits eingeschaltet</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-350"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-c">// Ende IF für STATE Geraete</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-351"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-352"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-r">eval</span><span class="crayon-sy">(</span><span class="crayon-v">objIDGruppe</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">match</span><span class="crayon-sy">(</span><span class="crayon-s">'LEVEL'</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// ist es ein LEVEL Geraet ?</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-353"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-st">if</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">(</span><span class="crayon-e">getState</span><span class="crayon-sy">(</span><span class="crayon-r">eval</span><span class="crayon-sy">(</span><span class="crayon-v">objIDGruppe</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-v">val</span><span class="crayon-h"> </span><span class="crayon-o">===</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-h"> </span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// nur wenn noch nicht eingeschaltet</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-354"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">setStateDelayed</span><span class="crayon-sy">(</span><span class="crayon-r">eval</span><span class="crayon-sy">(</span><span class="crayon-v">objIDGruppe</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">100</span><span class="crayon-sy">,</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">z</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Licht an in z millisekunden</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-355"><span class="crayon-c">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;var timer = setTimeout(function (){&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-356"><span class="crayon-c">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;setState(eval(objIDGruppe),0);&nbsp;&nbsp; }, z+y);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; //Licht aus in y millisekunden&nbsp;&nbsp; (Einschaltverzoegerung plus Einschaltdauer)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-357"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">setStateDelayed</span><span class="crayon-sy">(</span><span class="crayon-r">eval</span><span class="crayon-sy">(</span><span class="crayon-v">objIDGruppe</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">z</span><span class="crayon-o">+</span><span class="crayon-v">y</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//Licht aus in y millisekunden&nbsp;&nbsp; (Einschaltverzoegerung plus Einschaltdauer)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-358"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// else - Geraet ist schon eingeschaltet</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-359"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">IgnoreWhenOn</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">//keine&nbsp;&nbsp;Reaktion wenn Geraet bereits eingeschaltet war</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-360"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">logtext</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"keine Aktion - Geraet war bereits eingeschaltet"</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp; </span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-361"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// else - es soll uebersteuert werden mit den neuen werten&nbsp;&nbsp;&nbsp;&nbsp; </span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-362"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">z</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Einschaltverzoegerung setzen auf Null</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-363"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-e">setStateDelayed</span><span class="crayon-sy">(</span><span class="crayon-r">eval</span><span class="crayon-sy">(</span><span class="crayon-v">objIDGruppe</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">z</span><span class="crayon-o">+</span><span class="crayon-v">y</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//Licht aus in z+y millisekunden&nbsp;&nbsp; (Einschaltverzoegerung plus Einschaltdauer) ohne Einschaltverzoegerung</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-364"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-e ">logtext</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"Geraet war bereits eingeschaltet -- uebersteuert - ohne Einschaltverzoegerung -&nbsp;&nbsp;alter schedule geloescht- "</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-365"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-sy">}</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// endeif IgnoreWhenOn</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-366"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// Ende IF fuer Check ob bereits eingeschaltet </span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-367"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-c">// Ende IF für LEVEL Geraete</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-368">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-369"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">GeraeteName</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">getObject</span><span class="crayon-sy">(</span><span class="crayon-r">eval</span><span class="crayon-sy">(</span><span class="crayon-v">objIDGruppe</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-v">common</span><span class="crayon-sy">.</span><span class="crayon-v">name</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// Name des Geraetes in Klartext</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-370"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">now</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-r">Date</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// store current date and time</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-371"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">currSec</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">now</span><span class="crayon-sy">.</span><span class="crayon-e">getTime</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// millisekunden seit 01.01.1970 /current millisecs</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-372"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">berechnEinZeit</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">millisecToDate</span><span class="crayon-sy">(</span><span class="crayon-h"> </span><span class="crayon-v">currSec</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">z</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// millisecs in Zeit umrechnen fuer die Einschaltzeit</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-373"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">berechnAusZeit</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">millisecToDate</span><span class="crayon-sy">(</span><span class="crayon-v">currSec</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">z</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">y</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// millisecs in Zeit umrechnen fuer die Ausschaltzeit</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-374"><span class="crayon-c">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;WriteArray(objIDGruppe,timer, currSec + z, currSec + z + y)&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Merken des Schaltvorganges</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-375"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">string</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">objIDGruppe</span><span class="crayon-o">+</span><span class="crayon-s">";"</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-r">eval</span><span class="crayon-sy">(</span><span class="crayon-v">objIDGruppe</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-s">";"</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">GeraeteName</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">";"</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">z</span><span class="crayon-o">/</span><span class="crayon-cn">1000</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">";"</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-v">y</span><span class="crayon-o">/</span><span class="crayon-cn">1000</span><span class="crayon-o">+</span><span class="crayon-s">";"</span><span class="crayon-o">+</span><span class="crayon-v">berechnEinZeit</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">";"</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">berechnAusZeit</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">";"</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">logtext</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// bereite LOG vor</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-376"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">log</span><span class="crayon-sy">(</span><span class="crayon-s">"EVENT "</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">objIDGruppe</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">"; "</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-r">eval</span><span class="crayon-sy">(</span><span class="crayon-v">objIDGruppe</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">"; "</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">GeraeteName</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">"; "</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">z</span><span class="crayon-o">/</span><span class="crayon-cn">1000</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">"; "</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">y</span><span class="crayon-o">/</span><span class="crayon-cn">1000</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">"; "</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">berechnEinZeit</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">"; "</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">berechnAusZeit</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">"; "</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">logtext</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"info"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">//Log schreiben</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-377"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">writelog</span><span class="crayon-sy">(</span><span class="crayon-t">string</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// schreibe LOG in Datei</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-378"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">Logtext</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">" "</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-379"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-380"><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-c">// Ende Funktion</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-381">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-382"><span class="crayon-c">//-----------------------------------------------------------------------------------------------------</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-383"><span class="crayon-c">// Funktion merkt sich den letzten Schaltvorgang zum Loeschen des Schedules und auch zur Optimierung der Schaltvorgaenge</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-384"><span class="crayon-c">//-----------------------------------------------------------------------------------------------------</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-385"><span class="crayon-c">//function WriteArray(objIDGruppe,timer,von,bis) {</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-386"><span class="crayon-c">//&nbsp;&nbsp; log("EVENT " + objIDGruppe + "; " +&nbsp;&nbsp;von + "; " + bis + "; " , "info");&nbsp;&nbsp;</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-387">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-388"><span class="crayon-h"> </span><span class="crayon-c">//for (var i = 0; i &lt;=25; ++i) { </span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-389"><span class="crayon-c">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if ( Gruppen[i][0].slice(6,8) === objIDGruppe.slice(8,10)) {&nbsp;&nbsp;&nbsp;&nbsp;// Identifikation der Objektgruppe</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-390"><span class="crayon-c">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Gruppen[i][1] = timer; Gruppen[i][2] = von;&nbsp;&nbsp;Gruppen[i][3] = bis;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Schreibe Werte in Array </span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-391"><span class="crayon-h"> </span><span class="crayon-c">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; log("Arrayliste "+ Gruppen[i][0] + " " + " " + Gruppen[i][0].slice(7,2) + objIDGruppe.slice(9,2) ),"info";</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-392"><span class="crayon-c">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;log("Arrayliste "+ Gruppen[i][0] + " " + Gruppen[i][1] + " " + Gruppen[i][2] + " " + Gruppen[i][3] ),"info";</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-393"><span class="crayon-c">//</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-394"><span class="crayon-c">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp; // ende if - Identifikation der Gruppe</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-395">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-396"><span class="crayon-c">//&nbsp;&nbsp;&nbsp;&nbsp;} // ende for Schleife</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-397"><span class="crayon-c">//return Gruppen;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-398"><span class="crayon-c">// } // ende Funktion</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-399">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-400"><span class="crayon-c">//-----------------------------------------------------------------------------------------------------</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-401"><span class="crayon-c">// Funktion zur Bestimmung einer ganzzahligen Zufallszahl innerhalb vorgegebener min/max Werte</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-402"><span class="crayon-c">//-----------------------------------------------------------------------------------------------------</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-403"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">zufall</span><span class="crayon-sy">(</span><span class="crayon-v">low</span><span class="crayon-sy">,</span><span class="crayon-v">high</span><span class="crayon-sy">,</span><span class="crayon-v">back</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-404"><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">back</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">Math</span><span class="crayon-sy">.</span><span class="crayon-e">floor</span><span class="crayon-sy">(</span><span class="crayon-v">Math</span><span class="crayon-sy">.</span><span class="crayon-e">random</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">*</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">high</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-v">low</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">low</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp; </span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-405"><span class="crayon-c">//&nbsp;&nbsp;log("EVENT&nbsp;&nbsp;AWS Zufallszahlen - low = " + low + "high = " + high + " back = " + back ,"info"); </span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-406"><span class="crayon-h"> </span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">back</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-407"><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-c">// ende Funktion</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-408">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-409">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-410"><span class="crayon-c">//-----------------------------------------------------------------------------------------------------</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-411"><span class="crayon-c">// Funktion zur Ueberpruefung ob die angegebenen Geraete exisiteren</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-412"><span class="crayon-c">//-----------------------------------------------------------------------------------------------------</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-413"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">GeraetExists</span><span class="crayon-sy">(</span><span class="crayon-v">objGruppe</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-414"><span class="crayon-v">back</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-415"><span class="crayon-h">&nbsp;&nbsp;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-416"><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">SpaceChk</span><span class="crayon-sy">.</span><span class="crayon-e">test</span><span class="crayon-sy">(</span><span class="crayon-r">eval</span><span class="crayon-sy">(</span><span class="crayon-v">objGruppe</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// objIDGruppe darf kein space enthalten&nbsp;&nbsp;// ist ein Geraet ueberhaupt zugeordnet ?</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-417"><span class="crayon-c">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; log("Geraet hat kein assignment - Gruppe " + objGruppe, "info"); </span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-418"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">back</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-419"><span class="crayon-h"> </span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-c">//&nbsp;&nbsp;endif IDGruppe hat kein assignment</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-420">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-421"><span class="crayon-st">if</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">(</span><span class="crayon-e">getState</span><span class="crayon-sy">(</span><span class="crayon-r">eval</span><span class="crayon-sy">(</span><span class="crayon-v">objGruppe</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-sy">{</span><span class="crayon-h"> </span><span class="crayon-c">// Existiert das Geraet ?</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-422"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">back</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-423"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-e">log</span><span class="crayon-sy">(</span><span class="crayon-s">"Geraet existiert nicht - bitte in den Einstellungen ueberpruefen - Gruppe "</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">objGruppe</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"info"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-424"><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-c">//&nbsp;&nbsp;endif check on Geraet exists</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-425">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-426"><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">back</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-427"><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-c">// ende Funktion</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-428">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-429">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-430"><span class="crayon-c">//-----------------------------------------------------------------------------------------------------</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-431"><span class="crayon-c">// Funktion schreibt einen Logeintrag in das Filesystem und auch in das interne Log-System</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-432"><span class="crayon-c">//-----------------------------------------------------------------------------------------------------</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-433"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">writelog</span><span class="crayon-sy">(</span><span class="crayon-t">string</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-434"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">logflag</span><span class="crayon-h"> </span><span class="crayon-o">===</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-435"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// Zerlege Datum und Zeit in Variable</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-436"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">now</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-r">Date</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-c">// store current date and time</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-437"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">year</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-v">now</span><span class="crayon-sy">.</span><span class="crayon-e">getFullYear</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-438"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">month</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">addZero</span><span class="crayon-sy">(</span><span class="crayon-v">now</span><span class="crayon-sy">.</span><span class="crayon-e">getMonth</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-o">+</span><span class="crayon-cn">1</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-439"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">day</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">addZero</span><span class="crayon-sy">(</span><span class="crayon-v">now</span><span class="crayon-sy">.</span><span class="crayon-e">getDate</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-440"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">Thour</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">addZero</span><span class="crayon-sy">(</span><span class="crayon-v">now</span><span class="crayon-sy">.</span><span class="crayon-e">getHours</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-441"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">Tmin</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-e">addZero</span><span class="crayon-sy">(</span><span class="crayon-v">now</span><span class="crayon-sy">.</span><span class="crayon-e">getMinutes</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-442"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">Tsec</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-e">addZero</span><span class="crayon-sy">(</span><span class="crayon-v">now</span><span class="crayon-sy">.</span><span class="crayon-e">getSeconds</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-443"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">logdate</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">day</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">'.'</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">month</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">'.'</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">year</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-444"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">logtime</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">Thour</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">':'</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">Tmin</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">':'</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">Tsec</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-445">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-446">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-447">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-448"><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">fs</span><span class="crayon-sy">.</span><span class="crayon-e">existsSync</span><span class="crayon-sy">(</span><span class="crayon-v">LogPath</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-449"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">fs</span><span class="crayon-sy">.</span><span class="crayon-e">appendFileSync</span><span class="crayon-sy">(</span><span class="crayon-v">LogPath</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">logdate</span><span class="crayon-o">+</span><span class="crayon-s">" ;"</span><span class="crayon-o">+</span><span class="crayon-v">logtime</span><span class="crayon-o">+</span><span class="crayon-s">" ;"</span><span class="crayon-o">+</span><span class="crayon-t">string</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">"\n"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// Füge Satz in Datei ein</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-450"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-451"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">log</span><span class="crayon-sy">(</span><span class="crayon-s">"Logfile nicht gefunden - wird angelegt"</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"info"</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-452"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-e ">headerLine</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"Datum;Uhrzeit;Gruppe;GeraeteID;Geraetebezeichnung;Einschaltverzoegerung;LaengeSchaltzeit;ZeitEin berechnet;ZeitAus berechnet;Kommentar"</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-453"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">fs</span><span class="crayon-sy">.</span><span class="crayon-e">appendFileSync</span><span class="crayon-sy">(</span><span class="crayon-v">LogPath</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">headerLine</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">"\n"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// Füge Satz in Datei ein</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-454"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">fs</span><span class="crayon-sy">.</span><span class="crayon-e">appendFileSync</span><span class="crayon-sy">(</span><span class="crayon-v">LogPath</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">logdate</span><span class="crayon-o">+</span><span class="crayon-s">" ;"</span><span class="crayon-o">+</span><span class="crayon-v">logtime</span><span class="crayon-o">+</span><span class="crayon-s">" ;"</span><span class="crayon-o">+</span><span class="crayon-t">string</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">"\n"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// Füge Satz in Datei ein</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-455"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// endif Filecheck</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-456"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-c">// Ende check on logflag</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-457"><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-c">// Ende Funktion</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-458">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-459">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-460"><span class="crayon-c">//------------------------Ermittlung der Zeit wenn Astrozeit eingeschaltet wird</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-461"><span class="crayon-c">// Funktion bestimmt ob die Astrozeit die Gültigkeitsbereich der VonZeit overruled</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-462"><span class="crayon-c">//-----------------------------------------------------------------------------------------------------</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-463">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-464"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">astrojetzt</span><span class="crayon-sy">(</span><span class="crayon-v">zeitvon</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">zeitbis</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">abschnitt</span><span class="crayon-sy">,</span><span class="crayon-v">astrovon</span><span class="crayon-sy">,</span><span class="crayon-v">astrobis</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-465"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">sunriseEnd</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">getAstroDate</span><span class="crayon-sy">(</span><span class="crayon-s">"sunriseEnd"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Ende der Nacht nach Astro</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-466"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">sunsetStart</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">getAstroDate</span><span class="crayon-sy">(</span><span class="crayon-s">"sunsetStart"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Ende des Tages nach Astro</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-467"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">nowvon</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// fuer astrozeitrechnung vonzeit</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-468"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">nowbis</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// fuer astrozeitrechnung vonzeit</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-469"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">Thour</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Stunde mit führender Null</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-470"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">Tmin</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// Minute mit führender Null</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-471"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">lower</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Zeitvergleich</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-472"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">upper</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Zeitvergleih</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-473"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">zeit</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// Rueckgabezeit</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-474">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-475">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-476"><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-v">astrovon</span><span class="crayon-h"> </span><span class="crayon-o">===</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-h"> </span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Astrozeit gesetzt</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-477"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">nowvon</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-r">Date</span><span class="crayon-sy">(</span><span class="crayon-v">sunsetStart</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// store sunset date and time vonZeit </span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-478"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">Thour</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">addZero</span><span class="crayon-sy">(</span><span class="crayon-v">nowvon</span><span class="crayon-sy">.</span><span class="crayon-e">getHours</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// extract hour</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-479"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">Tmin</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">addZero</span><span class="crayon-sy">(</span><span class="crayon-v">nowvon</span><span class="crayon-sy">.</span><span class="crayon-e">getMinutes</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// extract min</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-480"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">zeitvon</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">Thour</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">':'</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">Tmin</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">':'</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">"00"</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Zusammensetzen der Zeit in Format hh:mm:ss</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-481"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-482">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-483"><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-v">astrobis</span><span class="crayon-h"> </span><span class="crayon-o">===</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-h"> </span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Astrozeit gesetzt</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-484"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">nowbis</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-r">Date</span><span class="crayon-sy">(</span><span class="crayon-v">sunriseEnd</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// store sunset date and time vonZeit&nbsp;&nbsp;</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-485"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">Thour</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">addZero</span><span class="crayon-sy">(</span><span class="crayon-v">nowbis</span><span class="crayon-sy">.</span><span class="crayon-e">getHours</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// extract hour</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-486"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">Tmin</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">addZero</span><span class="crayon-sy">(</span><span class="crayon-v">nowbis</span><span class="crayon-sy">.</span><span class="crayon-e">getMinutes</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// extract min</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-487"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">zeitbis</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">Thour</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">':'</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">Tmin</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">':'</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">"00"</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Zusammensetzen der Zeit in Format hh:mm:ss</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-488"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-489">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-490">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-491"><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">abschnitt</span><span class="crayon-h"> </span><span class="crayon-o">===</span><span class="crayon-h"> </span><span class="crayon-s">"von"</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// wenn vonZeit berechnet wird </span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-492"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">lower</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">addTime</span><span class="crayon-sy">(</span><span class="crayon-v">zeitvon</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// vonZeit muss kleiner sein als bis Zeit</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-493"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">upper</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">addTime</span><span class="crayon-sy">(</span><span class="crayon-v">zeitbis</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// bisZeit muss groesser sein als vonZeit</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-494"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">zeit</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">zeitvon</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-495"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">upper</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-h"> </span><span class="crayon-v">lower</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-v">astrovon</span><span class="crayon-h"> </span><span class="crayon-o">===</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-v">astrobis</span><span class="crayon-h"> </span><span class="crayon-o">===</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// Sonderfall wenn die biszeit kleiner als die astrozeit ist</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-496"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">zeit</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">zeitbis</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// wenn die Astrozeit groesser wird als die BisZeit, dann ist vonZeit = bisZeit</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-497"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-498"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-499">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-500"><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">abschnitt</span><span class="crayon-h"> </span><span class="crayon-o">===</span><span class="crayon-h"> </span><span class="crayon-s">"bis"</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// nur Rückgabewert setzen</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-501"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">zeit</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">zeitbis</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-502"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-503">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-504"><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">zeit</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// fertig</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-505"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-506"><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-c">// Ende Funktion</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-507">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-508">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-509">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-510">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-511"><span class="crayon-c">//-----------------------------------------------------------------------------------------------------</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-512"><span class="crayon-c">// Funktion zur Erzeugung von führenden Nullen für das Datum Format</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-513"><span class="crayon-c">//-----------------------------------------------------------------------------------------------------</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-514"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">addZero</span><span class="crayon-sy">(</span><span class="crayon-v">i</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-515"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-h"> </span><span class="crayon-cn">10</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-516"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e ">i</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"0"</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-517"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-518"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-519"><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-c">// Ende Funktion</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-520">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-521"><span class="crayon-h"> </span><span class="crayon-c">//-----------------------------------------------------------------------------------------------------</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-522"><span class="crayon-c">// Funktion Millisekunden in Datum/Zeit&nbsp;&nbsp;umrechnen /wird für logging benoetigt</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-523"><span class="crayon-c">//-----------------------------------------------------------------------------------------------------</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-524"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">millisecToDate</span><span class="crayon-sy">(</span><span class="crayon-v">millisec</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-525"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">time</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-r">Date</span><span class="crayon-sy">(</span><span class="crayon-v">millisec</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-526"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">Thour</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-e">addZero</span><span class="crayon-sy">(</span><span class="crayon-v">time</span><span class="crayon-sy">.</span><span class="crayon-e">getHours</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-527"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">Tmin</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-e">addZero</span><span class="crayon-sy">(</span><span class="crayon-v">time</span><span class="crayon-sy">.</span><span class="crayon-e">getMinutes</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-528"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">Tsec</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-e">addZero</span><span class="crayon-sy">(</span><span class="crayon-v">time</span><span class="crayon-sy">.</span><span class="crayon-e">getSeconds</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-529"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">datum</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">Thour</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">':'</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">Tmin</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">':'</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">Tsec</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-530"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">datum</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-531"><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-c">// Ende Funktion</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-532"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-533"><span class="crayon-c">//-----------------------------------------------------------------------------------------------------</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-534"><span class="crayon-c">// 3 Funktionen zum Zeitrange check zur Prüfung ob die Schaltungszeiten erreicht sind</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-535"><span class="crayon-c">// Autor ist Beatz - uebernommen aus:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-536"><span class="crayon-c">// viewtopic.php?f=21&amp;t=1072&amp;p=11167&amp;hilit=isTimeInRange&amp;sid=4dca8ea2c7f9337cdc73a1a9e4824a40#p11167</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-537"><span class="crayon-c">//-----------------------------------------------------------------------------------------------------</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-538"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">isTimeInRange</span><span class="crayon-sy">(</span><span class="crayon-v">strLower</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">strUpper</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-539"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">now</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-r">Date</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-540"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">lower</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">addTime</span><span class="crayon-sy">(</span><span class="crayon-v">strLower</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-541"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">upper</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">addTime</span><span class="crayon-sy">(</span><span class="crayon-v">strUpper</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-542"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">inRange</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-543"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">upper</span><span class="crayon-h"> </span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-v">lower</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-544"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// opens and closes in same day</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-545"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">inRange</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">now</span><span class="crayon-h"> </span><span class="crayon-o">&gt;=</span><span class="crayon-h"> </span><span class="crayon-v">lower</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-v">now</span><span class="crayon-h"> </span><span class="crayon-o">&lt;=</span><span class="crayon-h"> </span><span class="crayon-v">upper</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">?</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-546"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-547"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// closes in the following day</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-548"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">inRange</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">now</span><span class="crayon-h"> </span><span class="crayon-o">&gt;=</span><span class="crayon-h"> </span><span class="crayon-v">upper</span><span class="crayon-h"> </span><span class="crayon-o">&amp;&amp;</span><span class="crayon-h"> </span><span class="crayon-v">now</span><span class="crayon-h"> </span><span class="crayon-o">&lt;=</span><span class="crayon-h"> </span><span class="crayon-v">lower</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">?</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-549"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-550"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">inRange</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-551"><span class="crayon-sy">}</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-552">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-553"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">currentDate</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-554"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">d</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-r">Date</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-555"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-r">Date</span><span class="crayon-sy">(</span><span class="crayon-v">d</span><span class="crayon-sy">.</span><span class="crayon-e">getFullYear</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">d</span><span class="crayon-sy">.</span><span class="crayon-e">getMonth</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">d</span><span class="crayon-sy">.</span><span class="crayon-e">getDate</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-556"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-557"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">addTime</span><span class="crayon-sy">(</span><span class="crayon-v">strTime</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-558"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">time</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">strTime</span><span class="crayon-sy">.</span><span class="crayon-e">split</span><span class="crayon-sy">(</span><span class="crayon-s">':'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-559"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">d</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">currentDate</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-560"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">d</span><span class="crayon-sy">.</span><span class="crayon-e">setHours</span><span class="crayon-sy">(</span><span class="crayon-v">time</span><span class="crayon-sy">[</span><span class="crayon-cn">0</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-561"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">d</span><span class="crayon-sy">.</span><span class="crayon-e">setMinutes</span><span class="crayon-sy">(</span><span class="crayon-v">time</span><span class="crayon-sy">[</span><span class="crayon-cn">1</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-562"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">d</span><span class="crayon-sy">.</span><span class="crayon-e">setSeconds</span><span class="crayon-sy">(</span><span class="crayon-v">time</span><span class="crayon-sy">[</span><span class="crayon-cn">2</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e1361c1643287236-563"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">d</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e1361c1643287236-564"><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.1079 seconds] -->
<p>&nbsp;</p>

<footer class="post-data">

	<div class="entry-meta">
			</div><!-- .entry-meta -->
	</footer><!-- .post-data -->
			</div><!-- .post-entry -->
	</article><!-- #post-## -->



			</main><!-- #main -->

<div id="widgets" class="widget-area default-sidebar" role="complementary" itemscope="itemscope" itemtype="http://schema.org/WPSideBar">

		<aside id="archives" class="widget-wrapper">
			<h3 class="widget-title">Im Archiv</h3>
			<ul>
					<li><a href='index-172.htm?m=201902&#038;lang=de'>Februar 2019</a></li>
	<li><a href='index-173.htm?m=201901&#038;lang=de'>Januar 2019</a></li>
	<li><a href='index-174.htm?m=201812&#038;lang=de'>Dezember 2018</a></li>
	<li><a href='index-175.htm?m=201806&#038;lang=de'>Juni 2018</a></li>
	<li><a href='index-176.htm?m=201804&#038;lang=de'>April 2018</a></li>
	<li><a href='index-177.htm?m=201803&#038;lang=de'>März 2018</a></li>
	<li><a href='index-178.htm?m=201801&#038;lang=de'>Januar 2018</a></li>
	<li><a href='index-179.htm?m=201712&#038;lang=de'>Dezember 2017</a></li>
	<li><a href='index-180.htm?m=201711&#038;lang=de'>November 2017</a></li>
	<li><a href='index-181.htm?m=201710&#038;lang=de'>Oktober 2017</a></li>
	<li><a href='index-182.htm?m=201709&#038;lang=de'>September 2017</a></li>
	<li><a href='index-183.htm?m=201708&#038;lang=de'>August 2017</a></li>
	<li><a href='index-184.htm?m=201701&#038;lang=de'>Januar 2017</a></li>
	<li><a href='index-185.htm?m=201609&#038;lang=de'>September 2016</a></li>
	<li><a href='index-186.htm?m=201607&#038;lang=de'>Juli 2016</a></li>
	<li><a href='index-187.htm?m=201605&#038;lang=de'>Mai 2016</a></li>
	<li><a href='index-188.htm?m=201604&#038;lang=de'>April 2016</a></li>
	<li><a href='index-189.htm?m=201603&#038;lang=de'>März 2016</a></li>
	<li><a href='index-190.htm?m=201602&#038;lang=de'>Februar 2016</a></li>
			</ul>
		</aside>

		</div><!-- #default-sidebar -->
	</div><!-- #primary -->

</div><!-- end of #wrapper -->
</div><!-- end of #container -->


<footer id="footer" class="site-footer" role="contentinfo" itemscope="itemscope" itemtype="http://schema.org/WPFooter">
		<div id="footer-wrapper">

		<div id="footer-widgets-container">
					</div><!-- #footer-widgets-container-->

		<div id="menu-social-container">
			<nav id="footer-menu-container">
				<ul id="menu-2016_seitenfuss_de" class="footer-menu"><li id="menu-item-2210" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2210"><a href="index-61.htm?page_id=2208&#038;lang=de">Kontakt</a></li>
<li id="menu-item-2227" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2227"><a href="index-62.htm?page_id=2223&#038;lang=de">Impressum</a></li>
<li id="menu-item-2307" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2307"><a href="index-63.htm?page_id=2305&#038;lang=de">Datenschutzerklärung</a></li>
<li id="menu-item-2314" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2314"><a href="index-64.htm?page_id=2303&#038;lang=de">Sitemap</a></li>
<li id="menu-item-2486" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2486"><a href="index-65.htm?page_id=2484&#038;lang=de">Danke</a></li>
</ul>			</nav><!-- #footer-menu -->
			<div id="social-icons-container">
				<ul class="social-icons"></ul><!-- .social-icons -->			</div><!-- #social-icons-container-->
		</div><!-- #menu-social-container -->


		<div id="footer-base">
			<div class="copyright">
				&copy; 2019 <a href="index.htm?lang=de" title="ioBroker">ioBroker</a>			</div><!-- .copyright -->

			<div class="powered">
				<a href="http://cyberchimps.com/responsive-II/">Reaktionsschnelle II</a> angetrieben <a href="http://wordpress.org/">WordPress</a>			</div><!-- end .powered -->

			<div class="scroll-top">
				<a href="#scroll-top" title="Nach oben scrollen">↑</a>
			</div><!-- .scroll-top -->
		</div><!-- #footer-base -->
	</div><!-- #footer-wrapper -->
	</footer><!-- #footer -->
<div id="cookie-law-info-bar"><span>This website uses cookies to improve your experience. We'll assume you're ok with this, but you can opt-out if you wish.<a data-cli_action="accept" id="cookie_action_close_header" class="medium cli-plugin-button cli-plugin-main-button cookie_action_close_header cli_action_button" style="display:inline-block; ">Akzeptieren</a> <a href='..\index-1.htm?page_id=2305&#038;lang=de' id="CONSTANT_OPEN_URL" target="_blank" class="cli-plugin-main-link" style="display:inline-block;">mehr Infos</a></span></div><div id="cookie-law-info-again" style="display:none;"><span id="cookie_hdr_showagain">Privacy & Cookies Policy</span></div><div class="cli-modal-backdrop cli-fade cli-settings-overlay"></div>
<div class="cli-modal-backdrop cli-fade cli-popupbar-overlay"></div>
<script type="text/javascript">
  /* <![CDATA[ */
  cli_cookiebar_settings='{"animate_speed_hide":"500","animate_speed_show":"500","background":"#fff","border":"#444","border_on":false,"button_1_button_colour":"#000","button_1_button_hover":"#000000","button_1_link_colour":"#fff","button_1_as_button":true,"button_1_new_win":false,"button_2_button_colour":"#333","button_2_button_hover":"#292929","button_2_link_colour":"#444","button_2_as_button":false,"button_2_hidebar":true,"button_3_button_colour":"#000","button_3_button_hover":"#000000","button_3_link_colour":"#fff","button_3_as_button":true,"button_3_new_win":false,"button_4_button_colour":"#000","button_4_button_hover":"#000000","button_4_link_colour":"#fff","button_4_as_button":true,"font_family":"inherit","header_fix":false,"notify_animate_hide":true,"notify_animate_show":false,"notify_div_id":"#cookie-law-info-bar","notify_position_horizontal":"right","notify_position_vertical":"bottom","scroll_close":false,"scroll_close_reload":false,"accept_close_reload":false,"reject_close_reload":false,"showagain_tab":false,"showagain_background":"#fff","showagain_border":"#000","showagain_div_id":"#cookie-law-info-again","showagain_x_position":"100px","text":"#000","show_once_yn":false,"show_once":"10000","logging_on":false,"as_popup":false,"popup_overlay":true,"bar_heading_text":"","cookie_bar_as":"banner","popup_showagain_position":"bottom-right","widget_position":"left"}';
  /* ]]> */
</script><div class="scroll-back-to-top-wrapper">
	<span class="scroll-back-to-top-inner">
					<i class="fa fa-2x fa-arrow-circle-up"></i>
			</span>
</div><script type='text/javascript'>
/* <![CDATA[ */
var wpcf7 = {"apiSettings":{"root":"http:\/\/www.iobroker.net\/docu\/?rest_route=\/contact-form-7\/v1","namespace":"contact-form-7\/v1"},"recaptcha":{"messages":{"empty":"Bitte best\u00e4tige, dass du keine Maschine bist."}}};
var wpcf7 = {"apiSettings":{"root":"http:\/\/www.iobroker.net\/docu\/?rest_route=\/contact-form-7\/v1","namespace":"contact-form-7\/v1"},"recaptcha":{"messages":{"empty":"Bitte best\u00e4tige, dass du keine Maschine bist."}}};
/* ]]> */
</script>
<script type='text/javascript' src='wp-content\plugins\contact-form-7\includes\js\scripts.js?ver=4.9.2'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var scrollBackToTop = {"scrollDuration":"500","fadeDuration":"0.5"};
var scrollBackToTop = {"scrollDuration":"500","fadeDuration":"0.5"};
/* ]]> */
</script>
<script type='text/javascript' src='wp-content\plugins\scroll-back-to-top\assets\js\scroll-back-to-top.js'></script>
<script type='text/javascript' src='wp-content\plugins\table-of-contents-plus\front.min.js?ver=1509'></script>
<script type='text/javascript' src='wp-content\themes\responsive-mobile\js\responsive-scripts.min.js?ver=1.2.5'></script>
<script type='text/javascript' src='wp-includes\js\wp-embed.min.js?ver=4.7.5'></script>
</body>
</html>
