<!DOCTYPE html>
<!--[if IE 8 ]>
	<html class="no-js ie8" lang="de-DE">
<![endif]-->
<!--[if IE 9 ]>
	<html class="no-js ie9" lang="de-DE">
<![endif]-->
<!--[if gt IE 9]><!-->
<html lang="de-DE"><!--<![endif]-->
	<head>
				<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta http-equiv="X-UA-Compatible" content="IE=9; IE=8; IE=7; IE=EDGE"> 

		<link rel="profile" href="http://gmpg.org/xfn/11">
		<link rel="pingback" href="http://www.iobroker.net/docu/xmlrpc.php">
		
		<title>Hue Dynamische Szenen &#8211; ioBroker</title>
<link rel='dns-prefetch' href='//netdna.bootstrapcdn.com'>
<link rel='dns-prefetch' href='//s.w.org'>
<link rel="alternate" type="application/rss+xml" title="ioBroker &raquo; Feed" href="index.rss?feed=rss2&#038;lang=de">
<link rel="alternate" type="application/rss+xml" title="ioBroker &raquo; Kommentar-Feed" href="index-1.rss?feed=comments-rss2&#038;lang=de">
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.2.1\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.2.1\/svg\/","svgExt":".svg","source":{"concatemoji":"http:\/\/www.iobroker.net\/docu\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.7.5"}};
			!function(a,b,c){function d(a){var b,c,d,e,f=String.fromCharCode;if(!k||!k.fillText)return!1;switch(k.clearRect(0,0,j.width,j.height),k.textBaseline="top",k.font="600 32px Arial",a){case"flag":return k.fillText(f(55356,56826,55356,56819),0,0),!(j.toDataURL().length<3e3)&&(k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,57331,65039,8205,55356,57096),0,0),b=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,57331,55356,57096),0,0),c=j.toDataURL(),b!==c);case"emoji4":return k.fillText(f(55357,56425,55356,57341,8205,55357,56507),0,0),d=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55357,56425,55356,57341,55357,56507),0,0),e=j.toDataURL(),d!==e}return!1}function e(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g,h,i,j=b.createElement("canvas"),k=j.getContext&&j.getContext("2d");for(i=Array("flag","emoji4"),c.supports={everything:!0,everythingExceptFlag:!0},h=0;h<i.length;h++)c.supports[i[h]]=d(i[h]),c.supports.everything=c.supports.everything&&c.supports[i[h]],"flag"!==i[h]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[i[h]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='crayon-css' href='wp-content\plugins\crayon-syntax-highlighter\css\min\crayon.min.css?ver=_2.7.2_beta' type='text/css' media='all'>
<link rel='stylesheet' id='crayon-theme-classic-css' href='wp-content\plugins\crayon-syntax-highlighter\themes\classic\classic.css?ver=_2.7.2_beta' type='text/css' media='all'>
<link rel='stylesheet' id='crayon-font-monaco-css' href='wp-content\plugins\crayon-syntax-highlighter\fonts\monaco.css?ver=_2.7.2_beta' type='text/css' media='all'>
<link rel='stylesheet' id='contact-form-7-css' href='wp-content\plugins\contact-form-7\includes\css\styles.css?ver=4.9.2' type='text/css' media='all'>
<link rel='stylesheet' id='cookie-law-info-css' href='wp-content\plugins\cookie-law-info\public\css\cookie-law-info-public.css?ver=1.7.6' type='text/css' media='all'>
<link rel='stylesheet' id='cookie-law-info-gdpr-css' href='wp-content\plugins\cookie-law-info\public\css\cookie-law-info-gdpr.css?ver=1.7.6' type='text/css' media='all'>
<link rel='stylesheet' id='dedo-css-css' href='wp-content\plugins\delightful-downloads\assets\css\delightful-downloads.min.css?ver=1.6.6' type='text/css' media='all'>
<link rel='stylesheet' id='mbpro-font-awesome-css' href='wp-content\plugins\maxbuttons\assets\libraries\font-awesome\css\font-awesome.min.css?ver=6.28' type='text/css' media='all'>
<link rel='stylesheet' id='page-list-style-css' href='wp-content\plugins\page-list\css\page-list.css?ver=5.1' type='text/css' media='all'>
<link rel='stylesheet' id='pc_google_analytics-frontend-css' href='http://www.iobroker.net/docu/wp-content/plugins/pc-google-analytics/assets/css/frontend.css?ver=1.0.0' type='text/css' media='all'>
<link rel='stylesheet' id='font-awesome-css' href='//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.css' type='text/css' media='screen'>
<link rel='stylesheet' id='toc-screen-css' href='wp-content\plugins\table-of-contents-plus\screen.min.css?ver=1509' type='text/css' media='all'>
<link rel='stylesheet' id='parent-style-css' href='wp-content\themes\responsive-mobile\style.css?ver=4.7.5' type='text/css' media='all'>
<link rel='stylesheet' id='responsive-mobile-style-css' href='wp-content\themes\responsive-mobile\css\style.css?ver=1.8' type='text/css' media='all'>
<link rel='stylesheet' id='responsive-mobile-child-style-css' href='wp-content\themes\responsive-mobile_child\style.css?ver=1.0' type='text/css' media='all'>
<link rel='stylesheet' id='recent-posts-widget-with-thumbnails-public-style-css' href='wp-content\plugins\recent-posts-widget-with-thumbnails\public.css?ver=6.5.0' type='text/css' media='all'>
<link rel='stylesheet' id='cleverness_todo_list_frontend-css' href='wp-content\plugins\cleverness-to-do-list\css\cleverness-to-do-list-frontend.css?ver=3.4.2' type='text/css' media='all'>
<link rel='stylesheet' id='jquery.ui.theme-css' href='wp-content\plugins\cleverness-to-do-list\css\jquery-ui-fresh.css?ver=3.4.2' type='text/css' media='all'>
<link rel='stylesheet' id='tablepress-default-css' href='wp-content\tablepress-combined.min.css?ver=128' type='text/css' media='all'>
<link rel='stylesheet' id='bootstrap-css' href='wp-content\themes\responsive-mobile\libraries\bootstrap\css\bootstrap.min.css?ver=4.7.5' type='text/css' media='all'>
<script type='text/javascript' src='wp-includes\js\jquery\jquery.js?ver=1.12.4'></script>
<script type='text/javascript' src='wp-includes\js\jquery\jquery-migrate.min.js?ver=1.4.1'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var CrayonSyntaxSettings = {"version":"_2.7.2_beta","is_admin":"0","ajaxurl":"http:\/\/www.iobroker.net\/docu\/wp-admin\/admin-ajax.php","prefix":"crayon-","setting":"crayon-setting","selected":"crayon-setting-selected","changed":"crayon-setting-changed","special":"crayon-setting-special","orig_value":"data-orig-value","debug":""};
var CrayonSyntaxStrings = {"copy":"Dr\u00fccken Sie %s zum Kopieren, %s zum Einf\u00fcgen","minimize":"Klicken um Code aufzuklappen"};
/* ]]> */
</script>
<script type='text/javascript' src='wp-content\plugins\crayon-syntax-highlighter\js\min\crayon.min.js?ver=_2.7.2_beta'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var Cli_Data = {"nn_cookie_ids":[],"cookielist":[]};
var log_object = {"ajax_url":"http:\/\/www.iobroker.net\/docu\/wp-admin\/admin-ajax.php"};
/* ]]> */
</script>
<script type='text/javascript' src='wp-content\plugins\cookie-law-info\public\js\cookie-law-info-public.js?ver=1.7.6'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var mb_ajax = {"ajaxurl":"http:\/\/www.iobroker.net\/docu\/wp-admin\/admin-ajax.php"};
/* ]]> */
</script>
<script type='text/javascript' src='wp-content\plugins\maxbuttons\js\min\front.js?ver=6.28'></script>
<script type='text/javascript' src='wp-content\plugins\pc-google-analytics\assets\js\frontend.min.js?ver=1.0.0'></script>
<script type='text/javascript' src='wp-content\themes\responsive-mobile\libraries\bootstrap\js\bootstrap.min.js?ver=4.7.5'></script>
<link rel='https://api.w.org/' href='index.json?rest_route=/'>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="xmlrpc.xml?rsd">
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="wp-includes\wlwmanifest.xml"> 
<meta name="generator" content="WordPress 4.7.5">
<link rel="canonical" href="index-327.htm?page_id=3692&#038;lang=de">
<link rel='shortlink' href='http://www.iobroker.net/docu/?p=3692'>
<link rel="alternate" type="application/json+oembed" href="index-303.json?rest_route=%2Foembed%2F1.0%2Fembed&#038;url=http%3A%2F%2Fwww.iobroker.net%2Fdocu%2F%3Fpage_id%3D3692%26lang%3Dde">
<link rel="alternate" type="text/xml+oembed" href="index-302.xml?rest_route=%2Foembed%2F1.0%2Fembed&#038;url=http%3A%2F%2Fwww.iobroker.net%2Fdocu%2F%3Fpage_id%3D3692%26lang%3Dde&#038;format=xml">
	<script>
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
		
		ga('create', 'UA-86900958-1', 'auto');
		ga('send', 'pageview');
		
		</script>

<style>
.scroll-back-to-top-wrapper {
    position: fixed;
	opacity: 0;
	visibility: hidden;
	overflow: hidden;
	text-align: center;
	z-index: 99999999;
    background-color: #777777;
	color: #eeeeee;
	width: 50px;
	height: 48px;
	line-height: 48px;
	right: 30px;
	bottom: 30px;
	padding-top: 2px;
	border-top-left-radius: 10px;
	border-top-right-radius: 10px;
	border-bottom-right-radius: 10px;
	border-bottom-left-radius: 10px;
	-webkit-transition: all 0.5s ease-in-out;
	-moz-transition: all 0.5s ease-in-out;
	-ms-transition: all 0.5s ease-in-out;
	-o-transition: all 0.5s ease-in-out;
	transition: all 0.5s ease-in-out;
}
.scroll-back-to-top-wrapper:hover {
	background-color: #888888;
  color: #eeeeee;
}
.scroll-back-to-top-wrapper.show {
    visibility:visible;
    cursor:pointer;
	opacity: 1.0;
}
.scroll-back-to-top-wrapper i.fa {
	line-height: inherit;
}
.scroll-back-to-top-wrapper .fa-lg {
	vertical-align: 0;
}
</style><!-- Analytics by WP-Statistics v12.6 - https://wp-statistics.com/ -->
		<script type="text/javascript">
			var cli_flush_cache=1;
		</script>
				<style type="text/css" id="wp-custom-css">
			/*
You can add your own CSS here.

Click the help icon above to learn more.
*/
.site-content .content-area{
	/*background: #6592c9;*/
}		</style>
	<style type="text/css">
.paypal-donations { text-align: center !important }
</style>
	</head>

<body class="page-template-default page page-id-3692 page-child parent-pageid-3593 group-blog default" itemscope="itemscope" itemtype="http://schema.org/WebPage">
<div id="container" class="site">
	<a class="skip-link screen-reader-text" href="#content">Springe zum Inhalt</a>
	<a class="skip-link screen-reader-text" href="#main-navigation">Zum Hauptmenü springen</a>
	<div id="top-menu-container" class="container-full-width">
		<nav id="top-menu" class="container" itemscope="" itemtype="http://schema.org/SiteNavigationElement">
			<ul id="menu-2016_top_menue" class="top-menu"><li id="menu-item-2203-de" class="lang-item lang-item-4 lang-item-de lang-item-first current-lang menu-item menu-item-type-custom menu-item-object-custom menu-item-2203-de"><a href="index-327.htm?page_id=3692&#038;lang=de" hreflang="de-DE" lang="de-DE">Deutsch</a></li>
<li id="menu-item-2203-en" class="lang-item lang-item-7 lang-item-en no-translation menu-item menu-item-type-custom menu-item-object-custom menu-item-2203-en"><a href="index-1.htm?lang=en" hreflang="en-GB" lang="en-GB">English</a></li>
<li id="menu-item-2203-ru" class="lang-item lang-item-20 lang-item-ru no-translation menu-item menu-item-type-custom menu-item-object-custom menu-item-2203-ru"><a href="index-2.htm?lang=ru" hreflang="ru-RU" lang="ru-RU">Русский</a></li>
</ul>		</nav>
	</div><!-- top menu container -->
        <div id="header_section">
	<header id="header" class="container-full-width site-header" role="banner" itemscope="itemscope" itemtype="http://schema.org/WPHeader">
				<div class="container">
			<div class="header-row">
				<div id="site-branding">
							<div id="logo">
			<a href="index.htm?lang=de" rel="home" itemprop="url" title="ioBroker">
				<img src="wp-content\uploads\ioBroker_logo_lang-e1456684383484.png" alt="ioBroker" itemprop="image">
			</a>
		</div>
					</div>
				<div id="secondary-header">
					
	<div id="top-widget" class="top-widget" role="complementary" itemscope="itemscope" itemtype="http://schema.org/WPSideBar">
		
			<div id="search-2" class="responsive-mobile-top-widget widget_search"><form role="search" method="get" class="search-form" action="http://www.iobroker.net/docu/">
				<label>
					<span class="screen-reader-text">Suche nach:</span>
					<input type="search" class="search-field" placeholder="Suche&#160;&hellip;" value="" name="s">
				</label>
				<input type="submit" class="search-submit" value="Suche">
			<input type="hidden" name="lang" value="de"></form></div>
			</div><!-- end of #top-widget -->
				</div>
			</div>
		</div>

			</header><!-- #header -->

	<div id="main-menu-container" class="container-full-width">
		<div id="main-menu" class="container">
			<nav id="main-navigation" class="site-navigation" role="navigation" itemscope="itemscope" itemtype="http://schema.org/SiteNavigationElement">
				<div id="mobile-current-item">Menü</div>
				<button id="mobile-nav-button"><span class="accessibile-label">Mobile-Menü ein-/ausschalten</span></button>
				<div class="main-nav"><ul id="menu-2016_kopfzeile_de" class="menu"><li id="menu-item-2204" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2204"><a href="..\index.htm">Startseite</a></li>
<li id="menu-item-7199" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-7199"><a href="http://www.iobrokers.de/">Shop</a></li>
<li id="menu-item-2278" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2278"><a href="index-3.htm?page_id=2258&#038;lang=de">Aktuelles</a></li>
<li id="menu-item-2626" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-2626"><a href="index-4.htm?page_id=2375&#038;lang=de">Einleitung</a>
<ul class="sub-menu">
	<li id="menu-item-6381" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-6381"><a href="index-4.htm?page_id=2375&#038;lang=de">für alle</a></li>
	<li id="menu-item-6380" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-6380"><a href="index-5.htm?page_id=6317&#038;lang=de">für Einsteiger</a>
	<ul class="sub-menu">
		<li id="menu-item-6451" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-6451"><a href="index-6.htm?page_id=6335&#038;lang=de">Server aufsetzen</a></li>
		<li id="menu-item-6450" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-6450"><a href="index-7.htm?page_id=5063&#038;lang=de">erste Adapter</a></li>
		<li id="menu-item-6449" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-6449"><a href="index-8.htm?page_id=6365&#038;lang=de">erste Visualisierung</a></li>
		<li id="menu-item-6826" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-6826"><a href="index-9.htm?page_id=6548&#038;lang=de">Daten loggen</a></li>
		<li id="menu-item-6825" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-6825"><a href="index-10.htm?page_id=6562&#038;lang=de">erster Chart</a></li>
	</ul>
</li>
	<li id="menu-item-2289" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2289"><a href="index-11.htm?page_id=2281&#038;lang=de">für Entwickler</a></li>
</ul>
</li>
<li id="menu-item-2290" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-2290"><a href="index-12.htm?page_id=2279&#038;lang=de">Installation / Start</a>
<ul class="sub-menu">
	<li id="menu-item-2395" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2395"><a href="index-13.htm?page_id=2387&#038;lang=de">Videos</a></li>
	<li id="menu-item-3336" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-3336"><a href="index-14.htm?page_id=3334&#038;lang=de">Plattformen / Betriebssystem</a>
	<ul class="sub-menu">
		<li id="menu-item-8383" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-8383"><a href="index-15.htm?page_id=8323&#038;lang=de">Linux Schnellstart (auch für Raspberry Pi 2/3)</a></li>
		<li id="menu-item-8382" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-8382"><a href="index-16.htm?page_id=8327&#038;lang=de">Schnellstart für Raspberry Pi 1</a></li>
		<li id="menu-item-8429" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-8429"><a href="index-17.htm?page_id=8390&#038;lang=de">Windows</a></li>
		<li id="menu-item-2300" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2300"><a href="index-18.htm?page_id=2293&#038;lang=de">OS X</a></li>
		<li id="menu-item-3337" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3337"><a href="index-19.htm?page_id=2563&#038;lang=de">Downloads für die Installation</a></li>
		<li id="menu-item-5362" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-5362"><a href="index-20.htm?page_id=5358&#038;lang=de">Einrichtung und Installation von ioBroker in VirtualBox</a></li>
		<li id="menu-item-6767" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-6767"><a href="index-21.htm?page_id=6764&#038;lang=de">ioBroker mit Cloud auf QNAP-453a</a></li>
	</ul>
</li>
	<li id="menu-item-2358" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2358"><a href="index-22.htm?page_id=2354&#038;lang=de">Erster Start von ioBroker</a></li>
	<li id="menu-item-8530" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-8530"><a href="index-23.htm?page_id=8511&#038;lang=de">Grundlagen zur Verwendung von Adaptern</a></li>
	<li id="menu-item-3070" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3070"><a href="index-24.htm?page_id=3068&#038;lang=de">Multihost Modus</a></li>
	<li id="menu-item-5890" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-5890"><a href="index-25.htm?page_id=5859&#038;lang=de">Alexa mit ioBroker (Schnellstart)</a></li>
	<li id="menu-item-3964" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3964"><a href="index-26.htm?page_id=3928&#038;lang=de">ioBroker läuft nicht mehr</a></li>
	<li id="menu-item-5532" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-5532"><a href="index-27.htm?page_id=5510&#038;lang=de">Wie das Packet serialport oder ähnlich zu installieren</a></li>
</ul>
</li>
<li id="menu-item-2248" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-2248"><a href="index-28.htm?page_id=2236&#038;lang=de">Adapter</a>
<ul class="sub-menu">
	<li id="menu-item-2249" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2249"><a href="index-29.htm?page_id=2238&#038;lang=de">Allgemein</a></li>
	<li id="menu-item-2429" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-2429"><a href="index-30.htm?page_id=2407&#038;lang=de">Aufbewahrung</a>
	<ul class="sub-menu">
		<li id="menu-item-6988" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-6988"><a href="index-31.htm?page_id=5197&#038;lang=de">Howto – MariaDB auf der Synology DiskStation als Datenbank für Flot</a></li>
	</ul>
</li>
	<li id="menu-item-2430" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2430"><a href="index-32.htm?page_id=2405&#038;lang=de">Hardware</a></li>
	<li id="menu-item-2425" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2425"><a href="index-33.htm?page_id=2417&#038;lang=de">Kommunikation</a></li>
	<li id="menu-item-2424" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2424"><a href="index-34.htm?page_id=2419&#038;lang=de">Medien</a></li>
	<li id="menu-item-2426" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2426"><a href="index-35.htm?page_id=2415&#038;lang=de">Skripte und Logik</a></li>
	<li id="menu-item-2427" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-2427"><a href="index-36.htm?page_id=2412&#038;lang=de">ioBroker.vis</a>
	<ul class="sub-menu">
		<li id="menu-item-5035" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-5035"><a href="index-37.htm?page_id=5026&#038;lang=de">ioBroker.vis App</a></li>
	</ul>
</li>
	<li id="menu-item-2431" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2431"><a href="index-38.htm?page_id=2403&#038;lang=de">Visualisierung</a></li>
	<li id="menu-item-2423" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2423"><a href="index-39.htm?page_id=2421&#038;lang=de">Wartung</a></li>
	<li id="menu-item-2432" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2432"><a href="index-40.htm?page_id=2401&#038;lang=de">Wetter</a></li>
	<li id="menu-item-2428" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2428"><a href="index-41.htm?page_id=2410&#038;lang=de">Zeitplanung</a></li>
</ul>
</li>
<li id="menu-item-2805" class="menu-item menu-item-type-post_type menu-item-object-page current-page-ancestor menu-item-has-children menu-item-2805"><a href="index-42.htm?page_id=2786&#038;lang=de">Scripte</a>
<ul class="sub-menu">
	<li id="menu-item-5401" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-5401"><a href="index-43.htm?page_id=5385&#038;lang=de">Einführung Programmieren mit Javascript</a></li>
	<li id="menu-item-3757" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3757"><a href="index-44.htm?page_id=3526&#038;lang=de">Counter</a></li>
	<li id="menu-item-3758" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3758"><a href="index-45.htm?page_id=3585&#038;lang=de">Heizung / Lüftung</a></li>
	<li id="menu-item-3759" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3759"><a href="index-46.htm?page_id=3587&#038;lang=de">Info / Status</a></li>
	<li id="menu-item-3755" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3755"><a href="index-47.htm?page_id=3589&#038;lang=de">Mediensteuerung</a></li>
	<li id="menu-item-3754" class="menu-item menu-item-type-post_type menu-item-object-page current-page-ancestor menu-item-3754"><a href="index-48.htm?page_id=3593&#038;lang=de">Steuern / Regeln</a></li>
	<li id="menu-item-3756" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3756"><a href="index-49.htm?page_id=3591&#038;lang=de">Zeitsteuerung</a></li>
</ul>
</li>
<li id="menu-item-2288" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-2288"><a href="index-50.htm?page_id=2283&#038;lang=de">Downloads</a>
<ul class="sub-menu">
	<li id="menu-item-2806" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2806"><a href="index-19.htm?page_id=2563&#038;lang=de">Downloads für die Installation</a></li>
	<li id="menu-item-5146" class="menu-item menu-item-type-post_type menu-item-object-page current-page-ancestor menu-item-5146"><a href="index-42.htm?page_id=2786&#038;lang=de">Scripte</a></li>
</ul>
</li>
<li id="menu-item-2287" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-2287"><a href="index-51.htm?page_id=2285&#038;lang=de">Forum / Support</a>
<ul class="sub-menu">
	<li id="menu-item-2379" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2379"><a href="http://forum.iobroker.net">Forum</a></li>
	<li id="menu-item-7324" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-7324"><a href="index-52.htm?page_id=7322&#038;lang=de">Glossar</a></li>
	<li id="menu-item-2396" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2396"><a href="index-53.htm?page_id=2380&#038;lang=de">FAQ</a></li>
	<li id="menu-item-8440" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-8440"><a href="index-54.htm?page_id=8438&#038;lang=de">Troubleshooting (in Arbeit)</a></li>
	<li id="menu-item-2394" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2394"><a href="index-55.htm?page_id=2392&#038;lang=de">Tipps und Tricks</a></li>
</ul>
</li>
</ul></div>			</nav><!-- #site-navigation -->
		</div><!-- #main-menu -->
	</div><!-- #main-menu-container -->
	<div id="sub-menu-container" class="container-full-width">
		<div id="sub-menu" class="container">
			<nav id="sub-navigation" class="site-navigation" role="navigation" itemscope="itemscope" itemtype="http://schema.org/SiteNavigationElement">
						</nav><!-- #site-navigation -->
		</div><!-- #sub-menu -->
	</div><!-- #sub-menu-container -->
        </div>
	<div id="wrapper" class="site-content container-full-width">

	<div id="content" class="content-area">
			<main id="main" class="site-main" role="main">

				<div class="breadcrumb-list" xmlns:v="http://rdf.data-vocabulary.org/#"><span class="breadcrumb" typeof="v:Breadcrumb"><a rel="v:url" property="v:title" href="index.htm?lang=de">Home</a></span> <span class="chevron">&#8250;</span> <span class="breadcrumb" typeof="v:Breadcrumb"><a rel="v:url" property="v:title" href="index-163.htm?page_id=2364&lang=de">Deutsch</a></span> <span class="chevron">&#8250;</span> <span class="breadcrumb" typeof="v:Breadcrumb"><a rel="v:url" property="v:title" href="index-42.htm?page_id=2786&lang=de">Scripte</a></span> <span class="chevron">&#8250;</span> <span class="breadcrumb" typeof="v:Breadcrumb"><a rel="v:url" property="v:title" href="index-48.htm?page_id=3593&lang=de">Steuern / Regeln</a></span> <span class="chevron">&#8250;</span> <span class="breadcrumb-current">Hue Dynamische Szenen</span></div>
				
					
<article id="post-3692" class="post-3692 page type-page status-publish hentry">
		
	
<header class="entry-header">
	
	</header><!-- .entry-header -->

	<div class="post-entry">
		<h1><span id="Dynamische_Szenen_mit_Philps_Hue">Dynamische Szenen mit Philps Hue</span></h1>
<p>Steuerung von HUE Lampen anhand von voreingestellten Szenen wie z.B. Sonne oder Kamin et.</p>
<div id="toc_container" class="no_bullets"><ul class="toc_list"><li><a href="#Dynamische_Szenen_mit_Philps_Hue"><span class="toc_number toc_depth_1">1</span> Dynamische Szenen mit Philps Hue</a><ul><li><a href="#Steckbrief"><span class="toc_number toc_depth_2">1.1</span> Steckbrief</a></li><li><a href="#Script"><span class="toc_number toc_depth_2">1.2</span> Script</a></li></ul></li></ul></div>

<table width="100%">
<tbody>
<tr>
<td style="width: 50%;">
<h2><span id="Steckbrief">Steckbrief</span></h2>
</td>
<td style="width: 50%;"></td>
</tr>
<tr>
<td style="width: 50%;"><strong>Art des Scripts</strong></td>
<td style="width: 50%;">Komplettscript</td>
</tr>
<tr>
<td style="width: 50%;"><strong>Aktuelle Version</strong></td>
<td style="width: 50%;"></td>
</tr>
<tr>
<td style="width: 50%;"><strong>Voraussetzungen</strong></td>
<td style="width: 50%;"></td>
</tr>
<tr>
<td style="width: 50%;"><strong>Entwickler</strong></td>
<td style="width: 50%;">ruhr70</td>
</tr>
<tr>
<td style="width: 50%;"><strong>Stichworte</strong></td>
<td style="width: 50%;">Philips, Hue, Szenen</td>
</tr>
<tr>
<td style="width: 50%;"><strong>Zusatzinformation</strong></td>
<td style="width: 50%;">Einbindung in vis im Thread</td>
</tr>
<tr>
<td style="width: 50%;"><strong>Forendiskussion</strong></td>
<td style="width: 50%;"><a href="http://forum.iobroker.net/viewtopic.php?f=21&t=1082&hilit=hue&sid=86d5730bb8c8b05278148a3b6f656c73#p10054">zum Forum</a></td>
</tr>
</tbody>
</table>
<h2><span id="Script">Script</span></h2>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5cefa6e5b8fd6597659635" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Zeilennummern"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Unformatierte Code-Ansicht"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Zeilenumbruch umschalten"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Code aufklappen"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Code in einem neuen Fenster anzeigen"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
// &lt;span class="posthilit"&gt;hue&lt;/span&gt; Szenzen - Script für ioBroker
// V 0.3.0
// 
// es empfiehlt sich den &lt;span class="posthilit"&gt;hue&lt;/span&gt;-Adapter-Loglevel auf warn zu stellen (viele Farbänderungen) 
// 
// 

// todo
// ----
//
// strobo       Effekt
// Rotalarm     Effekt
// Feuer        Effekt 
// 
// prüfen:
// -------
// 
// 
// erledigt: 
// ---------
// bri          optional übergeben (zur Laufzeit veränderbar)
// Einschaltzeit beim ersten Einschalten
// sat          optional übergeben (zur Laufzeit veränderbar)
// Änderungen sat, bri per on() überwachen und Lampen in aktiver Gruppe sofort anpassen
// neue DP Strukutur ()
// 
// 


// ------------ ANFANG der individuellen Konfiguration ------------


// die eigenen Lampen in Gruppen sortiert (die Farbverläufe und Effekte werden nach Gruppen aktiviert)

var lampen ={
    "wohnzimmer":       // Lampengruppe
    [   
        "&lt;span class="posthilit"&gt;hue&lt;/span&gt;.0.Philips_hue.wohnzimmer.kugel",
        "&lt;span class="posthilit"&gt;hue&lt;/span&gt;.0.Philips_hue.wohnzimmer.stehlampe.oben",
        "&lt;span class="posthilit"&gt;hue&lt;/span&gt;.0.Philips_hue.wohnzimmer.stehlampe.mitte",
        "&lt;span class="posthilit"&gt;hue&lt;/span&gt;.0.Philips_hue.wohnzimmer.stehlampe.unten",
        "&lt;span class="posthilit"&gt;hue&lt;/span&gt;.0.Philips_hue.küche.kühlschrank.lc"
        ],
    "schlafzimmer":     // Lampengruppe 
    [   
        "&lt;span class="posthilit"&gt;hue&lt;/span&gt;.0.Philips_hue.schlafzimmer.decke.hinten.links",
        "&lt;span class="posthilit"&gt;hue&lt;/span&gt;.0.Philips_hue.schlafzimmer.decke.hinten.mitte",
        "&lt;span class="posthilit"&gt;hue&lt;/span&gt;.0.Philips_hue.schlafzimmer.decke.hinten.rechts",
        "&lt;span class="posthilit"&gt;hue&lt;/span&gt;.0.Philips_hue.schlafzimmer.decke.vorne.links",
        "&lt;span class="posthilit"&gt;hue&lt;/span&gt;.0.Philips_hue.schlafzimmer.decke.vorne.mitte",
        "&lt;span class="posthilit"&gt;hue&lt;/span&gt;.0.Philips_hue.schlafzimmer.decke.vorne.rechts"        
        ],
    "arbeitszimmer":    // Lampengruppe
    [
        "&lt;span class="posthilit"&gt;hue&lt;/span&gt;.0.Philips_hue.arbeitszimmer.schreibtisch.ls",
        "&lt;span class="posthilit"&gt;hue&lt;/span&gt;.0.Philips_hue.arbeitszimmer.regal.li.re"
        ]
};



var hueSzenenApapterPfad = "&lt;span class="posthilit"&gt;hue&lt;/span&gt;.szene.";    // wo sollen die Datenpunkte in den ioBroker Objekten angelegt werden
                                            // je Lampengruppe werden die Datenpunkte:
                                            // .szene       -&amp;gt; Änderung der Szene per Datenpunkt, z.B. über VIS oder im Script per szeneStart(lampenGruppe,szene,bri);
                                            // .bri         -&amp;gt; Änderung der Helligkeit per Datenpunkt (0-254)
                                            // .sat         -&amp;gt; Änderung der Farbsättigung per Datenpunkt ())0-254)
                                            // .bri_inc     -&amp;gt; Erhöhung/Verminderung der Helligkeit per Datenpunkt (positiver Wert = Heller, negativer Wert = dunkler)
                                            // .sat_inc     -&amp;gt; Erhöhung/Verminderung der Sättigung per Datenpunkt  (positiver Wert = mehr Farbe, negativer Wert = blasser)
                                            // angelegt
                                            // z.B. unter: javascript.0.&lt;span class="posthilit"&gt;hue&lt;/span&gt;.szene.arbeitszimmer.szene (Javascfript Instanz 0, Pfad = "&lt;span class="posthilit"&gt;hue&lt;/span&gt;.szene.")


// globaler Parameter: Zufällige Zeit zwischen den Wechsel zwischen zwei Farben, je Lampe, in der aktivierten Szene in ms
// (wenn keine individuelle Zeit in der Szene definiert ist)
var delayMin =  1000;   // minimale Zeit in ms einer Lampe, um in die nächste Farbe zu wechseln
var delayMax =  3000;   // maximale Zeit in ms einer Lampe, um in die nächste Farbe zu wechseln




// ------------ ENDE der individuellen Konfiguration ------------







// -------------------------------------------------------------------------
// Script: Logik &amp;amp; Szenen - ab hier muss in der Regel nichts geändert werden
// -------------------------------------------------------------------------


var szenen = {
    "beispiel":
    {
        "description":  "Beispielszene",    // optional: Beschreibung der Szene
        "delayMin":     2000,               // optional (ohne werden die globalen Einstellungen verwendet)
        "delayMax":     9000,               // optional (ohne werden die globalen Einstellungen verwendet)
        "hueMin":       0,                  // niedrigste Farbe im Verlauf
        "hueMax":       50000               // höchste Farbe im Verlauf
    },
    "kamin":
    {
        "description":  "roter Farbverlauf",
        "hueMin":       0,
        "hueMax":       10000
    },
    "wald":
    {
        "description":  "grüner Farbverlauf",
        "hueMin":       20000,
        "hueMax":       27000
    },
    "sonne":
    {
        "description":  "gelb/oranger Farbverlauf",
        "hueMin":       10000,
        "hueMax":       17000
    },
    "blau":
    {
        "description":  "Energie, blauer Farbverlauf",
        "hueMin":       44000,
        "hueMax":       48000
    },
    "love":
    {
        "description":  "langsam wechselnder Farbverlauf im lila/violetten Bereich, bis zu den Endpunkten blau und rot",
        "delayMin":     5000,
        "delayMax":     8000,
        "hueMin":       46920,
        "hueMax":       65355
    }
}




// ##### Script Variablen #####

var timer =             {};
var nextDelay =         {};
var szeneAktiv =        [];
var szene =             [];


//  ##### Script Funktionen #####

function rand(min, max) {
   return Math.floor(Math.random() * (max - min + 1)) + min;
}

function dpAnlegen() {
    for (var lampenGruppe in lampen) {
        createState(hueSzenenApapterPfad + lampenGruppe + ".szene","aus");
        createState(hueSzenenApapterPfad + lampenGruppe + ".infoAktiveSzene","keine");
        createState(hueSzenenApapterPfad + lampenGruppe + ".bri",254);
        createState(hueSzenenApapterPfad + lampenGruppe + ".bri_inc",0);
        createState(hueSzenenApapterPfad + lampenGruppe + ".sat",254);
        createState(hueSzenenApapterPfad + lampenGruppe + ".sat_inc",0);
        log(hueSzenenApapterPfad + lampenGruppe);
    }   
}

function restoreSzenen() {
    for (var lampenGruppe in lampen) {
        var aktiveSzene = getState(hueSzenenApapterPfad + lampenGruppe + ".szene").val;
        var bri = getState(hueSzenenApapterPfad + lampenGruppe + ".bri").val;
        if (aktiveSzene != "aus") {
            log("im der Gruppe: " + lampenGruppe + " wurde die Szene: " + aktiveSzene + " wieder aktiviert.");
            setState(hueSzenenApapterPfad + lampenGruppe + ".infoAktiveSzene",aktiveSzene);
            szeneStart(lampenGruppe,aktiveSzene,bri);
        }
    }
}

function varsAnlegen() {
    // Script-Variablen für jede Lampengruppe anlagen
    for (var lampenGruppe in lampen) {
        timer[lampenGruppe] =           [];
        nextDelay[lampenGruppe] =       [];
        szeneAktiv[lampenGruppe] =      false;
        szene[lampenGruppe] =           null;
    // Script-Variablen für jede Lampe in jeder Lampengruppe anlegen
        for (var i = 0; i &amp;lt; lampen[lampenGruppe].length; i++) {                 // timer und die nächste Delayzeit für jede Lampe zurückstellen
            timer[lampenGruppe][i] = null; 
            nextDelay[lampenGruppe][i] = 0;
        }
    }
}

function szenenwechsel (lampenGruppe,lampe,delay) {
    delay = Math.floor(delay / 100);                                            // der zufällige Wert für die nächste Lichtfarbe wird auch als transitiontime verwendet (dazu wird das delay durch 100 geteilt)
    //log("aktive Szene: hueMin: " + szenen[szene[lampenGruppe]]["hueMin"] + " hueMax: " + szenen[szene[lampenGruppe]]["hueMax"]);
    var &lt;span class="posthilit"&gt;hue&lt;/span&gt; = rand(szenen[szene[lampenGruppe]]["hueMin"],szenen[szene[lampenGruppe]]["hueMax"]);
    var bri = getState(hueSzenenApapterPfad + lampenGruppe+".bri").val;
    var sat = getState(hueSzenenApapterPfad + lampenGruppe+".sat").val;
    var command = '{"on":true,"&lt;span class="posthilit"&gt;hue&lt;/span&gt;":' + &lt;span class="posthilit"&gt;hue&lt;/span&gt; + ',"sat":' + sat + ',"bri":' + bri + ',"transitiontime":' + delay + '}';
        //log ("Lampe: " + lampen[lampenGruppe][lampe] + " # command: " + command);
    if (bri == 0) command = '{"on":false,"bri":0}';
    setState(lampen[lampenGruppe][lampe] + ".command", command);
}

function berechneDelay (lampenGruppe,lampe){
    // globale Delay-Einstellungen übernehmen
    var delayMinTemp = delayMin;
    var delayMaxTemp = delayMax;
    // globale Delay-Einstellungen überschreiben, wenn in der Szene ein eingener Delay definiert ist
    if (szenen[szene[lampenGruppe]]["delayMin"]) delayMinTemp = szenen[szene[lampenGruppe]]["delayMin"];
    if (szenen[szene[lampenGruppe]]["delayMax"]) delayMaxTemp = szenen[szene[lampenGruppe]]["delayMax"];
    nextDelay[lampenGruppe][lampe] = rand(delayMinTemp,delayMaxTemp);
}

function szeneTimer(lampenGruppe,lampe) {
    var delay = nextDelay[lampenGruppe][lampe] || 0;
    //log("gesetztes Delay: " + delay);
    if (timer[lampenGruppe][lampe]) clearTimeout(timer[lampenGruppe][lampe]);
    timer[lampenGruppe][lampe]  = setTimeout(function() {
        timer[lampenGruppe][lampe] = null;
        berechneDelay(lampenGruppe,lampe);
        szenenwechsel(lampenGruppe,lampe,nextDelay[lampenGruppe][lampe]);
          //log("Delay = " + nextDelay[lampenGruppe][lampe] + " # Lampe: " + lampen[lampenGruppe][lampe]);
        szeneTimer(lampenGruppe,lampe); // ruft den Timer nach Ablauf wieder auf
    },delay);

}

function check254(check) {
    if (check !== 0) if (!check) check = 254;
    check = parseInt(check);
    if (check &amp;gt; 254) check =254;
    if (check &amp;lt;= 0 ) check = 0;
    return check;
}

function setBri(lampenGruppe,aktiveSzene,bri) {
    if (szenen[aktiveSzene]["bri"]) bri = szenen[aktiveSzene]["bri"];
    bri = check254(bri);
    setState(hueSzenenApapterPfad + lampenGruppe+".bri", bri);
}

function setSat(lampenGruppe,aktiveSzene,sat) {
    if (szenen[aktiveSzene]["sat"]) sat = szenen[aktiveSzene]["sat"];
    sat = check254(sat);
    setState(hueSzenenApapterPfad + lampenGruppe+".sat", sat);
}

function szeneStart(lampenGruppe,aktiveSzene,bri,sat) {
    if (!szenen[aktiveSzene]) {                                                 // undefinierte Szenen abfangen
        log("# &lt;span class="posthilit"&gt;hue&lt;/span&gt; Szenen Script: undefinierte Szene wurde versucht aufzurufen: " + aktiveSzene,"error");
        return;
    }
    szene[lampenGruppe] = aktiveSzene;
    setBri(lampenGruppe,aktiveSzene,bri);
    setSat(lampenGruppe,aktiveSzene,sat);
    if (!szeneAktiv[lampenGruppe]) {
        szeneAktiv[lampenGruppe] = true;
        for (var i = 0; i &amp;lt; lampen[lampenGruppe].length; i++) {                 // für alle Lampen den timer starten
            nextDelay[lampenGruppe][i] = 0;
            szeneTimer(lampenGruppe,i);
        }
    }
}

function szeneStop(lampenGruppe) {                                              // alle aktiven timer löschen
    for (var i = 0; i &amp;lt; lampen[lampenGruppe].length; i++) {
        clearTimeout(timer[lampenGruppe][i]);
        log("Timer: " + lampen[lampenGruppe][i] + " gestoppt");
    }
    szeneAktiv[lampenGruppe] =  false;
    szene[lampenGruppe] =       null;
}

function lampenAus(lampenGruppe) {
    for (var i = 0; i &amp;lt; lampen[lampenGruppe].length; i++) {
        setState(lampen[lampenGruppe][i]+".command",'{"on":false}');
    }
}

function setBriSat(com,wert,lampenGruppe) {
    if (wert != check254(wert)) {
        wert = check254(wert);
        setState(hueSzenenApapterPfad + lampenGruppe + "." + com, wert);    //korrigiert bri/sat und  ruft diese on() Funktion direkt wieder auf
    } else {
        log("Lampengruppe: " + lampenGruppe + " # " + com + ": " + wert + " empfangen","warn");
        if (szeneAktiv[lampenGruppe]) {                                         // wenn die Szene in der Gruppe aktiv ist:
            for (var i = 0; i &amp;lt; lampen[lampenGruppe].length; i++) {             // für alle Lampen der Gruppe
                setState(lampen[lampenGruppe][i] + "." + com, wert);            // die Helligkeit/Saturation direkt ändern
                log(com + ": " + wert + " # " + lampen[lampenGruppe][i] + " gesetzt","warn");
            }
        }
    }    
}

function changeBriSat (com, wert, lampenGruppe) {
    com = com.replace("_inc", "");
    var alterWert = getState(hueSzenenApapterPfad + lampenGruppe + "." + com).val;
    wert = parseInt(wert) + alterWert;
    setState(hueSzenenApapterPfad + lampenGruppe + "." + com, wert);            //setzt bri/sat neu. Dies ruft die on() Funktion direkt wieder auf, diesmal mit bri/sat
}





//  ##### Überwachte Datenpunkte #####


// Änderung der Helligkeit (.bri) oder Farbsättigung (.sat) während der Laufzeit über einen Datenpunkt

var reg = new RegExp("^javascript\\.\\d+\\." + hueSzenenApapterPfad.replace('.', '\\.') + ".*\\.(sat|bri)");
on({"id":reg , "change": "ne"}, function (obj) {
    var com = obj.id.split('.').pop();
    var   str = obj.id.replace(/\.(bri|sat)$/, "");
    var reg2 = new RegExp("^javascript\\.\\d+\\."+ hueSzenenApapterPfad.replace('.', '\\.'));
    var lampenGruppe = str.replace(reg2, "");
    var wert = obj.newState.val;
    setBriSat (com, wert, lampenGruppe);
});


// Änderung der Helligkeit oder Farbsättignung als adaptiver Wert (.bri_inc, .sat_inc)

var reg = new RegExp("^javascript\\.\\d+\\." + hueSzenenApapterPfad.replace('.', '\\.') + ".*\\.(sat_inc|bri_inc)");
on({"id":reg , "change": "any"}, function (obj) {
    var com = obj.id.split('.').pop();
    var   str = obj.id.replace(/\.(sat_inc|bri_inc)$/, "");
    var reg2 = new RegExp("^javascript\\.\\d+\\."+ hueSzenenApapterPfad.replace('.', '\\.'));
    var lampenGruppe = str.replace(reg2, "");
    var wert = obj.newState.val;
    changeBriSat (com, wert, lampenGruppe);
});


// Änderung einer Szene während der Laufzeit, z.B. über VIS

var reg = new RegExp("^javascript\\.\\d+\\." + hueSzenenApapterPfad.replace('.', '\\.') + ".*\\.szene");
on(reg , function (obj) {
    var   str = obj.id.replace(/\.szene$/, "");
    var reg2 = new RegExp("^javascript\\.\\d+\\."+ hueSzenenApapterPfad.replace('.', '\\.'));
    var lampenGruppe = str.replace(reg2, "");
    var szene =         obj.newState.val;
    log("Lampengruppe: " + lampenGruppe + " # Szene: " + szene + " empfangen");
    switch (szene) {
        case "aus":
            szeneStop(lampenGruppe);
            lampenAus(lampenGruppe);
            log(lampenGruppe + " Szene deaktiviert");
            break;
        case "stop":
            szeneStop(lampenGruppe);
            log(lampenGruppe + " Szene angehalten");
            break;
        default:
            if (szenen[szene]) {
                // TODO: bri nur ermitteln, wenn in der Szene kein eigener bri festgelegt ist    
                    var bri = getState(hueSzenenApapterPfad + lampenGruppe+".bri").val;
                    bri = check254(bri);
                    if (bri == 0) bri = 254;
                szeneStart(lampenGruppe,szene,bri);
                setState(hueSzenenApapterPfad + lampenGruppe+".infoAktiveSzene", szene);
                log(lampenGruppe + " Szene: " + szene + " gestartet");
                break;
            }
            log("### unbekannte Szene: " + szene,"warn");
            break;
      }
 });




//  ##### Scriptstart #####

dpAnlegen();        // je einen Datenpunkt pro Lampengruppe anlegen
varsAnlegen();      // die für das Script notwendigen Variablen erstellen


// warte bis alle States und Objekte angelegt werden.
// 500ms und dann starte main();
function main() {

//  ##### Scriptstart main() #####

    restoreSzenen();    // aktiviert zuletzt eingestellte Szenen

}
setTimeout(main, 500);</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-2">2</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-4">4</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-6">6</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-8">8</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-10">10</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-12">12</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-14">14</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-16">16</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-18">18</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-20">20</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-22">22</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-24">24</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-26">26</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-28">28</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-30">30</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-32">32</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-34">34</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-36">36</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-38">38</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-40">40</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-41">41</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-42">42</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-43">43</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-44">44</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-45">45</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-46">46</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-47">47</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-48">48</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-49">49</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-50">50</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-51">51</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-52">52</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-53">53</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-54">54</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-55">55</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-56">56</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-57">57</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-58">58</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-59">59</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-60">60</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-61">61</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-62">62</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-63">63</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-64">64</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-65">65</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-66">66</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-67">67</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-68">68</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-69">69</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-70">70</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-71">71</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-72">72</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-73">73</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-74">74</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-75">75</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-76">76</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-77">77</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-78">78</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-79">79</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-80">80</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-81">81</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-82">82</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-83">83</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-84">84</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-85">85</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-86">86</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-87">87</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-88">88</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-89">89</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-90">90</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-91">91</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-92">92</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-93">93</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-94">94</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-95">95</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-96">96</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-97">97</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-98">98</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-99">99</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-100">100</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-101">101</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-102">102</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-103">103</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-104">104</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-105">105</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-106">106</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-107">107</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-108">108</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-109">109</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-110">110</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-111">111</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-112">112</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-113">113</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-114">114</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-115">115</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-116">116</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-117">117</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-118">118</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-119">119</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-120">120</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-121">121</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-122">122</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-123">123</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-124">124</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-125">125</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-126">126</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-127">127</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-128">128</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-129">129</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-130">130</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-131">131</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-132">132</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-133">133</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-134">134</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-135">135</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-136">136</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-137">137</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-138">138</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-139">139</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-140">140</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-141">141</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-142">142</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-143">143</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-144">144</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-145">145</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-146">146</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-147">147</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-148">148</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-149">149</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-150">150</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-151">151</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-152">152</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-153">153</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-154">154</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-155">155</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-156">156</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-157">157</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-158">158</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-159">159</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-160">160</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-161">161</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-162">162</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-163">163</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-164">164</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-165">165</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-166">166</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-167">167</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-168">168</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-169">169</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-170">170</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-171">171</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-172">172</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-173">173</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-174">174</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-175">175</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-176">176</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-177">177</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-178">178</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-179">179</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-180">180</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-181">181</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-182">182</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-183">183</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-184">184</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-185">185</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-186">186</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-187">187</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-188">188</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-189">189</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-190">190</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-191">191</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-192">192</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-193">193</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-194">194</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-195">195</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-196">196</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-197">197</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-198">198</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-199">199</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-200">200</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-201">201</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-202">202</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-203">203</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-204">204</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-205">205</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-206">206</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-207">207</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-208">208</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-209">209</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-210">210</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-211">211</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-212">212</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-213">213</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-214">214</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-215">215</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-216">216</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-217">217</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-218">218</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-219">219</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-220">220</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-221">221</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-222">222</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-223">223</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-224">224</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-225">225</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-226">226</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-227">227</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-228">228</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-229">229</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-230">230</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-231">231</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-232">232</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-233">233</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-234">234</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-235">235</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-236">236</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-237">237</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-238">238</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-239">239</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-240">240</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-241">241</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-242">242</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-243">243</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-244">244</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-245">245</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-246">246</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-247">247</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-248">248</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-249">249</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-250">250</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-251">251</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-252">252</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-253">253</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-254">254</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-255">255</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-256">256</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-257">257</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-258">258</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-259">259</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-260">260</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-261">261</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-262">262</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-263">263</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-264">264</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-265">265</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-266">266</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-267">267</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-268">268</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-269">269</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-270">270</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-271">271</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-272">272</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-273">273</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-274">274</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-275">275</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-276">276</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-277">277</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-278">278</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-279">279</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-280">280</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-281">281</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-282">282</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-283">283</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-284">284</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-285">285</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-286">286</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-287">287</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-288">288</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-289">289</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-290">290</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-291">291</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-292">292</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-293">293</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-294">294</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-295">295</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-296">296</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-297">297</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-298">298</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-299">299</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-300">300</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-301">301</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-302">302</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-303">303</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-304">304</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-305">305</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-306">306</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-307">307</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-308">308</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-309">309</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-310">310</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-311">311</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-312">312</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-313">313</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-314">314</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-315">315</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-316">316</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-317">317</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-318">318</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-319">319</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-320">320</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-321">321</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-322">322</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-323">323</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-324">324</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-325">325</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-326">326</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-327">327</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-328">328</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-329">329</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-330">330</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-331">331</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-332">332</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-333">333</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-334">334</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-335">335</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-336">336</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-337">337</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-338">338</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-339">339</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-340">340</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-341">341</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-342">342</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-343">343</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-344">344</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-345">345</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-346">346</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-347">347</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-348">348</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-349">349</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-350">350</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-351">351</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-352">352</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-353">353</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-354">354</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-355">355</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-356">356</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-357">357</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-358">358</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-359">359</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-360">360</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-361">361</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-362">362</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-363">363</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-364">364</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-365">365</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-366">366</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-367">367</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-368">368</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-369">369</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-370">370</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-371">371</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-372">372</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-373">373</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-374">374</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-375">375</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-376">376</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-377">377</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-378">378</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-379">379</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-380">380</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-381">381</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-382">382</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-383">383</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-384">384</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-385">385</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-386">386</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-387">387</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e5b8fd6597659635-388">388</div><div class="crayon-num" data-line="crayon-5cefa6e5b8fd6597659635-389">389</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-1"><span class="crayon-c">// &lt;span class="posthilit"&gt;hue&lt;/span&gt; Szenzen - Script für ioBroker</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-2"><span class="crayon-c">// V 0.3.0</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-3"><span class="crayon-c">// </span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-4"><span class="crayon-c">// es empfiehlt sich den &lt;span class="posthilit"&gt;hue&lt;/span&gt;-Adapter-Loglevel auf warn zu stellen (viele Farbänderungen) </span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-5"><span class="crayon-c">// </span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-6"><span class="crayon-c">// </span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-7">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-8"><span class="crayon-c">// todo</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-9"><span class="crayon-c">// ----</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-10"><span class="crayon-c">//</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-11"><span class="crayon-c">// strobo       Effekt</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-12"><span class="crayon-c">// Rotalarm     Effekt</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-13"><span class="crayon-c">// Feuer        Effekt </span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-14"><span class="crayon-c">// </span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-15"><span class="crayon-c">// prüfen:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-16"><span class="crayon-c">// -------</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-17"><span class="crayon-c">// </span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-18"><span class="crayon-c">// </span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-19"><span class="crayon-c">// erledigt: </span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-20"><span class="crayon-c">// ---------</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-21"><span class="crayon-c">// bri          optional übergeben (zur Laufzeit veränderbar)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-22"><span class="crayon-c">// Einschaltzeit beim ersten Einschalten</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-23"><span class="crayon-c">// sat          optional übergeben (zur Laufzeit veränderbar)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-24"><span class="crayon-c">// Änderungen sat, bri per on() überwachen und Lampen in aktiver Gruppe sofort anpassen</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-25"><span class="crayon-c">// neue DP Strukutur ()</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-26"><span class="crayon-c">// </span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-27"><span class="crayon-c">// </span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-28">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-29">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-30"><span class="crayon-c">// ------------ ANFANG der individuellen Konfiguration ------------</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-31">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-32">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-33"><span class="crayon-c">// die eigenen Lampen in Gruppen sortiert (die Farbverläufe und Effekte werden nach Gruppen aktiviert)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-34">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-35"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">lampen</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-36"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-s">"wohnzimmer"</span><span class="crayon-o">:</span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-c">// Lampengruppe</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-37"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-sy">[</span> <span class="crayon-h"> </span> </div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-38"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-s">"&lt;span class="</span><span class="crayon-i">posthilit</span><span class="crayon-s">"&gt;hue&lt;/span&gt;.0.Philips_hue.wohnzimmer.kugel"</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-39"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-s">"&lt;span class="</span><span class="crayon-i">posthilit</span><span class="crayon-s">"&gt;hue&lt;/span&gt;.0.Philips_hue.wohnzimmer.stehlampe.oben"</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-40"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-s">"&lt;span class="</span><span class="crayon-i">posthilit</span><span class="crayon-s">"&gt;hue&lt;/span&gt;.0.Philips_hue.wohnzimmer.stehlampe.mitte"</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-41"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-s">"&lt;span class="</span><span class="crayon-i">posthilit</span><span class="crayon-s">"&gt;hue&lt;/span&gt;.0.Philips_hue.wohnzimmer.stehlampe.unten"</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-42"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-s">"&lt;span class="</span><span class="crayon-i">posthilit</span><span class="crayon-s">"&gt;hue&lt;/span&gt;.0.Philips_hue.küche.kühlschrank.lc"</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-43"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-sy">]</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-44"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-s">"schlafzimmer"</span><span class="crayon-o">:</span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-c">// Lampengruppe </span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-45"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-sy">[</span> <span class="crayon-h"> </span> </div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-46"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-s">"&lt;span class="</span><span class="crayon-i">posthilit</span><span class="crayon-s">"&gt;hue&lt;/span&gt;.0.Philips_hue.schlafzimmer.decke.hinten.links"</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-47"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-s">"&lt;span class="</span><span class="crayon-i">posthilit</span><span class="crayon-s">"&gt;hue&lt;/span&gt;.0.Philips_hue.schlafzimmer.decke.hinten.mitte"</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-48"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-s">"&lt;span class="</span><span class="crayon-i">posthilit</span><span class="crayon-s">"&gt;hue&lt;/span&gt;.0.Philips_hue.schlafzimmer.decke.hinten.rechts"</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-49"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-s">"&lt;span class="</span><span class="crayon-i">posthilit</span><span class="crayon-s">"&gt;hue&lt;/span&gt;.0.Philips_hue.schlafzimmer.decke.vorne.links"</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-50"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-s">"&lt;span class="</span><span class="crayon-i">posthilit</span><span class="crayon-s">"&gt;hue&lt;/span&gt;.0.Philips_hue.schlafzimmer.decke.vorne.mitte"</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-51"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-s">"&lt;span class="</span><span class="crayon-i">posthilit</span><span class="crayon-s">"&gt;hue&lt;/span&gt;.0.Philips_hue.schlafzimmer.decke.vorne.rechts"</span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-52"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-sy">]</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-53"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-s">"arbeitszimmer"</span><span class="crayon-o">:</span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-c">// Lampengruppe</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-54"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-sy">[</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-55"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-s">"&lt;span class="</span><span class="crayon-i">posthilit</span><span class="crayon-s">"&gt;hue&lt;/span&gt;.0.Philips_hue.arbeitszimmer.schreibtisch.ls"</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-56"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-s">"&lt;span class="</span><span class="crayon-i">posthilit</span><span class="crayon-s">"&gt;hue&lt;/span&gt;.0.Philips_hue.arbeitszimmer.regal.li.re"</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-57"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-58"><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-59">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-60">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-61">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-62"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">hueSzenenApapterPfad</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"&lt;span class="</span><span class="crayon-i">posthilit</span><span class="crayon-s">"&gt;hue&lt;/span&gt;.szene."</span><span class="crayon-sy">;</span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-c">// wo sollen die Datenpunkte in den ioBroker Objekten angelegt werden</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-63"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-c">// je Lampengruppe werden die Datenpunkte:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-64"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-c">// .szene       -&amp;gt; Änderung der Szene per Datenpunkt, z.B. über VIS oder im Script per szeneStart(lampenGruppe,szene,bri);</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-65"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-c">// .bri         -&amp;gt; Änderung der Helligkeit per Datenpunkt (0-254)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-66"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-c">// .sat         -&amp;gt; Änderung der Farbsättigung per Datenpunkt ())0-254)</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-67"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-c">// .bri_inc     -&amp;gt; Erhöhung/Verminderung der Helligkeit per Datenpunkt (positiver Wert = Heller, negativer Wert = dunkler)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-68"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-c">// .sat_inc     -&amp;gt; Erhöhung/Verminderung der Sättigung per Datenpunkt  (positiver Wert = mehr Farbe, negativer Wert = blasser)</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-69"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-c">// angelegt</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-70"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-c">// z.B. unter: javascript.0.&lt;span class="posthilit"&gt;hue&lt;/span&gt;.szene.arbeitszimmer.szene (Javascfript Instanz 0, Pfad = "&lt;span class="posthilit"&gt;hue&lt;/span&gt;.szene.")</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-71">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-72">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-73"><span class="crayon-c">// globaler Parameter: Zufällige Zeit zwischen den Wechsel zwischen zwei Farben, je Lampe, in der aktivierten Szene in ms</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-74"><span class="crayon-c">// (wenn keine individuelle Zeit in der Szene definiert ist)</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-75"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">delayMin</span><span class="crayon-h"> </span><span class="crayon-o">=</span> <span class="crayon-h"> </span><span class="crayon-cn">1000</span><span class="crayon-sy">;</span> <span class="crayon-h"> </span> <span class="crayon-c">// minimale Zeit in ms einer Lampe, um in die nächste Farbe zu wechseln</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-76"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">delayMax</span><span class="crayon-h"> </span><span class="crayon-o">=</span> <span class="crayon-h"> </span><span class="crayon-cn">3000</span><span class="crayon-sy">;</span> <span class="crayon-h"> </span> <span class="crayon-c">// maximale Zeit in ms einer Lampe, um in die nächste Farbe zu wechseln</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-77">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-78">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-79">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-80">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-81"><span class="crayon-c">// ------------ ENDE der individuellen Konfiguration ------------</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-82">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-83">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-84">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-85">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-86">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-87">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-88">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-89"><span class="crayon-c">// -------------------------------------------------------------------------</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-90"><span class="crayon-c">// Script: Logik &amp;amp; Szenen - ab hier muss in der Regel nichts geändert werden</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-91"><span class="crayon-c">// -------------------------------------------------------------------------</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-92">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-93">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-94"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">szenen</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-95"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-s">"beispiel"</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-96"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-97"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-s">"description"</span><span class="crayon-o">:</span> <span class="crayon-h"> </span><span class="crayon-s">"Beispielszene"</span><span class="crayon-sy">,</span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-c">// optional: Beschreibung der Szene</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-98"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-s">"delayMin"</span><span class="crayon-o">:</span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-cn">2000</span><span class="crayon-sy">,</span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-c">// optional (ohne werden die globalen Einstellungen verwendet)</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-99"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-s">"delayMax"</span><span class="crayon-o">:</span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-cn">9000</span><span class="crayon-sy">,</span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-c">// optional (ohne werden die globalen Einstellungen verwendet)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-100"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-s">"hueMin"</span><span class="crayon-o">:</span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-cn">0</span><span class="crayon-sy">,</span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-c">// niedrigste Farbe im Verlauf</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-101"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-s">"hueMax"</span><span class="crayon-o">:</span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-cn">50000</span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-c">// höchste Farbe im Verlauf</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-102"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-sy">}</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-103"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-s">"kamin"</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-104"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-105"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-s">"description"</span><span class="crayon-o">:</span> <span class="crayon-h"> </span><span class="crayon-s">"roter Farbverlauf"</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-106"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-s">"hueMin"</span><span class="crayon-o">:</span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-cn">0</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-107"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-s">"hueMax"</span><span class="crayon-o">:</span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-cn">10000</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-108"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-sy">}</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-109"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-s">"wald"</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-110"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-111"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-s">"description"</span><span class="crayon-o">:</span> <span class="crayon-h"> </span><span class="crayon-s">"grüner Farbverlauf"</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-112"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-s">"hueMin"</span><span class="crayon-o">:</span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-cn">20000</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-113"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-s">"hueMax"</span><span class="crayon-o">:</span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-cn">27000</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-114"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-sy">}</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-115"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-s">"sonne"</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-116"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-117"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-s">"description"</span><span class="crayon-o">:</span> <span class="crayon-h"> </span><span class="crayon-s">"gelb/oranger Farbverlauf"</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-118"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-s">"hueMin"</span><span class="crayon-o">:</span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-cn">10000</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-119"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-s">"hueMax"</span><span class="crayon-o">:</span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-cn">17000</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-120"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-sy">}</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-121"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-s">"blau"</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-122"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-123"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-s">"description"</span><span class="crayon-o">:</span> <span class="crayon-h"> </span><span class="crayon-s">"Energie, blauer Farbverlauf"</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-124"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-s">"hueMin"</span><span class="crayon-o">:</span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-cn">44000</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-125"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-s">"hueMax"</span><span class="crayon-o">:</span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-cn">48000</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-126"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-sy">}</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-127"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-s">"love"</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-128"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-129"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-s">"description"</span><span class="crayon-o">:</span> <span class="crayon-h"> </span><span class="crayon-s">"langsam wechselnder Farbverlauf im lila/violetten Bereich, bis zu den Endpunkten blau und rot"</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-130"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-s">"delayMin"</span><span class="crayon-o">:</span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-cn">5000</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-131"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-s">"delayMax"</span><span class="crayon-o">:</span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-cn">8000</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-132"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-s">"hueMin"</span><span class="crayon-o">:</span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-cn">46920</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-133"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-s">"hueMax"</span><span class="crayon-o">:</span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-cn">65355</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-134"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-135"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-136">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-137">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-138">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-139">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-140"><span class="crayon-c">// ##### Script Variablen #####</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-141">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-142"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">timer</span><span class="crayon-h"> </span><span class="crayon-o">=</span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-sy">{</span><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-143"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">nextDelay</span><span class="crayon-h"> </span><span class="crayon-o">=</span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-sy">{</span><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-144"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">szeneAktiv</span><span class="crayon-h"> </span><span class="crayon-o">=</span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-145"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">szene</span><span class="crayon-h"> </span><span class="crayon-o">=</span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-sy">[</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-146">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-147">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-148"><span class="crayon-c">//  ##### Script Funktionen #####</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-149">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-150"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">rand</span><span class="crayon-sy">(</span><span class="crayon-v">min</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">max</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-151"> <span class="crayon-h"> </span> <span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">Math</span><span class="crayon-sy">.</span><span class="crayon-e">floor</span><span class="crayon-sy">(</span><span class="crayon-v">Math</span><span class="crayon-sy">.</span><span class="crayon-e">random</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">*</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">max</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-v">min</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">min</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-152"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-153">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-154"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">dpAnlegen</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-155"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-e">lampenGruppe </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">lampen</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-156"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-e">createState</span><span class="crayon-sy">(</span><span class="crayon-v">hueSzenenApapterPfad</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">lampenGruppe</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">".szene"</span><span class="crayon-sy">,</span><span class="crayon-s">"aus"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-157"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-e">createState</span><span class="crayon-sy">(</span><span class="crayon-v">hueSzenenApapterPfad</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">lampenGruppe</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">".infoAktiveSzene"</span><span class="crayon-sy">,</span><span class="crayon-s">"keine"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-158"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-e">createState</span><span class="crayon-sy">(</span><span class="crayon-v">hueSzenenApapterPfad</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">lampenGruppe</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">".bri"</span><span class="crayon-sy">,</span><span class="crayon-cn">254</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-159"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-e">createState</span><span class="crayon-sy">(</span><span class="crayon-v">hueSzenenApapterPfad</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">lampenGruppe</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">".bri_inc"</span><span class="crayon-sy">,</span><span class="crayon-cn">0</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-160"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-e">createState</span><span class="crayon-sy">(</span><span class="crayon-v">hueSzenenApapterPfad</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">lampenGruppe</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">".sat"</span><span class="crayon-sy">,</span><span class="crayon-cn">254</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-161"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-e">createState</span><span class="crayon-sy">(</span><span class="crayon-v">hueSzenenApapterPfad</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">lampenGruppe</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">".sat_inc"</span><span class="crayon-sy">,</span><span class="crayon-cn">0</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-162"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-e">log</span><span class="crayon-sy">(</span><span class="crayon-v">hueSzenenApapterPfad</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">lampenGruppe</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-163"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-sy">}</span> <span class="crayon-h"> </span> </div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-164"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-165">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-166"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">restoreSzenen</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-167"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-e">lampenGruppe </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">lampen</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-168"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">aktiveSzene</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">getState</span><span class="crayon-sy">(</span><span class="crayon-v">hueSzenenApapterPfad</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">lampenGruppe</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">".szene"</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-v">val</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-169"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">bri</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">getState</span><span class="crayon-sy">(</span><span class="crayon-v">hueSzenenApapterPfad</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">lampenGruppe</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">".bri"</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-v">val</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-170"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">aktiveSzene</span><span class="crayon-h"> </span><span class="crayon-o">!=</span><span class="crayon-h"> </span><span class="crayon-s">"aus"</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-171"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-e">log</span><span class="crayon-sy">(</span><span class="crayon-s">"im der Gruppe: "</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">lampenGruppe</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">" wurde die Szene: "</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">aktiveSzene</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">" wieder aktiviert."</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-172"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-e">setState</span><span class="crayon-sy">(</span><span class="crayon-v">hueSzenenApapterPfad</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">lampenGruppe</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">".infoAktiveSzene"</span><span class="crayon-sy">,</span><span class="crayon-v">aktiveSzene</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-173"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-e">szeneStart</span><span class="crayon-sy">(</span><span class="crayon-v">lampenGruppe</span><span class="crayon-sy">,</span><span class="crayon-v">aktiveSzene</span><span class="crayon-sy">,</span><span class="crayon-v">bri</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-174"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-175"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-176"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-177">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-178"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">varsAnlegen</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-179"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-c">// Script-Variablen für jede Lampengruppe anlagen</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-180"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-e">lampenGruppe </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">lampen</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-181"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-v">timer</span><span class="crayon-sy">[</span><span class="crayon-v">lampenGruppe</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">=</span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-sy">[</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-182"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-v">nextDelay</span><span class="crayon-sy">[</span><span class="crayon-v">lampenGruppe</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">=</span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-sy">[</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-183"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-v">szeneAktiv</span><span class="crayon-sy">[</span><span class="crayon-v">lampenGruppe</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">=</span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-184"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-v">szene</span><span class="crayon-sy">[</span><span class="crayon-v">lampenGruppe</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">=</span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-t">null</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-185"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-c">// Script-Variablen für jede Lampe in jeder Lampengruppe anlegen</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-186"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">&amp;</span><span class="crayon-v">lt</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">lampen</span><span class="crayon-sy">[</span><span class="crayon-v">lampenGruppe</span><span class="crayon-sy">]</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-o">++</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-c">// timer und die nächste Delayzeit für jede Lampe zurückstellen</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-187"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-v">timer</span><span class="crayon-sy">[</span><span class="crayon-v">lampenGruppe</span><span class="crayon-sy">]</span><span class="crayon-sy">[</span><span class="crayon-v">i</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">null</span><span class="crayon-sy">;</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-188"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-v">nextDelay</span><span class="crayon-sy">[</span><span class="crayon-v">lampenGruppe</span><span class="crayon-sy">]</span><span class="crayon-sy">[</span><span class="crayon-v">i</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-189"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-190"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-191"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-192">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-193"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">szenenwechsel</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">lampenGruppe</span><span class="crayon-sy">,</span><span class="crayon-v">lampe</span><span class="crayon-sy">,</span><span class="crayon-v">delay</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-194"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-v">delay</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">Math</span><span class="crayon-sy">.</span><span class="crayon-e">floor</span><span class="crayon-sy">(</span><span class="crayon-v">delay</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-h"> </span><span class="crayon-cn">100</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-c">// der zufällige Wert für die nächste Lichtfarbe wird auch als transitiontime verwendet (dazu wird das delay durch 100 geteilt)</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-195"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-c">//log("aktive Szene: hueMin: " + szenen[szene[lampenGruppe]]["hueMin"] + " hueMax: " + szenen[szene[lampenGruppe]]["hueMax"]);</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-196"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-e">span </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"posthilit"</span><span class="crayon-o">&gt;</span><span class="crayon-v">hue</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">span</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">rand</span><span class="crayon-sy">(</span><span class="crayon-v">szenen</span><span class="crayon-sy">[</span><span class="crayon-v">szene</span><span class="crayon-sy">[</span><span class="crayon-v">lampenGruppe</span><span class="crayon-sy">]</span><span class="crayon-sy">]</span><span class="crayon-sy">[</span><span class="crayon-s">"hueMin"</span><span class="crayon-sy">]</span><span class="crayon-sy">,</span><span class="crayon-v">szenen</span><span class="crayon-sy">[</span><span class="crayon-v">szene</span><span class="crayon-sy">[</span><span class="crayon-v">lampenGruppe</span><span class="crayon-sy">]</span><span class="crayon-sy">]</span><span class="crayon-sy">[</span><span class="crayon-s">"hueMax"</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-197"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">bri</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">getState</span><span class="crayon-sy">(</span><span class="crayon-v">hueSzenenApapterPfad</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">lampenGruppe</span><span class="crayon-o">+</span><span class="crayon-s">".bri"</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-v">val</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-198"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">sat</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">getState</span><span class="crayon-sy">(</span><span class="crayon-v">hueSzenenApapterPfad</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">lampenGruppe</span><span class="crayon-o">+</span><span class="crayon-s">".sat"</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-v">val</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-199"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">command</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'{"on":true,"&lt;span class="posthilit"&gt;hue&lt;/span&gt;":'</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-o">&lt;</span><span class="crayon-e">span </span><span class="crayon-t">class</span><span class="crayon-o">=</span><span class="crayon-s">"posthilit"</span><span class="crayon-o">&gt;</span><span class="crayon-v">hue</span><span class="crayon-o">&lt;</span><span class="crayon-o">/</span><span class="crayon-v">span</span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">',"sat":'</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">sat</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">',"bri":'</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">bri</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">',"transitiontime":'</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">delay</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">'}'</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-200"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-c">//log ("Lampe: " + lampen[lampenGruppe][lampe] + " # command: " + command);</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-201"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">bri</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-v">command</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'{"on":false,"bri":0}'</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-202"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-e">setState</span><span class="crayon-sy">(</span><span class="crayon-v">lampen</span><span class="crayon-sy">[</span><span class="crayon-v">lampenGruppe</span><span class="crayon-sy">]</span><span class="crayon-sy">[</span><span class="crayon-v">lampe</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">".command"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">command</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-203"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-204">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-205"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">berechneDelay</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">lampenGruppe</span><span class="crayon-sy">,</span><span class="crayon-v">lampe</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-206"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-c">// globale Delay-Einstellungen übernehmen</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-207"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">delayMinTemp</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">delayMin</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-208"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">delayMaxTemp</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">delayMax</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-209"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-c">// globale Delay-Einstellungen überschreiben, wenn in der Szene ein eingener Delay definiert ist</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-210"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">szenen</span><span class="crayon-sy">[</span><span class="crayon-v">szene</span><span class="crayon-sy">[</span><span class="crayon-v">lampenGruppe</span><span class="crayon-sy">]</span><span class="crayon-sy">]</span><span class="crayon-sy">[</span><span class="crayon-s">"delayMin"</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-v">delayMinTemp</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">szenen</span><span class="crayon-sy">[</span><span class="crayon-v">szene</span><span class="crayon-sy">[</span><span class="crayon-v">lampenGruppe</span><span class="crayon-sy">]</span><span class="crayon-sy">]</span><span class="crayon-sy">[</span><span class="crayon-s">"delayMin"</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-211"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">szenen</span><span class="crayon-sy">[</span><span class="crayon-v">szene</span><span class="crayon-sy">[</span><span class="crayon-v">lampenGruppe</span><span class="crayon-sy">]</span><span class="crayon-sy">]</span><span class="crayon-sy">[</span><span class="crayon-s">"delayMax"</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-v">delayMaxTemp</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">szenen</span><span class="crayon-sy">[</span><span class="crayon-v">szene</span><span class="crayon-sy">[</span><span class="crayon-v">lampenGruppe</span><span class="crayon-sy">]</span><span class="crayon-sy">]</span><span class="crayon-sy">[</span><span class="crayon-s">"delayMax"</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-212"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-v">nextDelay</span><span class="crayon-sy">[</span><span class="crayon-v">lampenGruppe</span><span class="crayon-sy">]</span><span class="crayon-sy">[</span><span class="crayon-v">lampe</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">rand</span><span class="crayon-sy">(</span><span class="crayon-v">delayMinTemp</span><span class="crayon-sy">,</span><span class="crayon-v">delayMaxTemp</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-213"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-214">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-215"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">szeneTimer</span><span class="crayon-sy">(</span><span class="crayon-v">lampenGruppe</span><span class="crayon-sy">,</span><span class="crayon-v">lampe</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-216"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">delay</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">nextDelay</span><span class="crayon-sy">[</span><span class="crayon-v">lampenGruppe</span><span class="crayon-sy">]</span><span class="crayon-sy">[</span><span class="crayon-v">lampe</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">||</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-217"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-c">//log("gesetztes Delay: " + delay);</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-218"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">timer</span><span class="crayon-sy">[</span><span class="crayon-v">lampenGruppe</span><span class="crayon-sy">]</span><span class="crayon-sy">[</span><span class="crayon-v">lampe</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-e">clearTimeout</span><span class="crayon-sy">(</span><span class="crayon-v">timer</span><span class="crayon-sy">[</span><span class="crayon-v">lampenGruppe</span><span class="crayon-sy">]</span><span class="crayon-sy">[</span><span class="crayon-v">lampe</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-219"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-v">timer</span><span class="crayon-sy">[</span><span class="crayon-v">lampenGruppe</span><span class="crayon-sy">]</span><span class="crayon-sy">[</span><span class="crayon-v">lampe</span><span class="crayon-sy">]</span> <span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">setTimeout</span><span class="crayon-sy">(</span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-220"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-v">timer</span><span class="crayon-sy">[</span><span class="crayon-v">lampenGruppe</span><span class="crayon-sy">]</span><span class="crayon-sy">[</span><span class="crayon-v">lampe</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">null</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-221"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-e">berechneDelay</span><span class="crayon-sy">(</span><span class="crayon-v">lampenGruppe</span><span class="crayon-sy">,</span><span class="crayon-v">lampe</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-222"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-e">szenenwechsel</span><span class="crayon-sy">(</span><span class="crayon-v">lampenGruppe</span><span class="crayon-sy">,</span><span class="crayon-v">lampe</span><span class="crayon-sy">,</span><span class="crayon-v">nextDelay</span><span class="crayon-sy">[</span><span class="crayon-v">lampenGruppe</span><span class="crayon-sy">]</span><span class="crayon-sy">[</span><span class="crayon-v">lampe</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-223"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-c">//log("Delay = " + nextDelay[lampenGruppe][lampe] + " # Lampe: " + lampen[lampenGruppe][lampe]);</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-224"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-e">szeneTimer</span><span class="crayon-sy">(</span><span class="crayon-v">lampenGruppe</span><span class="crayon-sy">,</span><span class="crayon-v">lampe</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-c">// ruft den Timer nach Ablauf wieder auf</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-225"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-sy">}</span><span class="crayon-sy">,</span><span class="crayon-v">delay</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-226">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-227"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-228">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-229"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">check254</span><span class="crayon-sy">(</span><span class="crayon-v">check</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-230"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">check</span><span class="crayon-h"> </span><span class="crayon-o">!==</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-o">!</span><span class="crayon-v">check</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-v">check</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">254</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-231"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-v">check</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">parseInt</span><span class="crayon-sy">(</span><span class="crayon-v">check</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-232"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">check</span><span class="crayon-h"> </span><span class="crayon-o">&amp;</span><span class="crayon-v">gt</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-cn">254</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-v">check</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-cn">254</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-233"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">check</span><span class="crayon-h"> </span><span class="crayon-o">&amp;</span><span class="crayon-v">lt</span><span class="crayon-sy">;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-h"> </span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-v">check</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-234"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">check</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-235"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-236">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-237"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">setBri</span><span class="crayon-sy">(</span><span class="crayon-v">lampenGruppe</span><span class="crayon-sy">,</span><span class="crayon-v">aktiveSzene</span><span class="crayon-sy">,</span><span class="crayon-v">bri</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-238"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">szenen</span><span class="crayon-sy">[</span><span class="crayon-v">aktiveSzene</span><span class="crayon-sy">]</span><span class="crayon-sy">[</span><span class="crayon-s">"bri"</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-v">bri</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">szenen</span><span class="crayon-sy">[</span><span class="crayon-v">aktiveSzene</span><span class="crayon-sy">]</span><span class="crayon-sy">[</span><span class="crayon-s">"bri"</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-239"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-v">bri</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">check254</span><span class="crayon-sy">(</span><span class="crayon-v">bri</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-240"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-e">setState</span><span class="crayon-sy">(</span><span class="crayon-v">hueSzenenApapterPfad</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">lampenGruppe</span><span class="crayon-o">+</span><span class="crayon-s">".bri"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">bri</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-241"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-242">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-243"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">setSat</span><span class="crayon-sy">(</span><span class="crayon-v">lampenGruppe</span><span class="crayon-sy">,</span><span class="crayon-v">aktiveSzene</span><span class="crayon-sy">,</span><span class="crayon-v">sat</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-244"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">szenen</span><span class="crayon-sy">[</span><span class="crayon-v">aktiveSzene</span><span class="crayon-sy">]</span><span class="crayon-sy">[</span><span class="crayon-s">"sat"</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-v">sat</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">szenen</span><span class="crayon-sy">[</span><span class="crayon-v">aktiveSzene</span><span class="crayon-sy">]</span><span class="crayon-sy">[</span><span class="crayon-s">"sat"</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-245"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-v">sat</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">check254</span><span class="crayon-sy">(</span><span class="crayon-v">sat</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-246"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-e">setState</span><span class="crayon-sy">(</span><span class="crayon-v">hueSzenenApapterPfad</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">lampenGruppe</span><span class="crayon-o">+</span><span class="crayon-s">".sat"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">sat</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-247"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-248">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-249"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">szeneStart</span><span class="crayon-sy">(</span><span class="crayon-v">lampenGruppe</span><span class="crayon-sy">,</span><span class="crayon-v">aktiveSzene</span><span class="crayon-sy">,</span><span class="crayon-v">bri</span><span class="crayon-sy">,</span><span class="crayon-v">sat</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-250"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-o">!</span><span class="crayon-v">szenen</span><span class="crayon-sy">[</span><span class="crayon-v">aktiveSzene</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-c">// undefinierte Szenen abfangen</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-251"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-e">log</span><span class="crayon-sy">(</span><span class="crayon-s">"# &lt;span class="</span><span class="crayon-i">posthilit</span><span class="crayon-s">"&gt;hue&lt;/span&gt; Szenen Script: undefinierte Szene wurde versucht aufzurufen: "</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">aktiveSzene</span><span class="crayon-sy">,</span><span class="crayon-s">"error"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-252"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-st">return</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-253"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-254"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-v">szene</span><span class="crayon-sy">[</span><span class="crayon-v">lampenGruppe</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">aktiveSzene</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-255"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-e">setBri</span><span class="crayon-sy">(</span><span class="crayon-v">lampenGruppe</span><span class="crayon-sy">,</span><span class="crayon-v">aktiveSzene</span><span class="crayon-sy">,</span><span class="crayon-v">bri</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-256"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-e">setSat</span><span class="crayon-sy">(</span><span class="crayon-v">lampenGruppe</span><span class="crayon-sy">,</span><span class="crayon-v">aktiveSzene</span><span class="crayon-sy">,</span><span class="crayon-v">sat</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-257"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-o">!</span><span class="crayon-v">szeneAktiv</span><span class="crayon-sy">[</span><span class="crayon-v">lampenGruppe</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-258"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-v">szeneAktiv</span><span class="crayon-sy">[</span><span class="crayon-v">lampenGruppe</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-259"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">&amp;</span><span class="crayon-v">lt</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">lampen</span><span class="crayon-sy">[</span><span class="crayon-v">lampenGruppe</span><span class="crayon-sy">]</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-o">++</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-c">// für alle Lampen den timer starten</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-260"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-v">nextDelay</span><span class="crayon-sy">[</span><span class="crayon-v">lampenGruppe</span><span class="crayon-sy">]</span><span class="crayon-sy">[</span><span class="crayon-v">i</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-261"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-e">szeneTimer</span><span class="crayon-sy">(</span><span class="crayon-v">lampenGruppe</span><span class="crayon-sy">,</span><span class="crayon-v">i</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-262"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-263"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-264"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-265">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-266"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">szeneStop</span><span class="crayon-sy">(</span><span class="crayon-v">lampenGruppe</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-c">// alle aktiven timer löschen</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-267"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">&amp;</span><span class="crayon-v">lt</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">lampen</span><span class="crayon-sy">[</span><span class="crayon-v">lampenGruppe</span><span class="crayon-sy">]</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-o">++</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-268"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-e">clearTimeout</span><span class="crayon-sy">(</span><span class="crayon-v">timer</span><span class="crayon-sy">[</span><span class="crayon-v">lampenGruppe</span><span class="crayon-sy">]</span><span class="crayon-sy">[</span><span class="crayon-v">i</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-269"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-e">log</span><span class="crayon-sy">(</span><span class="crayon-s">"Timer: "</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">lampen</span><span class="crayon-sy">[</span><span class="crayon-v">lampenGruppe</span><span class="crayon-sy">]</span><span class="crayon-sy">[</span><span class="crayon-v">i</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">" gestoppt"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-270"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-271"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-v">szeneAktiv</span><span class="crayon-sy">[</span><span class="crayon-v">lampenGruppe</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">=</span> <span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-272"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-v">szene</span><span class="crayon-sy">[</span><span class="crayon-v">lampenGruppe</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">=</span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-t">null</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-273"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-274">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-275"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">lampenAus</span><span class="crayon-sy">(</span><span class="crayon-v">lampenGruppe</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-276"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">&amp;</span><span class="crayon-v">lt</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">lampen</span><span class="crayon-sy">[</span><span class="crayon-v">lampenGruppe</span><span class="crayon-sy">]</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-o">++</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-277"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-e">setState</span><span class="crayon-sy">(</span><span class="crayon-v">lampen</span><span class="crayon-sy">[</span><span class="crayon-v">lampenGruppe</span><span class="crayon-sy">]</span><span class="crayon-sy">[</span><span class="crayon-v">i</span><span class="crayon-sy">]</span><span class="crayon-o">+</span><span class="crayon-s">".command"</span><span class="crayon-sy">,</span><span class="crayon-s">'{"on":false}'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-278"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-279"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-280">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-281"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">setBriSat</span><span class="crayon-sy">(</span><span class="crayon-v">com</span><span class="crayon-sy">,</span><span class="crayon-v">wert</span><span class="crayon-sy">,</span><span class="crayon-v">lampenGruppe</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-282"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">wert</span><span class="crayon-h"> </span><span class="crayon-o">!=</span><span class="crayon-h"> </span><span class="crayon-e">check254</span><span class="crayon-sy">(</span><span class="crayon-v">wert</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-283"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-v">wert</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">check254</span><span class="crayon-sy">(</span><span class="crayon-v">wert</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-284"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-e">setState</span><span class="crayon-sy">(</span><span class="crayon-v">hueSzenenApapterPfad</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">lampenGruppe</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">"."</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">com</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">wert</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-c">//korrigiert bri/sat und  ruft diese on() Funktion direkt wieder auf</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-285"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-286"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-e">log</span><span class="crayon-sy">(</span><span class="crayon-s">"Lampengruppe: "</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">lampenGruppe</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">" # "</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">com</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">": "</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">wert</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">" empfangen"</span><span class="crayon-sy">,</span><span class="crayon-s">"warn"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-287"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">szeneAktiv</span><span class="crayon-sy">[</span><span class="crayon-v">lampenGruppe</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-c">// wenn die Szene in der Gruppe aktiv ist:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-288"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">&amp;</span><span class="crayon-v">lt</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">lampen</span><span class="crayon-sy">[</span><span class="crayon-v">lampenGruppe</span><span class="crayon-sy">]</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-o">++</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-c">// für alle Lampen der Gruppe</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-289"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-e">setState</span><span class="crayon-sy">(</span><span class="crayon-v">lampen</span><span class="crayon-sy">[</span><span class="crayon-v">lampenGruppe</span><span class="crayon-sy">]</span><span class="crayon-sy">[</span><span class="crayon-v">i</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">"."</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">com</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">wert</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-c">// die Helligkeit/Saturation direkt ändern</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-290"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-e">log</span><span class="crayon-sy">(</span><span class="crayon-v">com</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">": "</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">wert</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">" # "</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">lampen</span><span class="crayon-sy">[</span><span class="crayon-v">lampenGruppe</span><span class="crayon-sy">]</span><span class="crayon-sy">[</span><span class="crayon-v">i</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">" gesetzt"</span><span class="crayon-sy">,</span><span class="crayon-s">"warn"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-291"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-292"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-293"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-sy">}</span> <span class="crayon-h"> </span> <span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-294"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-295">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-296"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">changeBriSat</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">com</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">wert</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">lampenGruppe</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-297"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-v">com</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">com</span><span class="crayon-sy">.</span><span class="crayon-e">replace</span><span class="crayon-sy">(</span><span class="crayon-s">"_inc"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">""</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-298"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">alterWert</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">getState</span><span class="crayon-sy">(</span><span class="crayon-v">hueSzenenApapterPfad</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">lampenGruppe</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">"."</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">com</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-v">val</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-299"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-v">wert</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">parseInt</span><span class="crayon-sy">(</span><span class="crayon-v">wert</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">alterWert</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-300"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-e">setState</span><span class="crayon-sy">(</span><span class="crayon-v">hueSzenenApapterPfad</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">lampenGruppe</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">"."</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">com</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">wert</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-c">//setzt bri/sat neu. Dies ruft die on() Funktion direkt wieder auf, diesmal mit bri/sat</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-301"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-302">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-303">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-304">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-305">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-306">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-307"><span class="crayon-c">//  ##### Überwachte Datenpunkte #####</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-308">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-309">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-310"><span class="crayon-c">// Änderung der Helligkeit (.bri) oder Farbsättigung (.sat) während der Laufzeit über einen Datenpunkt</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-311">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-312"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">reg</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">RegExp</span><span class="crayon-sy">(</span><span class="crayon-s">"^javascript\\.\\d+\\."</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">hueSzenenApapterPfad</span><span class="crayon-sy">.</span><span class="crayon-e">replace</span><span class="crayon-sy">(</span><span class="crayon-s">'.'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'\\.'</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">".*\\.(sat|bri)"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-313"><span class="crayon-e">on</span><span class="crayon-sy">(</span><span class="crayon-sy">{</span><span class="crayon-s">"id"</span><span class="crayon-o">:</span><span class="crayon-i">reg</span><span class="crayon-h"> </span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"change"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"ne"</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">obj</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-314"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">com</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">obj</span><span class="crayon-sy">.</span><span class="crayon-v">id</span><span class="crayon-sy">.</span><span class="crayon-e">split</span><span class="crayon-sy">(</span><span class="crayon-s">'.'</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">pop</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-315"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-t">var</span> <span class="crayon-h"> </span> <span class="crayon-v">str</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">obj</span><span class="crayon-sy">.</span><span class="crayon-v">id</span><span class="crayon-sy">.</span><span class="crayon-e">replace</span><span class="crayon-sy">(</span><span class="crayon-o">/</span><span class="crayon-sy">\</span><span class="crayon-sy">.</span><span class="crayon-sy">(</span><span class="crayon-v">bri</span><span class="crayon-o">|</span><span class="crayon-v">sat</span><span class="crayon-sy">)</span><span class="crayon-sy">$</span><span class="crayon-o">/</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">""</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-316"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">reg2</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">RegExp</span><span class="crayon-sy">(</span><span class="crayon-s">"^javascript\\.\\d+\\."</span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">hueSzenenApapterPfad</span><span class="crayon-sy">.</span><span class="crayon-e">replace</span><span class="crayon-sy">(</span><span class="crayon-s">'.'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'\\.'</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-317"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">lampenGruppe</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">str</span><span class="crayon-sy">.</span><span class="crayon-e">replace</span><span class="crayon-sy">(</span><span class="crayon-v">reg2</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">""</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-318"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">wert</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">obj</span><span class="crayon-sy">.</span><span class="crayon-v">newState</span><span class="crayon-sy">.</span><span class="crayon-v">val</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-319"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-e">setBriSat</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">com</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">wert</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">lampenGruppe</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-320"><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-321">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-322">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-323"><span class="crayon-c">// Änderung der Helligkeit oder Farbsättignung als adaptiver Wert (.bri_inc, .sat_inc)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-324">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-325"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">reg</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">RegExp</span><span class="crayon-sy">(</span><span class="crayon-s">"^javascript\\.\\d+\\."</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">hueSzenenApapterPfad</span><span class="crayon-sy">.</span><span class="crayon-e">replace</span><span class="crayon-sy">(</span><span class="crayon-s">'.'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'\\.'</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">".*\\.(sat_inc|bri_inc)"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-326"><span class="crayon-e">on</span><span class="crayon-sy">(</span><span class="crayon-sy">{</span><span class="crayon-s">"id"</span><span class="crayon-o">:</span><span class="crayon-i">reg</span><span class="crayon-h"> </span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"change"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"any"</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">obj</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-327"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">com</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">obj</span><span class="crayon-sy">.</span><span class="crayon-v">id</span><span class="crayon-sy">.</span><span class="crayon-e">split</span><span class="crayon-sy">(</span><span class="crayon-s">'.'</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">pop</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-328"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-t">var</span> <span class="crayon-h"> </span> <span class="crayon-v">str</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">obj</span><span class="crayon-sy">.</span><span class="crayon-v">id</span><span class="crayon-sy">.</span><span class="crayon-e">replace</span><span class="crayon-sy">(</span><span class="crayon-o">/</span><span class="crayon-sy">\</span><span class="crayon-sy">.</span><span class="crayon-sy">(</span><span class="crayon-v">sat_inc</span><span class="crayon-o">|</span><span class="crayon-v">bri_inc</span><span class="crayon-sy">)</span><span class="crayon-sy">$</span><span class="crayon-o">/</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">""</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-329"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">reg2</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">RegExp</span><span class="crayon-sy">(</span><span class="crayon-s">"^javascript\\.\\d+\\."</span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">hueSzenenApapterPfad</span><span class="crayon-sy">.</span><span class="crayon-e">replace</span><span class="crayon-sy">(</span><span class="crayon-s">'.'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'\\.'</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-330"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">lampenGruppe</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">str</span><span class="crayon-sy">.</span><span class="crayon-e">replace</span><span class="crayon-sy">(</span><span class="crayon-v">reg2</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">""</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-331"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">wert</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">obj</span><span class="crayon-sy">.</span><span class="crayon-v">newState</span><span class="crayon-sy">.</span><span class="crayon-v">val</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-332"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-e">changeBriSat</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">com</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">wert</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">lampenGruppe</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-333"><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-334">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-335">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-336"><span class="crayon-c">// Änderung einer Szene während der Laufzeit, z.B. über VIS</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-337">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-338"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">reg</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">RegExp</span><span class="crayon-sy">(</span><span class="crayon-s">"^javascript\\.\\d+\\."</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">hueSzenenApapterPfad</span><span class="crayon-sy">.</span><span class="crayon-e">replace</span><span class="crayon-sy">(</span><span class="crayon-s">'.'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'\\.'</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">".*\\.szene"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-339"><span class="crayon-e">on</span><span class="crayon-sy">(</span><span class="crayon-i">reg</span><span class="crayon-h"> </span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">obj</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-340"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-t">var</span> <span class="crayon-h"> </span> <span class="crayon-v">str</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">obj</span><span class="crayon-sy">.</span><span class="crayon-v">id</span><span class="crayon-sy">.</span><span class="crayon-e">replace</span><span class="crayon-sy">(</span><span class="crayon-o">/</span><span class="crayon-sy">\</span><span class="crayon-sy">.</span><span class="crayon-v">szene</span><span class="crayon-sy">$</span><span class="crayon-o">/</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">""</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-341"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">reg2</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">RegExp</span><span class="crayon-sy">(</span><span class="crayon-s">"^javascript\\.\\d+\\."</span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">hueSzenenApapterPfad</span><span class="crayon-sy">.</span><span class="crayon-e">replace</span><span class="crayon-sy">(</span><span class="crayon-s">'.'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'\\.'</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-342"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">lampenGruppe</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">str</span><span class="crayon-sy">.</span><span class="crayon-e">replace</span><span class="crayon-sy">(</span><span class="crayon-v">reg2</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">""</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-343"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">szene</span><span class="crayon-h"> </span><span class="crayon-o">=</span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-v">obj</span><span class="crayon-sy">.</span><span class="crayon-v">newState</span><span class="crayon-sy">.</span><span class="crayon-v">val</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-344"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-e">log</span><span class="crayon-sy">(</span><span class="crayon-s">"Lampengruppe: "</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">lampenGruppe</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">" # Szene: "</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">szene</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">" empfangen"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-345"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-st">switch</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">szene</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-346"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-st">case</span><span class="crayon-h"> </span><span class="crayon-s">"aus"</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-347"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-e">szeneStop</span><span class="crayon-sy">(</span><span class="crayon-v">lampenGruppe</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-348"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-e">lampenAus</span><span class="crayon-sy">(</span><span class="crayon-v">lampenGruppe</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-349"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-e">log</span><span class="crayon-sy">(</span><span class="crayon-v">lampenGruppe</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">" Szene deaktiviert"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-350"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-st">break</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-351"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-st">case</span><span class="crayon-h"> </span><span class="crayon-s">"stop"</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-352"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-e">szeneStop</span><span class="crayon-sy">(</span><span class="crayon-v">lampenGruppe</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-353"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-e">log</span><span class="crayon-sy">(</span><span class="crayon-v">lampenGruppe</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">" Szene angehalten"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-354"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-st">break</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-355"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-st">default</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-356"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">szenen</span><span class="crayon-sy">[</span><span class="crayon-v">szene</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-357"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-c">// TODO: bri nur ermitteln, wenn in der Szene kein eigener bri festgelegt ist    </span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-358"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">bri</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">getState</span><span class="crayon-sy">(</span><span class="crayon-v">hueSzenenApapterPfad</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">lampenGruppe</span><span class="crayon-o">+</span><span class="crayon-s">".bri"</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-v">val</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-359"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-v">bri</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">check254</span><span class="crayon-sy">(</span><span class="crayon-v">bri</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-360"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">bri</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-v">bri</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">254</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-361"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-e">szeneStart</span><span class="crayon-sy">(</span><span class="crayon-v">lampenGruppe</span><span class="crayon-sy">,</span><span class="crayon-v">szene</span><span class="crayon-sy">,</span><span class="crayon-v">bri</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-362"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-e">setState</span><span class="crayon-sy">(</span><span class="crayon-v">hueSzenenApapterPfad</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">lampenGruppe</span><span class="crayon-o">+</span><span class="crayon-s">".infoAktiveSzene"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">szene</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-363"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-e">log</span><span class="crayon-sy">(</span><span class="crayon-v">lampenGruppe</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">" Szene: "</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">szene</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">" gestartet"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-364"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-st">break</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-365"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-366"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-e">log</span><span class="crayon-sy">(</span><span class="crayon-s">"### unbekannte Szene: "</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">szene</span><span class="crayon-sy">,</span><span class="crayon-s">"warn"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-367"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-st">break</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-368"> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-369"> <span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-370">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-371">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-372">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-373">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-374"><span class="crayon-c">//  ##### Scriptstart #####</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-375">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-376"><span class="crayon-e">dpAnlegen</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-c">// je einen Datenpunkt pro Lampengruppe anlegen</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-377"><span class="crayon-e">varsAnlegen</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span> <span class="crayon-h"> </span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-c">// die für das Script notwendigen Variablen erstellen</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-378">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-379">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-380"><span class="crayon-c">// warte bis alle States und Objekte angelegt werden.</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-381"><span class="crayon-c">// 500ms und dann starte main();</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-382"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">main</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-383">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-384"><span class="crayon-c">//  ##### Scriptstart main() #####</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-385">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-386"> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-e">restoreSzenen</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span> <span class="crayon-h"> </span> <span class="crayon-h"> </span><span class="crayon-c">// aktiviert zuletzt eingestellte Szenen</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-387">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e5b8fd6597659635-388"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5cefa6e5b8fd6597659635-389"><span class="crayon-e">setTimeout</span><span class="crayon-sy">(</span><span class="crayon-v">main</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">500</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0798 seconds] -->
<p>&nbsp;</p>
				
<footer class="post-data">
	
	<div class="entry-meta">
			</div><!-- .entry-meta -->
	</footer><!-- .post-data -->
			</div><!-- .post-entry -->
	</article><!-- #post-## -->

					
				
			</main><!-- #main -->
			
<div id="widgets" class="widget-area default-sidebar" role="complementary" itemscope="itemscope" itemtype="http://schema.org/WPSideBar">
		
		<aside id="archives" class="widget-wrapper">
			<h3 class="widget-title">Im Archiv</h3>
			<ul>
					<li><a href='index-172.htm?m=201902&#038;lang=de'>Februar 2019</a></li>
	<li><a href='index-173.htm?m=201901&#038;lang=de'>Januar 2019</a></li>
	<li><a href='index-174.htm?m=201812&#038;lang=de'>Dezember 2018</a></li>
	<li><a href='index-175.htm?m=201806&#038;lang=de'>Juni 2018</a></li>
	<li><a href='index-176.htm?m=201804&#038;lang=de'>April 2018</a></li>
	<li><a href='index-177.htm?m=201803&#038;lang=de'>März 2018</a></li>
	<li><a href='index-178.htm?m=201801&#038;lang=de'>Januar 2018</a></li>
	<li><a href='index-179.htm?m=201712&#038;lang=de'>Dezember 2017</a></li>
	<li><a href='index-180.htm?m=201711&#038;lang=de'>November 2017</a></li>
	<li><a href='index-181.htm?m=201710&#038;lang=de'>Oktober 2017</a></li>
	<li><a href='index-182.htm?m=201709&#038;lang=de'>September 2017</a></li>
	<li><a href='index-183.htm?m=201708&#038;lang=de'>August 2017</a></li>
	<li><a href='index-184.htm?m=201701&#038;lang=de'>Januar 2017</a></li>
	<li><a href='index-185.htm?m=201609&#038;lang=de'>September 2016</a></li>
	<li><a href='index-186.htm?m=201607&#038;lang=de'>Juli 2016</a></li>
	<li><a href='index-187.htm?m=201605&#038;lang=de'>Mai 2016</a></li>
	<li><a href='index-188.htm?m=201604&#038;lang=de'>April 2016</a></li>
	<li><a href='index-189.htm?m=201603&#038;lang=de'>März 2016</a></li>
	<li><a href='index-190.htm?m=201602&#038;lang=de'>Februar 2016</a></li>
			</ul>
		</aside>

		</div><!-- #default-sidebar -->
	</div><!-- #primary -->

</div><!-- end of #wrapper -->
</div><!-- end of #container -->


<footer id="footer" class="site-footer" role="contentinfo" itemscope="itemscope" itemtype="http://schema.org/WPFooter">
		<div id="footer-wrapper">

		<div id="footer-widgets-container">
					</div><!-- #footer-widgets-container-->

		<div id="menu-social-container">
			<nav id="footer-menu-container">
				<ul id="menu-2016_seitenfuss_de" class="footer-menu"><li id="menu-item-2210" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2210"><a href="index-61.htm?page_id=2208&#038;lang=de">Kontakt</a></li>
<li id="menu-item-2227" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2227"><a href="index-62.htm?page_id=2223&#038;lang=de">Impressum</a></li>
<li id="menu-item-2307" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2307"><a href="index-63.htm?page_id=2305&#038;lang=de">Datenschutzerklärung</a></li>
<li id="menu-item-2314" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2314"><a href="index-64.htm?page_id=2303&#038;lang=de">Sitemap</a></li>
<li id="menu-item-2486" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2486"><a href="index-65.htm?page_id=2484&#038;lang=de">Danke</a></li>
</ul>			</nav><!-- #footer-menu -->
			<div id="social-icons-container">
				<ul class="social-icons"></ul><!-- .social-icons -->			</div><!-- #social-icons-container-->
		</div><!-- #menu-social-container -->

		
		<div id="footer-base">
			<div class="copyright">
				&copy; 2019 <a href="index.htm?lang=de" title="ioBroker">ioBroker</a>			</div><!-- .copyright -->

			<div class="powered">
				<a href="http://cyberchimps.com/responsive-II/">Reaktionsschnelle II</a> angetrieben <a href="http://wordpress.org/">WordPress</a>			</div><!-- end .powered -->

			<div class="scroll-top">
				<a href="#scroll-top" title="Nach oben scrollen">↑</a>
			</div><!-- .scroll-top -->
		</div><!-- #footer-base -->
	</div><!-- #footer-wrapper -->
	</footer><!-- #footer -->
<div id="cookie-law-info-bar"><span>This website uses cookies to improve your experience. We'll assume you're ok with this, but you can opt-out if you wish.<a data-cli_action="accept" id="cookie_action_close_header" class="medium cli-plugin-button cli-plugin-main-button cookie_action_close_header cli_action_button" style="display:inline-block; ">Akzeptieren</a> <a href='..\index-1.htm?page_id=2305&#038;lang=de' id="CONSTANT_OPEN_URL" target="_blank" class="cli-plugin-main-link" style="display:inline-block;">mehr Infos</a></span></div><div id="cookie-law-info-again" style="display:none;"><span id="cookie_hdr_showagain">Privacy & Cookies Policy</span></div><div class="cli-modal-backdrop cli-fade cli-settings-overlay"></div>
<div class="cli-modal-backdrop cli-fade cli-popupbar-overlay"></div>
<script type="text/javascript">
  /* <![CDATA[ */
  cli_cookiebar_settings='{"animate_speed_hide":"500","animate_speed_show":"500","background":"#fff","border":"#444","border_on":false,"button_1_button_colour":"#000","button_1_button_hover":"#000000","button_1_link_colour":"#fff","button_1_as_button":true,"button_1_new_win":false,"button_2_button_colour":"#333","button_2_button_hover":"#292929","button_2_link_colour":"#444","button_2_as_button":false,"button_2_hidebar":true,"button_3_button_colour":"#000","button_3_button_hover":"#000000","button_3_link_colour":"#fff","button_3_as_button":true,"button_3_new_win":false,"button_4_button_colour":"#000","button_4_button_hover":"#000000","button_4_link_colour":"#fff","button_4_as_button":true,"font_family":"inherit","header_fix":false,"notify_animate_hide":true,"notify_animate_show":false,"notify_div_id":"#cookie-law-info-bar","notify_position_horizontal":"right","notify_position_vertical":"bottom","scroll_close":false,"scroll_close_reload":false,"accept_close_reload":false,"reject_close_reload":false,"showagain_tab":false,"showagain_background":"#fff","showagain_border":"#000","showagain_div_id":"#cookie-law-info-again","showagain_x_position":"100px","text":"#000","show_once_yn":false,"show_once":"10000","logging_on":false,"as_popup":false,"popup_overlay":true,"bar_heading_text":"","cookie_bar_as":"banner","popup_showagain_position":"bottom-right","widget_position":"left"}';
  /* ]]> */
</script><div class="scroll-back-to-top-wrapper">
	<span class="scroll-back-to-top-inner">
					<i class="fa fa-2x fa-arrow-circle-up"></i>
			</span>
</div><script type='text/javascript'>
/* <![CDATA[ */
var wpcf7 = {"apiSettings":{"root":"http:\/\/www.iobroker.net\/docu\/?rest_route=\/contact-form-7\/v1","namespace":"contact-form-7\/v1"},"recaptcha":{"messages":{"empty":"Bitte best\u00e4tige, dass du keine Maschine bist."}}};
var wpcf7 = {"apiSettings":{"root":"http:\/\/www.iobroker.net\/docu\/?rest_route=\/contact-form-7\/v1","namespace":"contact-form-7\/v1"},"recaptcha":{"messages":{"empty":"Bitte best\u00e4tige, dass du keine Maschine bist."}}};
/* ]]> */
</script>
<script type='text/javascript' src='wp-content\plugins\contact-form-7\includes\js\scripts.js?ver=4.9.2'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var scrollBackToTop = {"scrollDuration":"500","fadeDuration":"0.5"};
var scrollBackToTop = {"scrollDuration":"500","fadeDuration":"0.5"};
/* ]]> */
</script>
<script type='text/javascript' src='wp-content\plugins\scroll-back-to-top\assets\js\scroll-back-to-top.js'></script>
<script type='text/javascript' src='wp-content\plugins\table-of-contents-plus\front.min.js?ver=1509'></script>
<script type='text/javascript' src='wp-content\themes\responsive-mobile\js\responsive-scripts.min.js?ver=1.2.5'></script>
<script type='text/javascript' src='wp-includes\js\wp-embed.min.js?ver=4.7.5'></script>
</body>
</html>
