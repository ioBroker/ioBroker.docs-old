<!DOCTYPE html>
<!--[if IE 8 ]>
	<html class="no-js ie8" lang="de-DE">
<![endif]-->
<!--[if IE 9 ]>
	<html class="no-js ie9" lang="de-DE">
<![endif]-->
<!--[if gt IE 9]><!-->
<html lang="de-DE"><!--<![endif]-->
	<head>
				<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta http-equiv="X-UA-Compatible" content="IE=9; IE=8; IE=7; IE=EDGE">

		<link rel="profile" href="http://gmpg.org/xfn/11">
		<link rel="pingback" href="http://www.iobroker.net/docu/xmlrpc.php">

		<title>Bluetooth LE Scanner &#8211; ioBroker</title>
<link rel='dns-prefetch' href='//netdna.bootstrapcdn.com'>
<link rel='dns-prefetch' href='//s.w.org'>
<link rel="alternate" type="application/rss+xml" title="ioBroker &raquo; Feed" href="index.rss?feed=rss2&#038;lang=de">
<link rel="alternate" type="application/rss+xml" title="ioBroker &raquo; Kommentar-Feed" href="index-1.rss?feed=comments-rss2&#038;lang=de">
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.2.1\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.2.1\/svg\/","svgExt":".svg","source":{"concatemoji":"http:\/\/www.iobroker.net\/docu\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.7.5"}};
			!function(a,b,c){function d(a){var b,c,d,e,f=String.fromCharCode;if(!k||!k.fillText)return!1;switch(k.clearRect(0,0,j.width,j.height),k.textBaseline="top",k.font="600 32px Arial",a){case"flag":return k.fillText(f(55356,56826,55356,56819),0,0),!(j.toDataURL().length<3e3)&&(k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,57331,65039,8205,55356,57096),0,0),b=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,57331,55356,57096),0,0),c=j.toDataURL(),b!==c);case"emoji4":return k.fillText(f(55357,56425,55356,57341,8205,55357,56507),0,0),d=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55357,56425,55356,57341,55357,56507),0,0),e=j.toDataURL(),d!==e}return!1}function e(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g,h,i,j=b.createElement("canvas"),k=j.getContext&&j.getContext("2d");for(i=Array("flag","emoji4"),c.supports={everything:!0,everythingExceptFlag:!0},h=0;h<i.length;h++)c.supports[i[h]]=d(i[h]),c.supports.everything=c.supports.everything&&c.supports[i[h]],"flag"!==i[h]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[i[h]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='crayon-css' href='wp-content\plugins\crayon-syntax-highlighter\css\min\crayon.min.css?ver=_2.7.2_beta' type='text/css' media='all'>
<link rel='stylesheet' id='crayon-theme-classic-css' href='wp-content\plugins\crayon-syntax-highlighter\themes\classic\classic.css?ver=_2.7.2_beta' type='text/css' media='all'>
<link rel='stylesheet' id='crayon-font-monaco-css' href='wp-content\plugins\crayon-syntax-highlighter\fonts\monaco.css?ver=_2.7.2_beta' type='text/css' media='all'>
<link rel='stylesheet' id='contact-form-7-css' href='wp-content\plugins\contact-form-7\includes\css\styles.css?ver=4.9.2' type='text/css' media='all'>
<link rel='stylesheet' id='cookie-law-info-css' href='wp-content\plugins\cookie-law-info\public\css\cookie-law-info-public.css?ver=1.7.6' type='text/css' media='all'>
<link rel='stylesheet' id='cookie-law-info-gdpr-css' href='wp-content\plugins\cookie-law-info\public\css\cookie-law-info-gdpr.css?ver=1.7.6' type='text/css' media='all'>
<link rel='stylesheet' id='dedo-css-css' href='wp-content\plugins\delightful-downloads\assets\css\delightful-downloads.min.css?ver=1.6.6' type='text/css' media='all'>
<link rel='stylesheet' id='mbpro-font-awesome-css' href='wp-content\plugins\maxbuttons\assets\libraries\font-awesome\css\font-awesome.min.css?ver=6.28' type='text/css' media='all'>
<link rel='stylesheet' id='page-list-style-css' href='wp-content\plugins\page-list\css\page-list.css?ver=5.1' type='text/css' media='all'>
<link rel='stylesheet' id='pc_google_analytics-frontend-css' href='http://www.iobroker.net/docu/wp-content/plugins/pc-google-analytics/assets/css/frontend.css?ver=1.0.0' type='text/css' media='all'>
<link rel='stylesheet' id='font-awesome-css' href='//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.css' type='text/css' media='screen'>
<link rel='stylesheet' id='toc-screen-css' href='wp-content\plugins\table-of-contents-plus\screen.min.css?ver=1509' type='text/css' media='all'>
<link rel='stylesheet' id='parent-style-css' href='wp-content\themes\responsive-mobile\style.css?ver=4.7.5' type='text/css' media='all'>
<link rel='stylesheet' id='responsive-mobile-style-css' href='wp-content\themes\responsive-mobile\css\style.css?ver=1.8' type='text/css' media='all'>
<link rel='stylesheet' id='responsive-mobile-child-style-css' href='wp-content\themes\responsive-mobile_child\style.css?ver=1.0' type='text/css' media='all'>
<link rel='stylesheet' id='recent-posts-widget-with-thumbnails-public-style-css' href='wp-content\plugins\recent-posts-widget-with-thumbnails\public.css?ver=6.5.0' type='text/css' media='all'>
<link rel='stylesheet' id='cleverness_todo_list_frontend-css' href='wp-content\plugins\cleverness-to-do-list\css\cleverness-to-do-list-frontend.css?ver=3.4.2' type='text/css' media='all'>
<link rel='stylesheet' id='jquery.ui.theme-css' href='wp-content\plugins\cleverness-to-do-list\css\jquery-ui-fresh.css?ver=3.4.2' type='text/css' media='all'>
<link rel='stylesheet' id='tablepress-default-css' href='wp-content\tablepress-combined.min.css?ver=128' type='text/css' media='all'>
<link rel='stylesheet' id='bootstrap-css' href='wp-content\themes\responsive-mobile\libraries\bootstrap\css\bootstrap.min.css?ver=4.7.5' type='text/css' media='all'>
<script type='text/javascript' src='wp-includes\js\jquery\jquery.js?ver=1.12.4'></script>
<script type='text/javascript' src='wp-includes\js\jquery\jquery-migrate.min.js?ver=1.4.1'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var CrayonSyntaxSettings = {"version":"_2.7.2_beta","is_admin":"0","ajaxurl":"http:\/\/www.iobroker.net\/docu\/wp-admin\/admin-ajax.php","prefix":"crayon-","setting":"crayon-setting","selected":"crayon-setting-selected","changed":"crayon-setting-changed","special":"crayon-setting-special","orig_value":"data-orig-value","debug":""};
var CrayonSyntaxStrings = {"copy":"Dr\u00fccken Sie %s zum Kopieren, %s zum Einf\u00fcgen","minimize":"Klicken um Code aufzuklappen"};
/* ]]> */
</script>
<script type='text/javascript' src='wp-content\plugins\crayon-syntax-highlighter\js\min\crayon.min.js?ver=_2.7.2_beta'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var Cli_Data = {"nn_cookie_ids":[],"cookielist":[]};
var log_object = {"ajax_url":"http:\/\/www.iobroker.net\/docu\/wp-admin\/admin-ajax.php"};
/* ]]> */
</script>
<script type='text/javascript' src='wp-content\plugins\cookie-law-info\public\js\cookie-law-info-public.js?ver=1.7.6'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var mb_ajax = {"ajaxurl":"http:\/\/www.iobroker.net\/docu\/wp-admin\/admin-ajax.php"};
/* ]]> */
</script>
<script type='text/javascript' src='wp-content\plugins\maxbuttons\js\min\front.js?ver=6.28'></script>
<script type='text/javascript' src='wp-content\plugins\pc-google-analytics\assets\js\frontend.min.js?ver=1.0.0'></script>
<script type='text/javascript' src='wp-content\themes\responsive-mobile\libraries\bootstrap\js\bootstrap.min.js?ver=4.7.5'></script>
<link rel='https://api.w.org/' href='index.json?rest_route=/'>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="xmlrpc.xml?rsd">
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="wp-includes\wlwmanifest.xml">
<meta name="generator" content="WordPress 4.7.5">
<link rel="canonical" href="index-325.htm?page_id=3690&#038;lang=de">
<link rel='shortlink' href='http://www.iobroker.net/docu/?p=3690'>
<link rel="alternate" type="application/json+oembed" href="index-301.json?rest_route=%2Foembed%2F1.0%2Fembed&#038;url=http%3A%2F%2Fwww.iobroker.net%2Fdocu%2F%3Fpage_id%3D3690%26lang%3Dde">
<link rel="alternate" type="text/xml+oembed" href="index-300.xml?rest_route=%2Foembed%2F1.0%2Fembed&#038;url=http%3A%2F%2Fwww.iobroker.net%2Fdocu%2F%3Fpage_id%3D3690%26lang%3Dde&#038;format=xml">
	<script>
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

		ga('create', 'UA-86900958-1', 'auto');
		ga('send', 'pageview');

		</script>

<style>
.scroll-back-to-top-wrapper {
    position: fixed;
	opacity: 0;
	visibility: hidden;
	overflow: hidden;
	text-align: center;
	z-index: 99999999;
    background-color: #777777;
	color: #eeeeee;
	width: 50px;
	height: 48px;
	line-height: 48px;
	right: 30px;
	bottom: 30px;
	padding-top: 2px;
	border-top-left-radius: 10px;
	border-top-right-radius: 10px;
	border-bottom-right-radius: 10px;
	border-bottom-left-radius: 10px;
	-webkit-transition: all 0.5s ease-in-out;
	-moz-transition: all 0.5s ease-in-out;
	-ms-transition: all 0.5s ease-in-out;
	-o-transition: all 0.5s ease-in-out;
	transition: all 0.5s ease-in-out;
}
.scroll-back-to-top-wrapper:hover {
	background-color: #888888;
  color: #eeeeee;
}
.scroll-back-to-top-wrapper.show {
    visibility:visible;
    cursor:pointer;
	opacity: 1.0;
}
.scroll-back-to-top-wrapper i.fa {
	line-height: inherit;
}
.scroll-back-to-top-wrapper .fa-lg {
	vertical-align: 0;
}
</style><!-- Analytics by WP-Statistics v12.6 - https://wp-statistics.com/ -->
		<script type="text/javascript">
			var cli_flush_cache=1;
		</script>
				<style type="text/css" id="wp-custom-css">
			/*
You can add your own CSS here.

Click the help icon above to learn more.
*/
.site-content .content-area{
	/*background: #6592c9;*/
}		</style>
	<style type="text/css">
.paypal-donations { text-align: center !important }
</style>
	</head>

<body class="page-template-default page page-id-3690 page-child parent-pageid-3593 group-blog default" itemscope="itemscope" itemtype="http://schema.org/WebPage">
<div id="container" class="site">
	<a class="skip-link screen-reader-text" href="#content">Springe zum Inhalt</a>
	<a class="skip-link screen-reader-text" href="#main-navigation">Zum Hauptmenü springen</a>
	<div id="top-menu-container" class="container-full-width">
		<nav id="top-menu" class="container" itemscope="" itemtype="http://schema.org/SiteNavigationElement">
			<ul id="menu-2016_top_menue" class="top-menu"><li id="menu-item-2203-de" class="lang-item lang-item-4 lang-item-de lang-item-first current-lang menu-item menu-item-type-custom menu-item-object-custom menu-item-2203-de"><a href="index-325.htm?page_id=3690&#038;lang=de" hreflang="de-DE" lang="de-DE">Deutsch</a></li>
<li id="menu-item-2203-en" class="lang-item lang-item-7 lang-item-en no-translation menu-item menu-item-type-custom menu-item-object-custom menu-item-2203-en"><a href="index-1.htm?lang=en" hreflang="en-GB" lang="en-GB">English</a></li>
<li id="menu-item-2203-ru" class="lang-item lang-item-20 lang-item-ru no-translation menu-item menu-item-type-custom menu-item-object-custom menu-item-2203-ru"><a href="index-2.htm?lang=ru" hreflang="ru-RU" lang="ru-RU">Русский</a></li>
</ul>		</nav>
	</div><!-- top menu container -->
        <div id="header_section">
	<header id="header" class="container-full-width site-header" role="banner" itemscope="itemscope" itemtype="http://schema.org/WPHeader">
				<div class="container">
			<div class="header-row">
				<div id="site-branding">
							<div id="logo">
			<a href="index.htm?lang=de" rel="home" itemprop="url" title="ioBroker">
				<img src="wp-content\uploads\ioBroker_logo_lang-e1456684383484.png" alt="ioBroker" itemprop="image">
			</a>
		</div>
					</div>
				<div id="secondary-header">

	<div id="top-widget" class="top-widget" role="complementary" itemscope="itemscope" itemtype="http://schema.org/WPSideBar">

			<div id="search-2" class="responsive-mobile-top-widget widget_search"><form role="search" method="get" class="search-form" action="http://www.iobroker.net/docu/">
				<label>
					<span class="screen-reader-text">Suche nach:</span>
					<input type="search" class="search-field" placeholder="Suche&#160;&hellip;" value="" name="s">
				</label>
				<input type="submit" class="search-submit" value="Suche">
			<input type="hidden" name="lang" value="de"></form></div>
			</div><!-- end of #top-widget -->
				</div>
			</div>
		</div>

			</header><!-- #header -->

	<div id="main-menu-container" class="container-full-width">
		<div id="main-menu" class="container">
			<nav id="main-navigation" class="site-navigation" role="navigation" itemscope="itemscope" itemtype="http://schema.org/SiteNavigationElement">
				<div id="mobile-current-item">Menü</div>
				<button id="mobile-nav-button"><span class="accessibile-label">Mobile-Menü ein-/ausschalten</span></button>
				<div class="main-nav"><ul id="menu-2016_kopfzeile_de" class="menu"><li id="menu-item-2204" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2204"><a href="..\index.htm">Startseite</a></li>
<li id="menu-item-7199" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-7199"><a href="https://www.iobroker.net/#de/shop">Shop</a></li>
<li id="menu-item-2278" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2278"><a href="index-3.htm?page_id=2258&#038;lang=de">Aktuelles</a></li>
<li id="menu-item-2626" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-2626"><a href="index-4.htm?page_id=2375&#038;lang=de">Einleitung</a>
<ul class="sub-menu">
	<li id="menu-item-6381" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-6381"><a href="index-4.htm?page_id=2375&#038;lang=de">für alle</a></li>
	<li id="menu-item-6380" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-6380"><a href="index-5.htm?page_id=6317&#038;lang=de">für Einsteiger</a>
	<ul class="sub-menu">
		<li id="menu-item-6451" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-6451"><a href="index-6.htm?page_id=6335&#038;lang=de">Server aufsetzen</a></li>
		<li id="menu-item-6450" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-6450"><a href="index-7.htm?page_id=5063&#038;lang=de">erste Adapter</a></li>
		<li id="menu-item-6449" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-6449"><a href="index-8.htm?page_id=6365&#038;lang=de">erste Visualisierung</a></li>
		<li id="menu-item-6826" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-6826"><a href="index-9.htm?page_id=6548&#038;lang=de">Daten loggen</a></li>
		<li id="menu-item-6825" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-6825"><a href="index-10.htm?page_id=6562&#038;lang=de">erster Chart</a></li>
	</ul>
</li>
	<li id="menu-item-2289" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2289"><a href="index-11.htm?page_id=2281&#038;lang=de">für Entwickler</a></li>
</ul>
</li>
<li id="menu-item-2290" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-2290"><a href="index-12.htm?page_id=2279&#038;lang=de">Installation / Start</a>
<ul class="sub-menu">
	<li id="menu-item-2395" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2395"><a href="index-13.htm?page_id=2387&#038;lang=de">Videos</a></li>
	<li id="menu-item-3336" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-3336"><a href="index-14.htm?page_id=3334&#038;lang=de">Plattformen / Betriebssystem</a>
	<ul class="sub-menu">
		<li id="menu-item-8383" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-8383"><a href="index-15.htm?page_id=8323&#038;lang=de">Linux Schnellstart (auch für Raspberry Pi 2/3)</a></li>
		<li id="menu-item-8382" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-8382"><a href="index-16.htm?page_id=8327&#038;lang=de">Schnellstart für Raspberry Pi 1</a></li>
		<li id="menu-item-8429" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-8429"><a href="index-17.htm?page_id=8390&#038;lang=de">Windows</a></li>
		<li id="menu-item-2300" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2300"><a href="index-18.htm?page_id=2293&#038;lang=de">OS X</a></li>
		<li id="menu-item-3337" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3337"><a href="index-19.htm?page_id=2563&#038;lang=de">Downloads für die Installation</a></li>
		<li id="menu-item-5362" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-5362"><a href="index-20.htm?page_id=5358&#038;lang=de">Einrichtung und Installation von ioBroker in VirtualBox</a></li>
		<li id="menu-item-6767" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-6767"><a href="index-21.htm?page_id=6764&#038;lang=de">ioBroker mit Cloud auf QNAP-453a</a></li>
	</ul>
</li>
	<li id="menu-item-2358" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2358"><a href="index-22.htm?page_id=2354&#038;lang=de">Erster Start von ioBroker</a></li>
	<li id="menu-item-8530" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-8530"><a href="index-23.htm?page_id=8511&#038;lang=de">Grundlagen zur Verwendung von Adaptern</a></li>
	<li id="menu-item-3070" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3070"><a href="index-24.htm?page_id=3068&#038;lang=de">Multihost Modus</a></li>
	<li id="menu-item-5890" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-5890"><a href="index-25.htm?page_id=5859&#038;lang=de">Alexa mit ioBroker (Schnellstart)</a></li>
	<li id="menu-item-3964" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3964"><a href="index-26.htm?page_id=3928&#038;lang=de">ioBroker läuft nicht mehr</a></li>
	<li id="menu-item-5532" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-5532"><a href="index-27.htm?page_id=5510&#038;lang=de">Wie das Packet serialport oder ähnlich zu installieren</a></li>
</ul>
</li>
<li id="menu-item-2248" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-2248"><a href="index-28.htm?page_id=2236&#038;lang=de">Adapter</a>
<ul class="sub-menu">
	<li id="menu-item-2249" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2249"><a href="index-29.htm?page_id=2238&#038;lang=de">Allgemein</a></li>
	<li id="menu-item-2429" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-2429"><a href="index-30.htm?page_id=2407&#038;lang=de">Aufbewahrung</a>
	<ul class="sub-menu">
		<li id="menu-item-6988" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-6988"><a href="index-31.htm?page_id=5197&#038;lang=de">Howto – MariaDB auf der Synology DiskStation als Datenbank für Flot</a></li>
	</ul>
</li>
	<li id="menu-item-2430" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2430"><a href="index-32.htm?page_id=2405&#038;lang=de">Hardware</a></li>
	<li id="menu-item-2425" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2425"><a href="index-33.htm?page_id=2417&#038;lang=de">Kommunikation</a></li>
	<li id="menu-item-2424" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2424"><a href="index-34.htm?page_id=2419&#038;lang=de">Medien</a></li>
	<li id="menu-item-2426" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2426"><a href="index-35.htm?page_id=2415&#038;lang=de">Skripte und Logik</a></li>
	<li id="menu-item-2427" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-2427"><a href="index-36.htm?page_id=2412&#038;lang=de">ioBroker.vis</a>
	<ul class="sub-menu">
		<li id="menu-item-5035" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-5035"><a href="index-37.htm?page_id=5026&#038;lang=de">ioBroker.vis App</a></li>
	</ul>
</li>
	<li id="menu-item-2431" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2431"><a href="index-38.htm?page_id=2403&#038;lang=de">Visualisierung</a></li>
	<li id="menu-item-2423" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2423"><a href="index-39.htm?page_id=2421&#038;lang=de">Wartung</a></li>
	<li id="menu-item-2432" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2432"><a href="index-40.htm?page_id=2401&#038;lang=de">Wetter</a></li>
	<li id="menu-item-2428" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2428"><a href="index-41.htm?page_id=2410&#038;lang=de">Zeitplanung</a></li>
</ul>
</li>
<li id="menu-item-2805" class="menu-item menu-item-type-post_type menu-item-object-page current-page-ancestor menu-item-has-children menu-item-2805"><a href="index-42.htm?page_id=2786&#038;lang=de">Scripte</a>
<ul class="sub-menu">
	<li id="menu-item-5401" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-5401"><a href="index-43.htm?page_id=5385&#038;lang=de">Einführung Programmieren mit Javascript</a></li>
	<li id="menu-item-3757" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3757"><a href="index-44.htm?page_id=3526&#038;lang=de">Counter</a></li>
	<li id="menu-item-3758" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3758"><a href="index-45.htm?page_id=3585&#038;lang=de">Heizung / Lüftung</a></li>
	<li id="menu-item-3759" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3759"><a href="index-46.htm?page_id=3587&#038;lang=de">Info / Status</a></li>
	<li id="menu-item-3755" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3755"><a href="index-47.htm?page_id=3589&#038;lang=de">Mediensteuerung</a></li>
	<li id="menu-item-3754" class="menu-item menu-item-type-post_type menu-item-object-page current-page-ancestor menu-item-3754"><a href="index-48.htm?page_id=3593&#038;lang=de">Steuern / Regeln</a></li>
	<li id="menu-item-3756" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3756"><a href="index-49.htm?page_id=3591&#038;lang=de">Zeitsteuerung</a></li>
</ul>
</li>
<li id="menu-item-2288" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-2288"><a href="index-50.htm?page_id=2283&#038;lang=de">Downloads</a>
<ul class="sub-menu">
	<li id="menu-item-2806" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2806"><a href="index-19.htm?page_id=2563&#038;lang=de">Downloads für die Installation</a></li>
	<li id="menu-item-5146" class="menu-item menu-item-type-post_type menu-item-object-page current-page-ancestor menu-item-5146"><a href="index-42.htm?page_id=2786&#038;lang=de">Scripte</a></li>
</ul>
</li>
<li id="menu-item-2287" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-2287"><a href="index-51.htm?page_id=2285&#038;lang=de">Forum / Support</a>
<ul class="sub-menu">
	<li id="menu-item-2379" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2379"><a href="http://forum.iobroker.net">Forum</a></li>
	<li id="menu-item-7324" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-7324"><a href="index-52.htm?page_id=7322&#038;lang=de">Glossar</a></li>
	<li id="menu-item-2396" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2396"><a href="index-53.htm?page_id=2380&#038;lang=de">FAQ</a></li>
	<li id="menu-item-8440" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-8440"><a href="index-54.htm?page_id=8438&#038;lang=de">Troubleshooting (in Arbeit)</a></li>
	<li id="menu-item-2394" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2394"><a href="index-55.htm?page_id=2392&#038;lang=de">Tipps und Tricks</a></li>
</ul>
</li>
</ul></div>			</nav><!-- #site-navigation -->
		</div><!-- #main-menu -->
	</div><!-- #main-menu-container -->
	<div id="sub-menu-container" class="container-full-width">
		<div id="sub-menu" class="container">
			<nav id="sub-navigation" class="site-navigation" role="navigation" itemscope="itemscope" itemtype="http://schema.org/SiteNavigationElement">
						</nav><!-- #site-navigation -->
		</div><!-- #sub-menu -->
	</div><!-- #sub-menu-container -->
        </div>
	<div id="wrapper" class="site-content container-full-width">

	<div id="content" class="content-area">
			<main id="main" class="site-main" role="main">

				<div class="breadcrumb-list" xmlns:v="http://rdf.data-vocabulary.org/#"><span class="breadcrumb" typeof="v:Breadcrumb"><a rel="v:url" property="v:title" href="index.htm?lang=de">Home</a></span> <span class="chevron">&#8250;</span> <span class="breadcrumb" typeof="v:Breadcrumb"><a rel="v:url" property="v:title" href="index-163.htm?page_id=2364&lang=de">Deutsch</a></span> <span class="chevron">&#8250;</span> <span class="breadcrumb" typeof="v:Breadcrumb"><a rel="v:url" property="v:title" href="index-42.htm?page_id=2786&lang=de">Scripte</a></span> <span class="chevron">&#8250;</span> <span class="breadcrumb" typeof="v:Breadcrumb"><a rel="v:url" property="v:title" href="index-48.htm?page_id=3593&lang=de">Steuern / Regeln</a></span> <span class="chevron">&#8250;</span> <span class="breadcrumb-current">Bluetooth LE Scanner</span></div>


<article id="post-3690" class="post-3690 page type-page status-publish hentry">


<header class="entry-header">

	</header><!-- .entry-header -->

	<div class="post-entry">
		<h1><span id="Bluetooth_LE_Scanner_fuer_den_Raspberry_Pi_3">Bluetooth LE Scanner für den Raspberry Pi 3</span></h1>
<p>1.) Nutzung zur Anwesenheitserkennung über Bluetooth &#8220;Tags&#8221; oder anderen Geräte, die dauerhaft Bluetooth Funkfeuer aussenden..<br>
2.) Geräteüberwachung per Bluetooth als Alternative zum Ping.<br>
3.) Als Bluetooth Scanner<br>
4.) Für Indoor Ortung</p>
<div id="toc_container" class="no_bullets"><ul class="toc_list"><li><a href="#Bluetooth_LE_Scanner_fuer_den_Raspberry_Pi_3"><span class="toc_number toc_depth_1">1</span> Bluetooth LE Scanner für den Raspberry Pi 3</a><ul><li><a href="#Steckbrief"><span class="toc_number toc_depth_2">1.1</span> Steckbrief</a></li><li><a href="#Script"><span class="toc_number toc_depth_2">1.2</span> Script</a></li></ul></li></ul></div>

<table width="100%">
<tbody>
<tr>
<td style="width: 50%;">
<h2><span id="Steckbrief">Steckbrief</span></h2>
</td>
<td style="width: 50%;"></td>
</tr>
<tr>
<td style="width: 50%;"><strong>Art des Scripts</strong></td>
<td style="width: 50%;">Komplettscript</td>
</tr>
<tr>
<td style="width: 50%;"><strong>Aktuelle Version</strong></td>
<td style="width: 50%;">
<div id="crayon-572602f443817657372298-12" class="crayon-line crayon-striped-line"><span class="crayon-c">Version: 0.4.0  // Datum:   17.04.2016</span></div>
</td>
</tr>
<tr>
<td style="width: 50%;"><strong>Voraussetzungen</strong></td>
<td style="width: 50%;">RaspberryPi 3</td>
</tr>
<tr>
<td style="width: 50%;"><strong>Entwickler</strong></td>
<td style="width: 50%;">ruhr70</td>
</tr>
<tr>
<td style="width: 50%;"><strong>Stichworte</strong></td>
<td style="width: 50%;">Anwesenheit</td>
</tr>
<tr>
<td style="width: 50%;"><strong>Zusatzinformation</strong></td>
<td style="width: 50%;">Installationsanleitung und Skript befinden sich im ersten UND im zweiten Post</td>
</tr>
<tr>
<td style="width: 50%;"><strong>Forendiskussion</strong></td>
<td style="width: 50%;"><a href="http://forum.iobroker.net/viewtopic.php?f=21&t=2513&sid=11762639a96c9f3e7ae0be4c269bc4bf">zum Forum</a></td>
</tr>
</tbody>
</table>
<h2><span id="Script">Script</span></h2>
<p></p><!-- Crayon Syntax Highlighter v_2.7.2_beta -->

		<div id="crayon-5cefa6e2b6c6d064107644" class="crayon-syntax crayon-theme-classic crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover" style=" margin-top: 12px; margin-bottom: 12px; font-size: 12px !important; line-height: 15px !important;">

			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="Zeilennummern"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="Unformatierte Code-Ansicht"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="Zeilenumbruch umschalten"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="Code aufklappen"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="Copy"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="Code in einem neuen Fenster anzeigen"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea wrap="soft" class="crayon-plain print-no" data-settings="dblclick" readonly="" style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
// =============================================================================
// Bluetooth Scanner für Raspberry Pi 3   (oder andere kompatible Geräte mit BT)
// =============================================================================
//
// Verwendet das integrierte Bluetooth Modul des Raspberry Pi 3
//
// startet beim ersten Scriptstart automatisch den BluetoothScan
// jeder weitere Start über den Switch, im Standard:
// javascript.0.Bluetooth.Scan.scan (true: Scan starten, false: Scan beenden)
//
// Version: 0.4.0
// Datum:   17.04.2016
// Autor:   ruhr70
//
//
// !!! Das Skript kann ohne Änderung am Skript genutzt werden !!!
// !!! Anpassung nur für Experten notwendig                   !!!
//
//
// Voraussetzungen:
//------------------------------------------------------------------------------
// muss:
// - benötigt mind. die Version 2.x des Javascript-Adapters
// - benötigt das node module "noble" (im Javascript Adapter eintragen)
// - globale Funktion logs() muss vorhanden sein
//
// kann (Komfort und Zusatzinfos):
// - setObject muss in der Javascript-Instanz freigeschaltet sein
//   (für die Channelnamen)
// - Internetzugang, wenn die Herstellernamen anhand der Mac ermittelt werden sollen
//
//
// verwendete globale Funktionen   (müssen als globale Funktion vorhanden sein)
// -----------------------------------------------------------------------------
//
// logs()                   // für individuelle Loglevel innerhalb des Scripts
//
// Die globalen Funktionen können auch lokal in den Bereich "Funktionen"
// reinkopiert werden.
//
//
// Kalibrierung der Entfernungsmessung vom Host zum Device (.Distanz)
// -----------------------------------------------------------------------------
// Zur Kalibrierung der Distanz das Bluetooth Gerät in einen Meter Entfernung
// zum Host positionieren und dann den Wert aus .rssi unter .details.txPower
// beim Device eintragen (direkt in den Objecten im ioBroker Admin
// oder im Skript in der Liste: bluetoothDevices)
//
// todos:
//------------------------------------------------------------------------------
//
// - Blacklistbehandlung (löschen von Channels/Datenpunkte, die nachträglich auf die Blacklist gekommen sind)
//   erst am Ende des Scans und nicht on the fly
//
// - zum Scriptstart: Testen ob identische Element in Black und Whitelist -&amp;gt; Warnung
//
// - konfigurierbar machen: nur bekannte Devices Scannen
//
// - whitelist: Info, wenn whitelistgeäte noch nie gescannt wurden
//
// - Ereignisliste der letzten (10 (konfigurierbar)) gefundenen Devices
//
// - Internetabfrage Hersteller / Mac nach Zeitintervall wiederholen
//
// - per DP wählbar: Scan alles, Scan whiteliste, Scan angelegte Devices (mit Anzeige, welcher Modus aktiv ist)
//
// - im SKript konfigurierbar machen: Dauer eines Scanvorgangs inkl. Fehler abfangen (Minimum Zeit)
//
// - .lastStateDelta neu (Delta als lesbare Zeit ausgeben)
//
// - minRssi über Datenpunkte konfigurierbar machen
//
// =============================================================================
// Einstellungen Skriptverhalten (Expertenmodus)
// =============================================================================

// Das Skript ist so geschrieben, dass es komplett ohne Anpassungen des Users
// funktionieren sollte (Automatikmodus).


// Parameter, die nur beim ERSTEN Start des Skripts berücksichtigt werden und danach über Datenpunkte gesteuert werden
// -------------------------------------------------------------------------------------------------------------------

var automaticOn             = true;     // Automatikmodus true/false. true: Es wird solange alle Geräte gescannt, bis die Anzahl Geräte in atomaticMaxDevice gefunden und angelegt wurde.
var automaticMaxDevice      =  10;      // maximale Devices, die als Datenpunkte im Automatikmodus angelegt werden



// Parameter, die nur im Skript eingestellt werden können (Expertenmodus)
// ----------------------------------------------------------------------

var loglevel                = "debug2";                 // logs() - Loglevel des Scriptes (debug2, debug1, debug, info, warn, error) // benötigt den loglevel info beim Javascript Adapter
var dpPfad                  = "Bluetooth" + ".";        // In welchem Pfad sollen die Datenpunkte angelegt werden. String mit "." am Ende.

 // serviceUUIDs = whitelist. Wenn hier MACs/IDs eingetragen sind, werden nur noch diese gescannt / [] = leere Liste: alles wird gescannt
var serviceUUIDs            = [];           // default: [] =&amp;gt; all // ["", ...] // schränkt ein, welche Devices gescannt werden sollen
var allowDuplicates         = false;        // default: false // true erzeugt eine erheblich größere Last, da alle Devices ständig aktualisiert wedrden

var minRssi                 = -100;         // default: -100 // Mindestsignalstärke zur Weiterverarbeitung (schon eingetragene Devices werden trotzdem verarbeitet)
var txPowerDefault          = -68;          // (zwischen -75 und -55) Sendeleistung txPower (rssi) vom Gerät. Defaultwert für die Entfernungsberechnung, wenn die Devices nicht kalibriert sind

var scandauer               = 10000;        // default: 10000 (10 Sek.) Dauer eines Scandurchgangs (1. Test mit 10000 (10 Sekunden), OK. Kleinster Wert im Skript zugelassen: 3000)

var blockSpam               = true;         // "Spam", block Devices ohne Informationen (kein: Mac, Manufacture Data, uid, service)

var durchlaufLogStop        = true;         // true: begrenzt die Detailausgabe im Log nach Anzahl X Durchläufe
var durchlaufLogStopAnzahl  = 2;            // Anzahl der Durchläufe, für die Detaillogs ausgegeben werden



// Sonstige Parameter zum Skriptverhalten
// --------------------------------------
var delay                   = 200;          // Delay in ms, wenn Datenpunkte verzögert geschriebenwerden, um ggf. Fehler zu vermeiden


// ---------------------------------------------------
// Blacklist anhand der MAC-Adresse
// ---------------------------------------------------
    // Hex- Wert (a-f, 0-9) * als Joker am Ende
var bluetoothBlacklistMac = [                   // Bluetooth IDs/Mac-Adressen, die nicht verarbeitet werden (Blacklist), Joker am Ende möglich
    "badefeebadef",
    "affeaffeaffe"
    ];

// ---------------------------------------------------
// Blacklist anhand des local Name (Name vom Gerät)
// ---------------------------------------------------
var bluetoothBlacklistLocalName = [             // Bluetooth "local name" (Namen, die vom Gerät übertragen werden), die nicht verarbeitet werden (Blacklist)
    "Apple Pencil"
    ];

// ---------------------------------------------------
// Blacklist anhand Manufacturrer Data
// ---------------------------------------------------
    // Hex- Wert (a-f, 0-9) * als Joker am Ende
    // Aufbau der Meldungen bei Beacons: https://developer.mbed.org/blog/entry/BLE-Beacons-URIBeacon-AltBeacons-iBeacon/
    // ersten zwei Bytes = Herstellerkennung, siehe https://www.bluetooth.com/specifications/assigned-numbers/company-Identifiers
    // 4c00 = Apple, 0075 = Samsung, 8700 = Garmin, 8a00 = Jawbone, ...
    // 3. Byte = Type: 02 = iBeacon
var bluetoothBlacklistManufacturerData = [     // Bluetooth manufacturerData, welche nicht verarbeitet werden (Blacklist), Joker "*" am Ende mäglich
    "4c000c0e00*",
    "4c000b03*",
    "4c00051200000000000000000*"
    ];

// ---------------------------------------------------
// eigene bekannte Bluetooth Geräte
// ---------------------------------------------------
var bluetoothDevices = {
// name:    Selbstvergebener Name zum Gerät
// person:  nur Info: Freitext, Person der das Gerät zugeordnet ist
// txPower: rssi Wert, wenn das Gerät eine Entfernung von einem Meter zum Host hat. Wichtg für die Kalebrierung der Entfernung (Distanz) je Gerät)

    "0024e4185fa3":
    {
        "name":         "Withings_Aura",
        "person":       "keine"
    },
    "f75e39e1eeca":
    {
        "name":         "Fitbit_One",
        "person":       "Michael",
        "txPower":      -68
    },
    "001a7dda7113":
        {
        "name":         "iBeacon_Arbeitszimmer",
        "person":       "keine"
    },
    "7c2f80adc68f":
        {
        "name":         "G-Tag_Schlüsselbund_Michael",
        "person":       "Michael",
        "txPower":      -70
    },
    "244b03eefea7":
        {
        "name":         "Samsung_TV_Nachbarn",
        "person":       ""
    },
    "4b475e4c5236":
        {
        "name":         "MacBook_Pro_Retina",
        "person":       "Michael"
    },
    "b0b448bda804":
        {
        "name":         "Ti_CC2650STK_SensorTag",
        "person":       ""
    }
};






// ##########################################################################################################################
// AB HIER KEINE ÄNDERUNGEN AM SKRIPT VORNEHMEN      (keine Einstellungen nötig)
// ##########################################################################################################################

// (es sei denn, die Datenpunktnamen sollen geändert werden)


// ---------------------------------------------------
// Im Datenpunktpfad werden die Devices unter ... angelegt:
// ---------------------------------------------------
var devicePfad                  = dpPfad + "Device.";

var idScan                      = dpPfad + 'Control_ScanOn';                    // schaltet den Scan per Datenpunkt ein oder aus (true/false)
var idScanFirst                 = dpPfad + 'onlyScript.scanFirst';              // Info für das Script, wurde das Script zum aller ersten mal gestartet

var idControlAutomaticOn        = dpPfad + 'Control_Script.Automatik_Modus_An'; // schaltet den den Automatikmodus ein oder aus (max. Anzahl der Geräte, die als Datenpunkte angelegt werden)
var idControlAutomaticMax       = dpPfad + 'Control_Script.Automatik_Modus_Max_Geräte'; // Wieviele Geräte sollen max. im Automatikmodus gefunden werden?


var idNewDevice                 = dpPfad + 'InfoDevices.newDevice';             // Mac eines neu gefundenen Bluetooth Device wird hier abgelegt (für Histroy)
var idNewDeviceMoreInfo         = dpPfad + 'InfoDevices.newDeviceMoreInfo';     // Mac und lokaler Name eines neu gefundenen Bluetooth Device wird hier abgelegt (für Histroy)
var idNewDeviceBlocked          = dpPfad + 'InfoDevices.newDeviceBlocked';      // id des zulezt gescannten Devices, welches geblcokt wurde

var idDevicesListAll            = dpPfad + 'InfoDevices.ListAll';               // Liste aller schon erfassten Devices (in allen Starts des Skripts)
var idDevicesOffline            = dpPfad + 'InfoDevices.ListOffline';           // Liste aller schon erfassten Devices, die nicht erreichbar sind (ohne Geräte auf der Blacklsit)
var idDevicesOnline             = dpPfad + 'InfoDevices.ListOnline';            // Liste aller schon erfassten Devices, die gerade erreichbar sind  (ohne Geräte auf der Blacklsit)
var idDevicesList24blocked      = dpPfad + 'InfoDevices.Blacklist.List_24h_blocked';// Liste aller geblockten Bluetooth IDs der letzten 24h
var idDevicesBlacklistDel       = dpPfad + 'InfoDevices.Blacklist.Deleted_Devices'; // List der Geräte, die manuell gelsöcht wurden
var idDevicesBlacklistMac       = dpPfad + 'InfoDevices.Blacklist.Mac';         // Geräte, die auf der Blacklist stehen (Mac-Adresse)
var idDevicesBlacklistLN        = dpPfad + 'InfoDevices.Blacklist.LocalName';   // Geräte, die auf der Blacklist stehen (Local Name)
var idDevicesBlacklistMD        = dpPfad + 'InfoDevices.Blacklist.ManufacturerData';   // Geräte, die auf der Blacklist stehen (Manufacturer Data)
var idDevicesBlacklistMacOnline = dpPfad + 'InfoDevices.Blacklist.ListBlacklistMacOnline';   // Liste aller schon erfassten Devices, die gerade erreichbar sind und auf einer Blacklist stehen
var idDevicesCountAll           = dpPfad + 'InfoDevices.CountAll';              // Anzahl aller bekannten Devices
var idDevicesCountOffline       = dpPfad + 'InfoDevices.CountOffline';          // Anzahl Devices nicht erreichbar
var idDevicesCountOnline        = dpPfad + 'InfoDevices.CountOnline';           // Anzahl Devices online
var idInfoCount24blockSpam      = dpPfad + 'InfoDevices.Count_24h.blocked_Spam';                // Counter 24h geblockte Scanvorgänge Geräte ohne Information
var idInfoCount24blockBLMac     = dpPfad + 'InfoDevices.Count_24h.blocked_Blacklist_Mac';       // Counter 24h geblockte Scanvorgänge Geräte Blacklist Mac
var idInfoCount24blockBLLN      = dpPfad + 'InfoDevices.Count_24h.blocked_Blacklist_LocalName'; // Counter 24h geblockte Scanvorgänge Geräte Blacklist Local Name
var idInfoCount24blockBLMD      = dpPfad + 'InfoDevices.Count_24h.blocked_Blacklist_ManufactureData'; // Counter 24h geblockte Scanvorgänge Geräte Blacklist Manufacture Data
var idInfoCount24blockRssiLow   = dpPfad + 'InfoDevices.Count_24h.blocked_rssi_low';            // Counter 24h geblockte Scanvorgänge Geräte rssi zu schwach
var idInfoCount24blockAutoMax   = dpPfad + 'InfoDevices.Count_24h.blocked_Auto_Max';            // Counter 24h geblockte Scanvorgänge Geräte da im AUtomatikmodus die maximale Anzahl anzulegender Geräte erreicht wurde.
var idInfoCount24blockDelDev    = dpPfad + 'InfoDevices.Count_24h.blocked_Deleted_Devices';     // Counter 24h geblockte Scanvorgänge Geräte die auf der Liste der manuell gelöschten Devices stehen

var idNobleStatus               = dpPfad + 'InfoSkript.Status_noble';           // Status des noble modules
var idInfoScanModus             = dpPfad + 'InfoSkript.Status_ScanModus';       // Scanmodus (alle oder nur bestimmte Devices)
var idInfoScanStatus            = dpPfad + 'InfoSkript.Status_Scan';            // Scan Status
var idInfoSetObject             = dpPfad + 'InfoSkript.setObjectEnabled';       // Ist setObjects für die Instanz freigeschaltet? Wenn nein, werden die Gerätenamen nciht im Channel angezeigt.
var idInfoScriptUptime          = dpPfad + 'InfoSkript.Time_UptimeScript';      // Zeit, die das Skript aktiv ist
var idInfoScanDuration          = dpPfad + 'InfoSkript.Time_ScanDuration';      // Zeit, die der Scan aktiv war
var idInfoCountScans            = dpPfad + 'InfoSkript.CountScans';             // Anzanhl der Scandurchläufer



// =============================================================================
// Variablen für das Skript (Skript intern, KEINE Konfiguration für den Anwender)
// =============================================================================

var noble   = require('noble');     // Node.js BLE (Bluetooth Low Energy) central module
var request = require("request");   // zur Abfrage des Herstellers anhand der Mac-Adresse

var anzahlBluetoothDevices          = 0;        // zählt die gescannten Bluetooth Devices je Durchlauf
var anzahlBluetoothDevicesNeu       = 0;        // zählt die neuen Bluetooth Devices je Durchlauf
var durchlauf                       = 0;        // Zählt die Bluetooth Scandurchläufe nach Scriptstart
var bekannteDevicesNichtErreichbar  = [];       // enthält zu Beginn des Durchlaufs alle bekannten Devices,
                                                // jedes erreichte Device wird entfernt. Die übrigen Devices werden auf nicht erreichbar gesetzt
var bekannteDevicesErreichbar       = [];       // zählt beim Durchlauf alle erreichbaren Devices (ohne Geräte, die auf der Blacklist stehen)
var blacklistDevicesErreichbar      = [];       // zählt beim Durchlauf alle erreichbaren Devices, die auf einer Blacklist stehen

var colorTrue                       = '&lt;span style="color: green;"&gt;true&lt;/span&gt;';
var colorFalse                      = '&lt;span style="color: red;"&gt;false&lt;/span&gt;';

var timeInSecScriptStart            = dateSecNow();
var timeInSecScan                   = 0;

var noerror = true;

var instanz                 = "javascript." + instance + ".";

logs('&lt;b&gt;--== ' + name + ' ==--&lt;/b&gt; gestartet. Instanz: "' + instanz + '", Loglevel: ' + loglevel,"info","darkgreen");
logs('Vars, Loglevel und Scriptname gesetzt','debug2');




// =============================================================================
// Datenpunkte anlegen
// =============================================================================


function dpAnlegen() {

    createState(idScan, false, {
        name: 'Switch Bluetooth Scanner ein/aus',
        desc: 'Schaltet den Bluetoothscanner ein und aus',
        type: 'boolean',
        role: 'input'
    });

    createState(idControlAutomaticOn, automaticOn, {
        name: 'Control Script Automatik Modus ein/aus',
        desc: 'Control Script Automatik Modus ein/aus. Max. Anzahl von Geräten, für die Datenpunkte angelegt werden',
        type: 'boolean',
        role: 'input'
    });

    createState(idControlAutomaticMax, automaticMaxDevice, {
        name: 'Control Script Automatik Modus maximale Anzahl Geräte',
        desc: 'Control Script Automatik Modus maximale Anzahl Geräte die als Datenpunkt angelegt werden',
        type: 'number',
        role: 'input'
    });

    createState(idScanFirst, false, {
        name: 'Bluetooth Scan schon einmal gelaufen',
        desc: 'Startet beim ersten Skriptstart den Bluetooth Scan. Wird nur einmal benötigt.',
        type: 'boolean',
        role: 'system'
    });

    createState(idNewDevice, "", {
        name: 'last new Bluetooth Devices',
        desc: 'Die Mac Adresse des zuletzt gefundenen Bluetooth Device (für History und Ereignislisten)',
        type: 'string',
        role: 'value'
    });

    createState(idNewDeviceMoreInfo, "", {
        name: 'last new Bluetooth Devices, mac und name',
        desc: 'Die Mac Adresse und der locale Name des zuletzt gefundenen Bluetooth Device (für History und Ereignislisten)',
        type: 'string',
        role: 'value'
    });

    createState(idNewDeviceBlocked, "", {
        name: 'id des zuletzt geblockten Device 24h',
        desc: 'id des zuletzt geblockten Device 24h',
        type: 'string',
        role: 'value'
    });

    createState(idDevicesListAll, "", {
        name: 'Liste aller als DP angelegten Bluetooth Devices',
        desc: 'Liste aller bisher gefundenen und als Datenpunkt angelegten Bluetooth Devices',
        type: 'string',
        role: 'list'
    });

    createState(idDevicesOffline, "", {
        name: 'Liste der angelegten Geräte, die nicht erreichbar sind',
        desc: 'Liste der als Datenpunkt angelegten Geräte, die nicht erreichbar sind',
        type: 'string',
        role: 'list'
    });

    createState(idDevicesOnline, "", {
        name: 'Liste der angelegten Geräte die erreichbar sind (ohne geblockte Geräte)',
        desc: 'Liste der angelegten Geräte die erreichbar sind (ohne geblockte Geräte)',
        type: 'string',
        role: 'list'
    });


    createState(idDevicesList24blocked, "", {
        name: 'Liste der IDs, die die letzten 24h geblockt wurden',
        desc: 'Liste der IDs, die die letzten 24h geblockt wurden',
        type: 'string',
        role: 'list'
    });

    createState(idDevicesBlacklistDel, "", {
        name: 'Bluetooth Devices, die manuell gelöscht wurden ',
        desc: 'Bluetooth Devices, die manuell gelöscht wurden',
        type: 'string',
        role: 'list'
    });

    createState(idDevicesBlacklistMac, "", {
        name: 'Bluetooth Devices auf Blacklist nach Mac/ID',
        desc: 'Bluetooth Devices auf Blacklist nach Mac/ID',
        type: 'string',
        role: 'list'
    });

    createState(idDevicesBlacklistLN, "", {
        name: 'Bluetooth Devices auf Blacklist nach local Name',
        desc: 'Bluetooth Devices auf Blacklist nach local Name (wird vom Gerät gesendet)',
        type: 'string',
        role: 'list'
    });

    createState(idDevicesBlacklistMD, "", {
        name: 'Bluetooth Devices auf Blacklist nach Manufacturer Data',
        desc: 'Bluetooth Devices auf Blacklist nach Manufacturer Data (wird vom Gerät gesendet)',
        type: 'string',
        role: 'list'
    });

    createState(idDevicesBlacklistMacOnline, "", {
        name: 'Bluetooth Devices Blacklist online',
        desc: 'Liste Bluetooth Devices von der Blacklist, die erreichbar sind',
        type: 'string',
        role: 'list'
    });

    createState(idDevicesCountAll, 0, {
        name: 'Anzahl bekannter Bluetooth Devices',
        desc: 'Anzahl bekannte Bluetooth Devices (ohne Blacklist Devices)',
        type: 'number',
        role: 'counter'
    });

    createState(idDevicesCountOffline, 0, {
        name: 'Anzahl bekannter Bluetooth Devices nicht erreichbar',
        desc: 'Anzahl bekannter Bluetooth Devices nicht erreichbar (ohne Blacklist Devices)',
        type: 'number',
        role: 'counter'
    });

    createState(idDevicesCountOnline, 0, {
        name: 'Anzahl bekannter Bluetooth Devices online',
        desc: 'Anzahl bekannter Bluetooth Devices online (ohne Blacklist Devices)',
        type: 'number',
        role: 'counter'
    });

    createState(idNobleStatus, noble.state, {
        name: 'Status des noble moduls',
        desc: 'Status des noble moduls',
        type: 'string',
        role: 'info'
    });

    createState(idInfoScanModus, "", {
        name: 'Info Scanmodus, welche Devices werden gesscannt',
        desc: 'Info Scanmodus, welche Devices werden gesscannt',
        type: 'string',
        role: 'info'
    });

    createState(idInfoSetObject, "", {
        name: 'setObject() für die Instanz freigeschaltet?',
        desc: 'setObject() für die Instanz freigeschaltet? Wenn nein, werden weniger Informationen angezeigt.',
        type: 'string',
        role: 'info'
    });

    createState(idInfoCount24blockSpam, 0, {
        name: '24h Zähler: Scan geblockt Gerät ohne Informationen (Spam)',
        desc: '24h Zähler: Scan geblockt Gerät ohne Informationen (Spam)',
        type: 'number',
        role: 'counter'
    });

    createState(idInfoCount24blockBLMac, 0, {
        name: '24h Zähler: Scan geblockt wg. Blacklist Mac',
        desc: '24h Zähler: Scan geblockt wg. Blacklist Mac',
        type: 'number',
        role: 'counter'
    });

    createState(idInfoCount24blockBLLN, 0, {
        name: '24h Zähler: Scan geblockt wg. Blacklist local name',
        desc: '24h Zähler: Scan geblockt wg. Blacklist local name',
        type: 'number',
        role: 'counter'
    });

    createState(idInfoCount24blockBLMD, 0, {
        name: '24h Zähler: Scan geblockt wg. Blacklist Manufacture Data',
        desc: '24h Zähler: Scan geblockt wg. Blacklist Manufacture Data',
        type: 'number',
        role: 'counter'
    });

    createState(idInfoCount24blockRssiLow, 0, {
        name: '24h Zähler: Scan geblockt wg. rssi low',
        desc: '24h Zähler: Scan geblockt wg. Signal (rssi) zu schwach.',
        type: 'number',
        role: 'counter'
    });

    createState(idInfoCount24blockAutoMax, 0, {
        name: '24h Zähler: Scan geblockt wg. max. Anzahl Geräte im Automatikmodus',
        desc: '24h Zähler: Scan geblockt wg. max. Anzahl Geräte im Automatikmodus',
        type: 'number',
        role: 'counter'
    });

    createState(idInfoCount24blockDelDev, 0, {
        name: '24h Zähler: Scan geblockt wg. manuell gelöschtes Gerät erkannt',
        desc: '24h Zähler: Scan geblockt wg. manuell gelöschtes Gerät erkannt',
        type: 'number',
        role: 'counter'
    });

    createState(idInfoScriptUptime, "-", {
        name: 'Uptime des Skripts',
        desc: 'Uptime des Skripts. Zeit, seitdem das Skript gestartet wurde.',
        type: 'string',
        role: 'uptime'
    });

    createState(idInfoScanDuration, "-", {
        name: 'Zeit, die der Scan aktiv war',
        desc: 'Zeit, die der Scan aktiv war',
        type: 'string',
        role: 'info.counter'
    });

    createState(idInfoCountScans, 0, {
        name: 'Anzahl der Scandurchläufe seit Skriptstart',
        desc: 'Anzahl der Scandurchläufe seit Skriptstart',
        type: 'number',
        role: 'info'
    });

    createState(idInfoScanStatus, "aus", {
        name: 'Scan Status',
        desc: 'Scan Status',
        type: 'string',
        role: 'info'
    });


    // einfach angelegte Datenpunkte
    // -----------------------------
    //createState(dpPfad + 'datenpunktName',"Test");

    // ausführlich beschriebene Datenpunkte
    // ------------------------------------
    /*
    createState(dpPfad + 'datenpunktName', 0, { // Datenpunktname ohne Leerzeichen und Sonderzeichen, wie er in den Objekten angelegt wird
        name: 'Name des Datenpunkts',           // Lesbarer Name des Datenpunkts
        desc: 'Beschreibung des Datenpunkts',   // Beschreibung des Datenpunkts
        type: 'number',                         // Bescreibung des Typ, wie: number, string, boolean
        unit: '°C'                              // Einheit, wenn benötigt
    });
    */


    logs("dpAnlegen() - Datenpunkte angelegt (createState) in " + instanz + dpPfad,'debug2');
}



// =============================================================================
// Unterdatenpunkte der Bluetooth Devices, die automatisch je gefundenem Device angelegt werden
// =============================================================================

var deviceDatenpunkte = {
    "Name_localName" : {
        "init": "",
        "dp": {
            "name": 'Bluetooth local Name',
            "desc": 'local Name vom Device über Bluetooth',
            "type": 'string',
            "role": 'value'
        }
    },
    "Name" : {
        "init": "",
        "dp": {
            "name": 'selbstvergebender Name, z.B. aus JSON',
            "desc": 'selbstvergebender Name des Bluetooth Devices, z.B. aus JSON',
            "type": 'string',
            "role": 'input.value'
        }
    },
    "lastState" : {
        "init": false,
        "dp": {
            "name": 'Bluetooth Device erreichbar',
            "desc": 'Bluetooth Device wurde im letzten Scan erreicht',
            "type": 'boolean',
            "role": 'indicator.reachable'
        }
    },
    "lastStateDate" : {
        "init": "",
        "dp": {
            "name": 'Bluetooth Datum letzte Statusänderung',
            "desc": 'Bluetooth Datum letzte Statusänderung',
            "type": 'string',
            "role": 'date'
        }
    },
    "lastStateCount" : {
        "init": 0,
        "dp": {
            "name": 'Anzahl erreichbar (+)/ nicht erreichbar (-) in Folge',
            "desc": 'Bluetooth Anzahl erreichbar (+)/ nicht erreichbar (-) in Folge',
            "type": 'number',
            "role": 'counter'
        }
    },
    "Person" : {
        "init": "",
        "dp": {
            "name": 'Bluetooth Device Personenzuordnung',
            "desc": 'Bluetooth Device gehört zur Person',
            "type": 'string',
            "role": 'input.value.persons'
        }
    },
    "rssi" : {
        "init": 0,
        "dp": {
            "name": 'Bluetooth Device rssi',
            "desc": 'Bluetooth Device rssi Signalsärke',
            "type": 'number',
            "unit": 'dB' ,
            "role": 'value.rssi'
        }
    },
    "Distanz" : {
        "init": 0,
        "dp": {
            "name": 'Bluetooth Device Distanz',
            "desc": 'Bluetooth Device errechnete Entfernung',
            "type": 'float',
            "unit": 'm',
            "role": 'value'

        }
    },
    "Hersteller" : {
        "init": "",
        "dp": {
            "name": 'Bluetooth Device Hersteller anhand MAC',
            "desc": 'Bluetooth Device Herstellerinfo vom Device ermittelt über die MAC',
            "type": 'string',
            "role": 'value'
        }
    },
    "details.uuid" : {
        "init": "",
        "dp": {
            "name": 'Bluetooth Device uuid',
            "desc": 'Bluetooth Device uuid',
            "type": 'string',
            "role": 'value'
        }
    },
    "details.service" : {
        "init": "",
        "dp": {
            "name": 'Bluetooth Device Service',
            "desc": 'Bluetooth Device Service',
            "type": 'string',
            "role": 'value'
        }
    },
    "details.txPower" : {
        "init": 0,
        "dp": {
            "name": 'Bluetooth Device txPower in 1m Entfernung',
            "desc": 'im Bluetooth Device eingetragenen Sendeleistung (txPower)',
            "type": 'number',
            "unit": 'dB',
            "role": 'input.value'
        }
    },
    "details.address" : {
        "init": "",
        "dp": {
            "name": 'Bluetooth Device address',
            "desc": 'Bluetooth Device address (MAC-Adresse)',
            "type": 'string',
            "role": 'value'
        }
    },
    "details.addressType" : {
        "init": "",
        "dp": {
            "name": 'Bluetooth Device addressType',
            "desc": 'Bluetooth Device addressType (public, random), or "unknown" if not known',
            "type": 'string',
            "role": 'value'
        }
    },
    "details.connectable" : {
        "init": false,
        "dp": {
            "name": 'Bluetooth Device connectable',
            "desc": 'Bluetooth Device connectable (true or false), or undefined if not known',
            "type": 'boolean',
            "role": 'value'
        }
    },
    "details.manufacturerData" : {
        "init": "",
        "dp": {
            "name": 'Bluetooth Device manufacturerData',
            "desc": 'Bluetooth Device manufacturerData - Herstellerdaten',
            "type": 'string',
            "role": 'value'
        }
    },
    "Control.Delete_Device" : {
        "init": false,
        "dp": {
            "name": 'ACHTUNG: (true) löscht das Gerät und setzt es auf die Blacklist',
            "desc": 'ACHTUNG: true löscht das Gerät vor dem nächsten Durchlauf und setzt es auf die Blacklist',
            "type": 'boolean',
            "role": 'input'
        }
    }
};



// =============================================================================
// Daten
// =============================================================================
    // 4c00 = Apple, 0075 = Samsung, 8700 = Garmin, 8a00 = Jawbone, ...
    // ersten zwei Bytes = Herstellerkennung, siehe https://www.bluetooth.com/specifications/assigned-numbers/company-Identifiers
    // erst das upper Byte, dann das lower Byte

var btCompanyIdentifiers = {
    "4c00": { "company": "Apple"            },
    "6b00": { "company": "POLAR"            },
    "8700": { "company": "Garmin"           },
    "0087": { "company": "Garmin"           }, // Garmin Geräte sowohl mit 0087, als auch mit 8700 empfangen (lower upper Byte vertauscht)
    "8a00": { "company": "Jawbone"          },
    "7500": { "company": "Samsung"          },
    "8001": { "company": "Gigaset"          }
};


// =============================================================================
// Autokorrekturen &amp;amp; Prüfung auf gültige Daten
// =============================================================================

function autokorrekturen() {

    if (typeof noble == "undefined") {
        noerror = false;
        log('node.js Module "noble" steht nicht zur Verfügung',"error");
        log('Voraussetzung für noble: &lt;span style="color: blue;"&gt;&lt;a href="https://github.com/sandeepmistry/noble#prerequisites"&gt;https://github.com/sandeepmistry/noble#prerequisites&lt;/a&gt;&lt;/span&gt;',"error");
    }
    if (typeof request == "undefined") {
        noerror = false;
        log('node.js Module "request" steht nicht zur Verfügung',"error");
    }


    if (scandauer &amp;lt; 3000) { logs("scandauer nicht kleiner als 3000 -&amp;gt; auf 3000 angepasst","warn");
        scandauer = 3000;
    }

    checkData(bluetoothBlacklistManufacturerData,"bluetoothBlacklistManufacturerData");
    checkData(bluetoothBlacklistMac             ,"bluetoothBlacklistMac");
}


// =============================================================================
// Funktionen                                                         Funktionen
// =============================================================================


// ------------------------------
// Datenverarbeitung
// ------------------------------

// Hersteller anhand der MAC-Adresse ermitteln (über einen Webservice)
function readVendor(id,callback) {
    var url = 'http://api.macvendors.com/' + id;
    request(url, function (err, state, body){
        if (body) {
            var vendor = body;
            callback(null, vendor, id);
        } else {
            var error = "Bluetooth id: " + id + " Kein vendor ermittelt (" + err + ")";
            logs(error, "info");
            callback(error, null, id);
        }
    });
}

function mdVendor(md) {
    //btCompanyIdentifiers
    if(btCompanyIdentifiers &amp;amp;&amp;amp; checkHexWithJoker(md)) {
        for (var identifier in btCompanyIdentifiers) {
            if (md.substr(0,4) == identifier.substr(0,4)) {
                logs("Hersteller: "+ btCompanyIdentifiers[identifier].company + " über Manufacture Data identifiziert.")
                return btCompanyIdentifiers[identifier].company;
            }
            logs("ohne Ergebnis: versucht Hersteller über Manufacture Data zu identifizieren. " + md.substr(0,4) + "  " + identifier.substr(0,4),"debug");
        }
        return "";
    }
}


function calculateDistance(rssi,txPower) {
    if (typeof txPower == 'undefined') {
        txPower = txPowerDefault; //hard coded power value. Usually ranges between -59 to -65 (mit dem Pi 3 ist -70 näher dran)
    }
    if ((txPower &amp;lt; -75) || (txPower &amp;gt; -55)) {
        txPower = txPowerDefault; //hard coded power value. Usually ranges between -59 to -65 (mit dem Pi 3 ist -70 näher dran)
    }
    if (rssi == 0) {
        return -1.0;
    }
    var ratio = rssi*1.0/txPower;
    if (ratio &amp;lt; 1.0) {
        return Math.pow(ratio,10);
    }
    else {
        var distance =  (0.89976)*Math.pow(ratio,7.7095) + 0.111;
        return distance;
    }
}

function datum(){
    return formatDate(new Date(), "YYYY-MM-DD,SS:mm");
}

function secForm(duration) {
// Dauer in Sekunden formatiert zu einer lesbaren Zeit:

    var durationMin = Math.floor(parseInt(duration) / 60 );
    var durationSek = parseInt(duration) % 60;
    var durationStd = Math.floor(durationMin  / 60);
    var durationTag = Math.floor(durationStd  / 24);
    durationMin %= 60; // Rest bei Division durch 60
    durationStd %= 24;

    if (duration ===   0) return "";
    if (duration &amp;lt;    60) return durationSek + "s";
    if (duration &amp;lt;  3600) return durationMin + "min " + durationSek + "s";
    if (duration &amp;lt; 86400) return durationStd + "h " + durationMin + "min " + durationSek + "s"; return durationTag + "d " + durationStd + "h " + durationMin + "min " + durationSek + "s"; } function dateSecNow() { var now = new Date(); now = Math.floor(Date.parse(now)/1000); // aktuelle Zeit in Sekunden return now; } function clear24() { setState(idInfoCount24blockSpam ,0); setState(idInfoCount24blockBLMac ,0); setState(idInfoCount24blockBLLN ,0); setState(idInfoCount24blockBLMD ,0); setState(idInfoCount24blockDelDev ,0); setState(idInfoCount24blockRssiLow ,0); setState(idInfoCount24blockAutoMax ,0); var list = []; list.length = 0; writeList(list,idDevicesList24blocked); logs("24h Zähler wurden zurückgesetzt","info"); } // ------------------------------ // Array Listen Verarbeitung // ------------------------------ function readList(dp) { // lese ein JSON aus einem Datenpunkt var json = getState(dp).val; if (json === "") return []; try { list = JSON.parse(json); } catch (ex) { list = []; } if(!list) list = []; return list; } function writeList(list,dp) { // schreibt ein JSON in einen Datenpunkt setState(dp, JSON.stringify(list)); } // löscht ein element aus einem array function delElement(element,arr){ var elementPos = findElement(element,arr); if (elementPos &amp;gt; -1) {
        return arr.splice(elementPos, 1);
    }
    return arr;
}
// Position eines elements in einem array
function findElement(element,arr){
    for (var i = 0; i &amp;lt; arr.length; i++) {
        if (arr[i] === element) {
            return i;
        }
    }
    return -1;
}



// ------------------------------
// Checks
// ------------------------------

// prüft ob das gefundene Gerät in der Blacklist ist (liefert true/false)
function inBlacklist (mac) {
    if(bluetoothBlacklistMac) {
        var blacklistStr = "";
        for (var i=0; i&amp;lt;bluetoothBlacklistMac.length; i++) {
            blacklistStr = bluetoothBlacklistMac[i];
            if (mac == blacklistStr) return true;
            if (checkJoker(blacklistStr)) {
                if (mac.substr(0,blacklistStr.length-1) == blacklistStr.substr(0,blacklistStr.length-1)) return true;
            }
        }
    }
    return false;
}

function inBlacklistLN (localName) {
    if(bluetoothBlacklistLocalName) {
        for (var i=0; i&amp;lt;bluetoothBlacklistLocalName.length; i++) {
            if (localName == bluetoothBlacklistLocalName[i]) return true;
        }
    }
    return false;
}

function inBlacklistDD(id) {
    var bluetoothBlacklistDeletedDevices = readList(idDevicesBlacklistDel);
    if(bluetoothBlacklistDeletedDevices) {
        for (var i=0; i&amp;lt;bluetoothBlacklistDeletedDevices.length; i++) {
            if (id == bluetoothBlacklistDeletedDevices[i]) return true;
        }
    }
    return false;
}

function inBlacklistMD (manufacturerData) {
    if(bluetoothBlacklistManufacturerData) {
        var blacklistStr = "";
        for (var i=0; i&amp;lt;bluetoothBlacklistManufacturerData.length; i++) { blacklistStr = bluetoothBlacklistManufacturerData[i]; if (manufacturerData == blacklistStr) return true; // TDOD Prüfung auf * am Ende testen (löschen on the fly sorgt für Fehler am Scanende?) if (checkJoker(blacklistStr)) { if (manufacturerData.substr(0,blacklistStr.length-1) == blacklistStr.substr(0,blacklistStr.length-1)) return true; } } } return false; } // prüft ob die MAC/ID ein bekanntes Gerät ist (Vergleich mit der Liste "eigene bekannte Bluetooth Geräte", bluetoothDevices) function inBluetoothDevices (mac) { // TODO: nicht die ganze Liste durchgehen, sondern direkt das Element abfragen (Javascript Optimierung) if(bluetoothDevices) { // hat die Liste "eigene bekannte Bluetooth Geräte" einen Inhalt? for (var device in bluetoothDevices) { if (mac == device) return true; } } return false; } function detailLogAkiv() { return (!(durchlaufLogStop &amp;amp;&amp;amp; (durchlauf &amp;gt; durchlaufLogStopAnzahl)));
}

// prüft ob das gefundene Gerät schon bekannt ist auf der übergebende Liste (ID des Datenpunks mit der Liste)
function knownDevice(mac,iDList) {
    var devices = readList(iDList);
    if(devices) {
        for (var i=0; i&amp;lt;devices.length; i++) {
            if (mac == devices[i]) return true;
        }
    }
    return false;
}



function checkEnableSetObject() { // prüft ob setObjects() für die Instanz zur Verfügung steht (true/false)
    var enableSetObject = getObject("system.adapter.javascript." + instance).native.enableSetObject;
    return enableSetObject;
}

function getScanmodus() {
    var scanmodus = serviceUUIDs;
    automaticMaxDevice = getState(idControlAutomaticMax).val;
    var anzahlIst = readList(idDevicesListAll).length;
    if (scanmodus.length == 0) {
        if (!automaticOn) {
        scanmodus = 'alle';
        } else {
            if (anzahlIst &amp;lt; automaticMaxDevice) { scanmodus = 'alle &amp;gt; ' + anzahlIst + ' von max. ' + automaticMaxDevice + " gefundene Geräte (Automatikmodus ein)";
            } else {
                scanmodus = 'Automatik: Max. Anzahl ' + anzahlIst + ' von ' + automaticMaxDevice +
                ' Geräten erreicht. Nur schon angelegte oder eigene Geräte werden gescannt.';
                // TODO: die Logik auch erweitern, dass nur noch bekannte Geräte im Scan eingetragen sind
            }
        }
    }
    if (!getState(idScan).val)  scanmodus = 'aus';
    if (noble.state != 'poweredOn') scanmodus = 'aus - noble module nicht aktiv';
    writeList(scanmodus,idInfoScanModus);
}

function checkHexWithJoker(data) {                // prüft Manufactura Data oder ID (MAC ohne Doppelpunkte) auf Gültigkeit. Ein * als Joker am Ende ist erlaubt.
    var regex = /^([a-f0-9]+)(\*{0,1})$/i;         // https://regex101.com/#javascript
    if (data.match(regex)) return true;
    //logs('Data "' + data + '": ungültiges Format (a-f, 0-9 sind erlaubt und * am Ende als Wildcard)',"warn");
    return false;
}

function checkJoker(str) {
    if (str) {
        var joker = str.substr(str.length - 1,str.length);
        return (joker == "*" ? true : false);
    }
    return false;
}

function checkData (list,listName) {    // prüft ob in den Blacklists nur gültige Hexwerte
                                        // (kleine Buchstaben von a-f und Ziffern von 0-9) eingegeben wurden
                                        //  und lLternativ ein  * als Joker am Ende
                                        // Länge wird nicht geprüft!
    if(list) {
        var data = "";
        for (var i=0; i&amp;lt;list.length; i++) {
            data = list[i];
            if (!checkHexWithJoker(data)) {
                logs('ungültige Daten in ' + listName + ': "' + data + '" (a-f, 0-9 sind erlaubt und * am Ende als Joker)','warn');
            }
            //if(checkJoker(data)) logs(listName + ": " + data + " enthält Joker: " + colorTrue,"debug2");
        }
        logs("Liste " + listName + " auf gültige Werte geprüft. Anzahl Einträge: " + i,"info");
    }
}


    // zum löschen markierte Geräte löschen
function delDelDevices() {
    var list = readList(idDevicesListAll); // Liest die Liste aller als Datenpunkte angelegter Geräte ein.
    for (var i=0; i&amp;lt;list.length; i++) { var id = list[i]; var del = getState(devicePfad + id + ".Control.Delete_Device").val; if(del) { deviceDpDelete(id); // alle Datenpunkte des Device löschen delDevice(id,idDevicesListAll); // aus der Liste bekannte Geräte entfernen addDevice(id,idDevicesBlacklistDel); // ID auf die Blacklist der manuell gelöschten Geräte setzen // Infoeintrag elöschtes Gerät var localName = getState(devicePfad + id + ".Name_localName").val; var manufacturerData = getState(devicePfad + id + ".details.manufacturerData").val; setState(idNewDeviceBlocked ,id + "," + "Device_Deleted" + "," + datum() + "," + localName + "," + manufacturerData); logs("Bluetooth Gerät: " + id + ", gelöscht.","info","darkorange"); if(getState(idControlAutomaticOn).val) { // Automatikmodus an? var maxDevice = getState(idControlAutomaticMax).val; var anzDevice = readList(idDevicesListAll).length + 1; logs("maxDevice = " + maxDevice + ", anzDevice = " + anzDevice,"debug","red"); if(anzDevice == maxDevice) { // Liste Maximum erreicht? setState(idControlAutomaticMax, maxDevice-1); // dann Maximum um eins reduzieren logs("Bluetooth Gerät gelöscht. Maximale Anzahl anzulegender Devices um eins reduziert.","info"); } } } } } // ------------------------------ // Verwaltung Listen // ------------------------------ function addDevice(id,idList) { // Liste der bekannten Devices (ohne Blacklist) in einem Datenpunkt pflegen .-&amp;gt; neues Device hinzufügen
    var devices = readList(idList);
    devices.push(id);
    writeList(devices,idList);
    if(idList == idDevicesListAll) {
        logs("Device: " + id + ", zu den bekannten Devices hinzugefügt","info","darkmagenta");
        anzahlBluetoothDevicesNeu = anzahlBluetoothDevicesNeu + 1;
    }
}

function delDevice(id,idList) {                  // Liste der bekannten Devices (ohne Blacklist) in einem Datenpunkt pflegen .-&amp;gt; Device aus Liste löschen
    var devices = readList(idList);
    delElement(id,devices);
    writeList(devices,idList);
    if(idList == idDevicesListAll) {
        logs("Device: " + id + ", von den bekannten Devices gelöscht","info","darkmagenta");
        anzahlBluetoothDevicesNeu = anzahlBluetoothDevicesNeu + 1;
    }
}


// ------------------------------
// Verwaltung Datenpunkte
// ------------------------------

function deviceDpAnlegen(id){
    if(checkEnableSetObject()) { // wenn setObject nicht in der Instanz freigeschaltet ist, wird der Channel nicht angelegt
    // CHANNEL anlegen
        setObject(instanz + devicePfad + id, {
            common: {
                name: id
            },
            type: 'channel'
        }, function(err) {
            if (err) logs('Cannot write object: ' + err,"error");
        });
    }
    // Datenpunkte anlegen
    //for (var datenpunkt in deviceDatenpunkte) {
    //    createState(devicePfad + id + "." + datenpunkt, deviceDatenpunkte[datenpunkt].init, deviceDatenpunkte[datenpunkt].dp);
    //    logs("neuer DP Bluetooth Device: " + devicePfad + id + "." + datenpunkt,"debug","gold");
    //}
}

function deviceDpDelete(id){
    // Datenpunkte löschen
    for (var datenpunkt in deviceDatenpunkte) {
        deleteState(devicePfad + id + "." + datenpunkt);
        logs("DP Bluetooth Device gelöscht: " + devicePfad + id + "." + datenpunkt,"info","darkorange");
    }
}

function trenner(str) {
    var space = "";
    if (str.length &amp;gt; 0) space = " / ";
    return space;
}

function setChannelName(id,localName,vendor,manufacturerData,name){
    if(!checkEnableSetObject()) return; // wenn setObject nicht verfügbar ist, steht die Funktion nicht zur Verfügung
    // CHANNEL anpassen
    //var chName = id;
    var chName  = "";
    var ownName = "";

    if (localName)   {
        if (localName.length &amp;gt; 2)   chName = localName;
    }
    if (vendor)                     chName  = chName + trenner(chName) + vendor;
    if (manufacturerData)           chName  = chName + trenner(chName) + manufacturerData;

    // eigenes Gerät mit eigenem Namen: dann wird der eigene Name als Channelname gesetzt
    if (inBluetoothDevices(id))     ownName = bluetoothDevices[id].name; // eigener vergebener Name in bekannten Bluetooth Devices vergeben?
    if (ownName)                    chName  = ownName;

    if (name)                       chName = name;

    setObject(instanz + devicePfad + id, {
        common: {
            name: chName
        },
        type: 'channel'
    }, function(err) {
        if (err) logs('setChannelName() Cannot write object: ' + err,"error");
    });
}

function nichtErreichbar() {
    for (var i=0; i&amp;lt;bekannteDevicesNichtErreichbar.length; i++) {
        var id = bekannteDevicesNichtErreichbar[i];
         if(!inBlacklist(id)) {
            setState(devicePfad + id + ".lastState"             ,false);
            setState(devicePfad + id + ".lastStateCount"   ,getState(devicePfad + id + ".lastStateCount").val - 1);
         }
    }
}

function getBlacklist(idDP,blacklist) {
    if(bluetoothBlacklistMac) { // wenn die Blacklist mit den MAC Adressen nicht leer ist
        //var list = readList(idDP); // wenn sich die Liste zur Laufzeit ändern soll (dann muss noch zusätzlich das Ergebnis mit der Liste im Script verglichen werden)
        var list = [];
        for (var i=0; i&amp;lt;blacklist.length; i++) {
            list.push(blacklist[i]);
        }
       writeList(list,idDP);
    }
}

function incDpCounter(dp, incVal, id,localName,manufacturerData,reason) {  // erhöht einen Datenpunkt um einen Wert (ohne Angabe +1)
    if (!knownDevice(id,idDevicesList24blocked)) {
        addDevice(id,idDevicesList24blocked);
        if (typeof incVal == 'undefinied') incVal = 1;
        var val = getState(dp).val;
        val = val + incVal;
        setState(dp,val);
        setState(idNewDeviceBlocked         ,id + "," + reason + "," + datum() + "," + localName + "," + manufacturerData);
    }
}

function setUptime() {
    // setzt den Datenpunkt für Skript-Uptime als formatierte Zeit und gibt die Uptime in Sekunden zurück
    var uptime = dateSecNow()-timeInSecScriptStart;
    setState(idInfoScriptUptime,secForm(uptime));
    return uptime;
}


function setAutomaticMaxDevice(wert) { // setzt einen gültigen Wert für die max. Anzahl der anzulegenden Devices im Automatikmodus
    var min         =  1;
    var max         = 10;
    var defaultMax  = 10;
    var autoMax;

    if (typeof wert != "undefined") {
        autoMax = wert;
    } else {
        autoMax = defaultMax;
    }

    //TODO wert &amp;amp; autoMax prüfen auf:
    // ist Number

    if (autoMax &amp;lt; min) { logs("automaticMaxDevice nicht kleiner als 1 -&amp;gt; auf 1 angepasst","warn");
        autoMax = min;
    }
    if (autoMax &amp;gt; max) {
        logs("automaticMaxDevice nicht größer als 50 -&amp;gt; auf 50 angepasst","warn");
        autoMax = max;
    }
    automaticMaxDevice = autoMax;
    setState(idControlAutomaticMax,autoMax);
}

function scanEndeVerarbeiten() {
    if (durchlauf &amp;gt; 0) {

        var devicesCount        = readList(idDevicesListAll).length;
        var devicesCountNe      = bekannteDevicesNichtErreichbar.length;

        logs("Bluetooth Scan "+ durchlauf + " OK. Devices gescannt: "
         + anzahlBluetoothDevices + ", davon neu: " + anzahlBluetoothDevicesNeu
         + " / Devices in DB: " + devicesCount
         + ", davon nicht erreichbar: " + devicesCountNe,"debug2","gray");
//        if (detailLogAkiv()) logs("Devices in Datenbank: " + JSON.parse(getState(idDevicesListAll).val),"debug");
        if (detailLogAkiv()) logs("Devices in Datenbank: " + readList(idDevicesListAll),"debug2");
        nichtErreichbar(); // nicht erreichbare Devices als "Nicht Erreichbar kennzeichnen";

        setState(idDevicesCountAll      ,devicesCount);
        setState(idDevicesCountOffline  ,devicesCountNe);
        setState(idDevicesCountOnline   ,(devicesCount - devicesCountNe));
        setState(idInfoCountScans       ,durchlauf);

        writeList(bekannteDevicesNichtErreichbar    ,idDevicesOffline);
        writeList(bekannteDevicesErreichbar         ,idDevicesOnline);
        writeList(blacklistDevicesErreichbar        ,idDevicesBlacklistMacOnline);
    }

    anzahlBluetoothDevices      = 0;
    anzahlBluetoothDevicesNeu   = 0;

}


// ------------------------------
// SCAN
// ------------------------------


//  #### START SCAN ####        #### START SCAN ####

function startScan() {                                                          // #### START SCAN ####
    var scan = getState(idScan).val;    // Abfrage ob Scanner ein- (true) oder ausgeschaltet (false) ist
    if (!scan) return;                  // ist der Scanner eingeschaltet? Nein, return

    durchlauf = durchlauf + 1;

    setUptime();                                                    // Laufzeit des Skripts aktualisieren
    setState    (idInfoScanStatus       ,"Scan läuft");

    bekannteDevicesNichtErreichbar = readList(idDevicesListAll);    // zum Start des Durchlaufs alle bekannten Devices übernehmen und mit jedem Treffer um eins reduziren
    bekannteDevicesErreichbar = [];                                 // zum Start des Durchlaufs die Liste zurücksetzen und dann um jedes gefundene Gerät ergänzen
    blacklistDevicesErreichbar = [];                                // zum Start des Durchlaufs die erreichbaren Devices der Blacklist zurücksetzen. Errecihbare Blacklistgeräte werden während des Durchlaufs hinzugefügt.

    noble.startScanning(serviceUUIDs, allowDuplicates);
    //noble.on('discover', onDiscover);
    //noble.startScanning(serviceUUIDs, allowDuplicates[, callback(error)]); // particular UUID's
    //noble.startScanning([],true);
    if (detailLogAkiv()) logs("####### start scanning - Durchlauf (" + durchlauf + ") #######","debug1");
    setTimeout(stopScan, scandauer);
    setTimeout( function () {
        timeInSecScan = timeInSecScan + scandauer/1000;
        setState(idInfoScanDuration,secForm(timeInSecScan));            // Zeit, die bisher gescannt wurde als Info setzen
        setState(idInfoScanStatus       ,"Scan Durchlauf beendet");
    }, scandauer-100);
}



//  #### STOP SCAN ####         #### STOP SCAN ####

function stopScan() {                                                           // #### STOP SCAN ####
    //noble.removeListener('discover', onDiscover);
    noble.stopScanning();


   if (durchlauf &amp;gt; 0) {

        var devicesCount        = readList(idDevicesListAll).length;
        var devicesCountNe      = bekannteDevicesNichtErreichbar.length;

        logs("Bluetooth Scan "+ durchlauf + " OK. Devices gescannt: "
         + anzahlBluetoothDevices + ", davon neu: " + anzahlBluetoothDevicesNeu
         + " / Devices in DB: " + devicesCount
         + ", davon nicht erreichbar: " + devicesCountNe,"debug2","gray");
//        if (detailLogAkiv()) logs("Devices in Datenbank: " + JSON.parse(getState(idDevicesListAll).val),"debug");
        if (detailLogAkiv()) logs("Devices in Datenbank: " + readList(idDevicesListAll),"debug2");
        nichtErreichbar(); // nicht erreichbare Devices als "Nicht Erreichbar kennzeichnen";

        setState(idDevicesCountAll      ,devicesCount);
        setState(idDevicesCountOffline  ,devicesCountNe);
        setState(idDevicesCountOnline   ,(devicesCount - devicesCountNe));
        setState(idInfoCountScans       ,durchlauf);

        writeList(bekannteDevicesNichtErreichbar    ,idDevicesOffline);
        writeList(bekannteDevicesErreichbar         ,idDevicesOnline);
        writeList(blacklistDevicesErreichbar        ,idDevicesBlacklistMacOnline);
    }

    anzahlBluetoothDevices      = 0;
    anzahlBluetoothDevicesNeu   = 0;
    //scanEndeVerarbeiten();
    //setTimeout(delDelDevices, 1000); // zu löschende Geräte aufräumen


//    delDelDevices( function(){
//        scanEndeVerarbeiten(); // TODO: Start verhindern, bis die Funktion durchgelaufen ist
//    });

//    scanEndeVerarbeiten( function(){
//        delDelDevices(); // TODO: Start verhindern, bis die Funktion durchgelaufen ist
//    });


    startScan(); // nach dem Durchlauf des Scans (Ablauf Scandauer), Scan neu starten
}




//  #### DISCOVER ####          #### DISCOVER ####

function onDiscover (peripheral){                                               // #### DISCOVER ####

    var gescanteMacAuswerten    = true; // Anmerkung: wird bei vorzeitigem Verlassen der Funktion mit return nicht benötigt
    var advertisement           = peripheral.advertisement;

//    var macAddress          = peripheral.uuid;
    var id                      = peripheral.id; // gibt als id die mac-Adresse raus, ohne Doppelpunkte (wie bei uuid auch)
    var rssi                    = peripheral.rssi;
    var addressType             = peripheral.addressType;
    var address                 = peripheral.address;
    var connectable             = peripheral.connectable;

    var localName               = advertisement.localName;
    if (typeof localName != "undefined") {
        localName = localName.replace(/\u0000/g, '');          // entfernt null bytes (z.B. vom Apple Pencil)
    }
    if (!localName) localName = "";

    var serviceData             = advertisement.serviceData;
    var txPl                    = advertisement.txPowerLevel;
    var serviceUuids            = advertisement.serviceUuids;
    var herstellerBuffer        = advertisement.manufacturerData;
    var manufacturerData        = '';
    if (typeof herstellerBuffer != "undefined") {
        manufacturerData = herstellerBuffer.toString('hex');
        //manufacturerData = herstellerBuffer.toString('hex').match(/.{2}/g).join("");
    } else {manufacturerData = ""}

    var knowDevice = knownDevice(id,idDevicesListAll);


    // Blacklist
    // ----------------------------------
    var blacklist = false;
    if (inBlacklist(id)) {
        incDpCounter (idInfoCount24blockBLMac   ,1,id,localName,manufacturerData,"Blacklist_Mac");
        blacklist = true;
    }
    if (inBlacklistLN(localName)) {
        incDpCounter (idInfoCount24blockBLLN    ,1,id,localName,manufacturerData,"Blacklist_Local_Name");
        blacklist = true;
    }
    if (inBlacklistMD(manufacturerData)) {
        incDpCounter (idInfoCount24blockBLMD    ,1,id,localName,manufacturerData,"Blacklist_manufacturer_Data");
        blacklist = true;
    }
    if (inBlacklistDD(id)) {
        incDpCounter (idInfoCount24blockDelDev  ,1,id,localName,manufacturerData,"Blacklist_Deleted_Devices");
        blacklist = true;
    }

    if (blacklist) {
        gescanteMacAuswerten = false;
        blacklistDevicesErreichbar.push(id);
        // TODO: wird nicht benötigt, wenn neue Blacklistdevices bei Scriptstart und bei Änderung zur Laufzeit behandelt werden
        if (knowDevice) {   // wenn es ein bekannts Gerät ist: Datenpunkte löschen und aus der Liste bekannter Geräte entfernen
            deviceDpDelete(id); // Datenpunkte löschen
            delDevice(id,idDevicesListAll);      // aus der Liste bekannte Geräte entfernen
            logs("id: " + id +", aus den Datenpunkten gelöscht (Blacklist)","warn");
        }
        return;
    }




    // Automatikmodus: nicht auswerten, wenn maximal Anzahl Geräte erreicht ist
    // -------------------------------------------------------------------------------------
    // erst nach den anderen Checks. Meldung kommt dann nur, wenn alle anderen Prüfungen schon erfolgt sind
    automaticMaxDevice = getState(idControlAutomaticMax).val;
    var deviceNumber = readList(idDevicesListAll).length;
    var maxOK = ((automaticMaxDevice &amp;gt; deviceNumber) ? true : false);
    if(automaticOn) { // Automatik aktiv
        if (!maxOK) { // wenn max. nicht größer als die schon angelegten Geräte ist, weiter verarbeiten
            if (knowDevice) {  // ist es schon ein bekanntes Gerät oder ein noch nicht angelegtes Gerät von der Liste eigener Geräte
                if (deviceNumber &amp;gt; automaticMaxDevice) {
                    var newMax = automaticMaxDevice +1;
                    logs("Automatikmodus: Bekanntes Gerät (" + id + ") bei max. zulässiger Anzahl (" + automaticMaxDevice + ") Geräte gefunden. Maximum wird auf " + newMax + " erhöht.","debug2","darkorange");
                    setAutomaticMaxDevice(newMax);
                } else {
                    // nichts tun
                }
                // Maximum noch nicht erreicht, tue nichts. Gerät wird angelegt.
            } else { // kein schon angelegte Gerät
                if (deviceNumber &amp;gt;= automaticMaxDevice) {
                    if (bluetoothDevices[id]) {
                        var newMax = automaticMaxDevice +1;
                        logs("Automatikmodus: Eigenes Gerät (" + id + ") bei max. zulässiger Anzahl (" + automaticMaxDevice + ") Geräte gefunden. Maximum wird auf " + newMax + " erhöht.","debug2","darkorange");
                        setAutomaticMaxDevice(newMax);
                    } else {
                        if (!knownDevice(id,idDevicesList24blocked)) {
                            logs("Automatikmodus: max. Anzahl anzulegender Geräte erreicht: " + automaticMaxDevice,"info","darkorange");
                            logs("Automatikmodus: gescannte ID: "+ id + " wird nicht verarbeitet.","info","darkorange");
                        }
                        incDpCounter (idInfoCount24blockAutoMax, 1,id,localName,manufacturerData,"Automatik_Maximum_erreicht");
                        gescanteMacAuswerten = false;
                        return;
                    }
                } else {
                    if (deviceNumber &amp;gt;= automaticMaxDevice) { // maximum erreicht, kein neues Gerät wird angelegt.
                        if (!knownDevice(id,idDevicesList24blocked)) {
                            logs("Automatikmodus: max. Anzahl anzulegender Geräte erreicht: " + automaticMaxDevice,"debug2","darkorange");
                            logs("Automatikmodus: Gefundene  ID: "+ id + " wird nicht verarbeitet.","debug2","darkorange");
                        }
                        incDpCounter (idInfoCount24blockAutoMax, 1,id,localName,manufacturerData,"Automatik_Maximum_erreicht");
                        gescanteMacAuswerten = false;
                        return;
                    } // Maximum noch nicht erreicht, tue nichts. Gerät wird angelegt.
                }
            }
        } // wenn max. Anzahl anzulegender Geräte nicht erreicht ist, tue nichts
    } // Automatic nicht aktiv: tue nichts


    // "Spamcheck"
    // ----------------------------------
    if (blockSpam &amp;amp;&amp;amp; (addressType == "random") &amp;amp;&amp;amp; !localName &amp;amp;&amp;amp; !service &amp;amp;&amp;amp; !uuid  &amp;amp;&amp;amp; (manufacturerData == "")) {
        incDpCounter (idInfoCount24blockSpam, 1,id,localName,manufacturerData,"Spam");
        gescanteMacAuswerten = false;
        logs ("Spam: " + id + ", localName: " + localName + ", service: " + service + ", uuid: " + uuid,"debug","darkorange");
        return;
    }

    // nicht auswerten, wenn das Signal (rssi)zu schwach ist und das Gerät nicht bekannt ist
    // -------------------------------------------------------------------------------------
    if ((rssi &amp;lt; minRssi) &amp;amp;&amp;amp; !(knowDevice &amp;amp;&amp;amp; !bluetoothDevices[id])) { // Wenn die Signalstärke zu klein ist und es ein unbekanntes Device ist, dieses Device gnorieren
        logs("Device: " + id + ", Signalstärke (rssi): " + rssi + ", &amp;lt; eingestellte Mindest-rssi: " + minRssi + " / Daten nicht verarbeitet","debug","darkorange");
        incDpCounter (idInfoCount24blockRssiLow, 1,id,localName,manufacturerData,"rssi_low");

        gescanteMacAuswerten = false;
        return;
    }


    // gefundenens Device auswerten
    // ===================================
    if (gescanteMacAuswerten) {

        anzahlBluetoothDevices      = anzahlBluetoothDevices + 1;

        delElement(id,bekannteDevicesNichtErreichbar);      // MAC-Adresse aus dem Array: "bekannteDevicesNichtErreichbar" löschen. Verbliebene MAC-Adressen werden nach dem Durchlauf auf nicht erreichbar gesetzt
        bekannteDevicesErreichbar.push(id);                 // MAC-Adresse zum Array Devices die online sind hinzufügen

        var distanz = calculateDistance(rssi);
        distanz     = Math.round(distanz*100)/100;

        //if (distanz &amp;lt;1) distanz = 0.00; var uuid = ""; var uuidData = ""; if (serviceData &amp;amp;&amp;amp; serviceData.length) { for (var k in serviceData) { //log(' ' + k + ": uuid: " + JSON.stringify(serviceData[k].uuid) + ', data: ' + JSON.stringify(serviceData[k].data.toString('hex'))); uuid = uuid + k + ": uuid: " + JSON.stringify(serviceData[k].uuid) + ', data: ' + JSON.stringify(serviceData[k].data.toString('hex')) + ","; } } var service = ""; for (var j in serviceUuids) { //log(' ' + j + ': serviceUuids: ' + serviceUuids[j]); service = service + j + ': serviceUuids: ' + serviceUuids[j] + ","; } service = service.substr(0, service.length-1); // letztes Komma in der Liste löschen uuid = uuid.substr(0, uuid.length-1); // letztes Komma in der Liste löschen // Detail-Log gefundener Geräte // wird nur begrenzte Durchläufe ausgegeben, wenn konfiguriert if (detailLogAkiv()) { logs("---=== Durchlauf: "+ durchlauf + " ===---         ---=== Device Nr.: " + anzahlBluetoothDevices + " ===---", "debug1"); logs('id: ' + id, "debug1","gray"); logs('MAC-Address: ' + address, "debug1","gray"); logs('localName: ' + localName, "debug1","gray"); logs('rssi: ' + rssi + " dB", "debug1","gray"); logs('txPower: ' + txPl + " dB", "debug1","gray"); logs('Distanz: ' + distanz + " m", "debug1","gray"); logs('manufacturerData: ' + manufacturerData, "debug1","gray"); logs('service: ' + service, "debug1","gray"); logs('uuid: ' + uuid, "debug1","gray"); } else { //logs("Detailausgabe Device: konfigurierte Grenze erreicht (im Script konfigurierbar)", "debug2"); } getScanmodus(); var name = ""; if (!knowDevice) { // -------------------------------------------------------------------- // Device wurde das erste mal gefunden: Ale Parameter verzögert anlegen // -------------------------------------------------------------------- addDevice(id,idDevicesListAll); // MAC/ID in der Liste bekannte Geräte hinzufügen deviceDpAnlegen(id); // Channel anlegen (Datenpunkte werden nicht mehr über die Funktion angelegt) createState(devicePfad + id + ".Control.Delete_Device" ,false ,deviceDatenpunkte["Control.Delete_Device"].dp); createState(devicePfad + id + ".Name_localName" ,localName ,deviceDatenpunkte["Name_localName"].dp); createState(devicePfad + id + ".rssi" ,rssi ,deviceDatenpunkte["rssi"].dp); createState(devicePfad + id + ".lastState" ,true ,deviceDatenpunkte["lastState"].dp); createState(devicePfad + id + ".lastStateDate" ,datum() ,deviceDatenpunkte["lastStateDate"].dp); createState(devicePfad + id + ".lastStateCount" ,0 ,deviceDatenpunkte["lastStateCount"].dp); createState(devicePfad + id + ".Distanz" ,distanz ,deviceDatenpunkte["Distanz"].dp); createState(devicePfad + id + ".details.uuid" ,uuid ,deviceDatenpunkte["details.uuid"].dp); createState(devicePfad + id + ".details.service" ,service ,deviceDatenpunkte["details.service"].dp); //createState(devicePfad + id + ".details.txPower" ,txPl ,deviceDatenpunkte["details.txPower"].dp); createState(devicePfad + id + ".details.address" ,address ,deviceDatenpunkte["details.address"].dp); createState(devicePfad + id + ".details.addressType" ,addressType ,deviceDatenpunkte["details.addressType"].dp); createState(devicePfad + id + ".details.connectable" ,connectable ,deviceDatenpunkte["details.connectable"].dp); createState(devicePfad + id + ".details.manufacturerData" ,manufacturerData ,deviceDatenpunkte["details.manufacturerData"].dp); var person = ""; var txPower = txPl; if(inBluetoothDevices(id)) { // bekannte Geräte (in der Liste bluetoothDevices) Parameter eintragen logs("### Datenpunkt für ein bekanntes Gerät angelegt ### &amp;gt;&amp;gt; "  + bluetoothDevices[id].name,"info","green");
                if (typeof bluetoothDevices[id].txPower != 'undefined') txPower = bluetoothDevices[id].txPower
                if (typeof bluetoothDevices[id].name    != 'undefined') name    = bluetoothDevices[id].name;
                if (typeof bluetoothDevices[id].person  != 'undefined') person  = bluetoothDevices[id].person;
            }
            createState(devicePfad + id + ".details.txPower"   ,txPower   ,deviceDatenpunkte["details.txPower"].dp);
            createState(devicePfad + id + ".Name"              ,name      ,deviceDatenpunkte["Name"].dp);    // selbst vergebener Name aus der Liste bluetoothDevices
            createState(devicePfad + id + ".Person"            ,person    ,deviceDatenpunkte["Person"].dp);


            // Herstellernamen anhand der mac-Adresse ermitteln, Channelnamen setzen, Detailinformationen letztes gefundenes Device
            //if (addressType == "public") {
            readVendor(id, function(err,vendor,id) {
                if(!vendor) vendor = mdVendor(manufacturerData); // wenn anhand der Mac-Adresse kein Hersteller ermittelt wurde, versuche aus den Manufacture Data den Hersteller zu ermitteln
                if(!vendor) vendor = "";
                createState(devicePfad + id + ".Hersteller" ,vendor ,deviceDatenpunkte["Hersteller"].dp);
                setState(idNewDeviceMoreInfo         ,id + "," + localName + "," + vendor                            + "," + datum());

                setChannelName(id,localName,vendor,manufacturerData);
                setState(idNewDevice                 ,id);
            });

        } else {
            // --------------------------------------------------------------------
            // bei schon angelegten Devices die veränderbaren Parameter eintragen
            // --------------------------------------------------------------------


            // in jedem Durchlauf die Namen prüfen (z.B. bei Skriptrestart und selbst eingetragenen Devices in der Whitelist
            var vendor  = getState(devicePfad + id + ".Hersteller").val;
            name        = getState(devicePfad + id + ".Name").val;
            setChannelName(id,localName,vendor,manufacturerData,name); // local name des Gerätes könnte sich verändert haben

            var lastStateCount = getState(devicePfad + id + ".lastStateCount" ).val;
            if(lastStateCount &amp;lt; 0) { lastStateCount = 0; } else { lastStateCount = lastStateCount + 1; } if((lastStateCount == 0) || (durchlauf == 1)) { // Datum letzte Statusänderung neu setzen, beim 1. Scandurchlauf nach Skriptstart oder bei Stusänderung setStateDelayed(devicePfad + id + ".lastStateDate" ,datum() ,false,delay); lastStateCount = 0; // im 1. Durchlauf den Counter auch zurücksetzen } setStateDelayed(devicePfad + id + ".Name_localName" ,localName ,false,delay); setStateDelayed(devicePfad + id + ".rssi" ,rssi ,false,delay); setStateDelayed(devicePfad + id + ".lastState" ,true ,false,delay); setStateDelayed(devicePfad + id + ".lastStateCount" ,lastStateCount ,false,delay); setStateDelayed(devicePfad + id + ".Distanz" ,distanz ,false,delay); setStateDelayed(devicePfad + id + ".details.manufacturerData" ,manufacturerData ,false,delay); setStateDelayed(devicePfad + id + ".details.uuid" ,uuid ,false,delay); setStateDelayed(devicePfad + id + ".details.service" ,service ,false,delay); setStateDelayed(devicePfad + id + ".details.address" ,address ,false,delay); setStateDelayed(devicePfad + id + ".details.addressType" ,addressType ,false,delay); } } } // ============================================================================= // Schedule Schedule // ============================================================================= function onAnlegen() { // Schedules und Subscriptons (on) werden über die Funktion onAnlegen() verzögert eingerichtet, damit alle neuen Datenpunkte verfügbar sind // wird um 00:00 ausgeführt // 24h Tageszähler löschen schedule({hour: 0, minute: 0}, function (){ logs("Bluetooth Scanner: 24h Zähler um Mitternacht gelöscht.","debug"); clear24(); }); schedule("*/5 * * * * *", function () { // alle 5 Sekunden die Uptime aktualisieren setUptime(); }); // ============================================================================= // ON ON // ============================================================================= // Scanner Start / Stop über Datenpunkt on({id: instanz + idScan ,change:'any'}, function (obj) { logs("Kommando Bluetooth Scanner an: " + (obj.state.val ? colorTrue : colorFalse),"info","black"); getScanmodus(); if (obj.state.val) { startScan(); } else { if (obj.oldState.val) setState(idInfoScanStatus ,"Scan wird beendet");; stopScan(); } }); // Automatikmodus an/aus über Datenpunkt on({id: instanz + idControlAutomaticOn ,change:'any'}, function (obj) { automaticMaxDevice = getState(idControlAutomaticMax).val; if (obj.state.val) { logs('Automatikmodus eingeschaltet ("' + idControlAutomaticOn + '": ' + colorTrue + ')',"info","gray"); clear24(); } else { logs('Automatikmodus ausgeschaltet ("' + idControlAutomaticOn + '": ' + colorFalse + ')',"info","gray"); } automaticOn = obj.state.val; if (obj.state.val &amp;amp;&amp;amp; (readList(idDevicesListAll).length &amp;gt;= automaticMaxDevice)) {
            logs("Max. Anzahl an automatisch anzulegenden DP erreicht. Nur noch eigene Geräte werden neu angelegt.","info","darkorange");
        }
        getScanmodus();
    });

    // Automatikmodus Maximalwert anzulegender Gerätes über Datenpunkt eingestellt
    on({id: instanz + idControlAutomaticMax ,change:'ne'}, function (obj) {
        automaticMaxDevice = obj.state.val;
        if (readList(idDevicesListAll).length &amp;gt; automaticMaxDevice) {
            var newMax = readList(idDevicesListAll).length;
            logs("Es gibt mehr angelegte Geräte, als max. eingestellt sind. Maximalwert auf " + newMax + " erhöht.","info","darkorange");
            setAutomaticMaxDevice(newMax);
        } else {
            logs('Automatikmodus. Neuer Wert max. anzulegende Geräte: ' + obj.state.val,"info","gray");
        }
        getScanmodus();
    });




    noble.on('stateChange', function(state){
        logs('noble new state: ' + state,"warn");
        setState(idNobleStatus,state);
        if (state === 'poweredOn') {
            setState(idScan,true);      // Scan starten
        } else {
            setState(idScan,false);     // Scan stoppen
        }
    });

    noble.on('disconnect', function() {
        logs('noble try to reconnect',"warn");
        //noble.startScanning([], false); // Try to reconnect, if connection broke
        setState(idScan,true);          // Scan im Zustand, wie im Datenpunkt
    });


    noble.on('discover', onDiscover);


//printSubs(name,loglevel);  // globale Funktion. listet die Subscription im Script im Log auf.
}


// =============================================================================
// Datenpunkte aktualisieren (wird vor main() ausgeführt
// =============================================================================

function refreshDp () {

    setState    (idNobleStatus          ,noble.state);                          // Status des noble Moduls in den Datenpunkt schreiben
    setState    (idInfoCountScans       ,0);                                    // Scandurchläufe auf 0 setzen
    setState    (idInfoScanStatus       ,"aus");                                // Status des Scans "aus"
    setState    (idInfoScanDuration     ,"-");

    automaticOn         = getState(idControlAutomaticOn).val;

    getBlacklist(idDevicesBlacklistMac  ,bluetoothBlacklistMac);                // Blacklist MAC-Adressen in den Datenpunkt schreiben
    getBlacklist(idDevicesBlacklistLN   ,bluetoothBlacklistLocalName);          // Blacklist LocalName in den Datenpunkt schreiben
    getBlacklist(idDevicesBlacklistMD   ,bluetoothBlacklistManufacturerData);   // Blacklist LocalName in den Datenpunkt schreiben

    setUptime();
    getScanmodus();

}

// =============================================================================
// main - Hauptprogramm                                                     main
// =============================================================================
function main() {

    // Hauptprogramm nach Timeout (damit neu angelegte Datenpunkte vorhanden sind)
    // Im Hauptprogramm weiter:

    setState(idNewDevice            ,"Script_Start"                     ,false); //TODO: Wird beim erneuten Scriptstart nicht geschrieben. Warum???
    setState(idNewDeviceMoreInfo    ,"Script_Start" + ",,," + datum()   ,false);

    // setState(idScan,true);                   // schaltet den Scanner ein

    if (!getState(idScanFirst).val) {
        setState(idScan,true);                  // Scan beim ersten Scriptstart automatisch starten
        setState(idScanFirst,true);             // beim nächsten Start nicht mehr automatisch
        logs("======================================================================================"   ,"info","limegreen");
        logs("Script wurde das erste Mal gestartet - Scanner eingeschaltet -"                           ,"info","limegreen");
        logs("Scanstart und ein-/ausschalten in Zukunft in Abhängigkeit: " + instanz + idScan           ,"info","limegreen");
        logs("======================================================================================"   ,"info","limegreen");
        logs("Zur Kalibrierung der Distanz das Bluetooth Gerät in einen Meter Entfernung zum Host"      ,"info");
        logs("positionieren und dann den Wert aus .rssi unter .details.txPower beim Device eintragen"   ,"info");
        logs("(oder im Script in der Liste der bekannten Devices: bluetoothDevices)"                     ,"info");
        logs("--------------------------------------------------------------------------------------"   ,"info");

    } else {
        setState(idScan,getState(idScan).val);  // Sonst: Scan im Zustand an/aus, wie im Datenpunkt gespeichert
    }

    if(!checkEnableSetObject())  {
        logs("setObject() ist in der Konfig der Javascript-Adapterinstanz nicht eingeschatet"           ,"info","darkorange");
        logs("setObject() Skript wird mir weniger Komfort ausgeführt"                                   ,"info","darkorange");
        setState(idInfoSetObject,   'setObject() ist für die Instanz nicht aktiviert. Es werden weniger Informationen angezeigt.');
    } else {
        setState(idInfoSetObject,   'OK');
    }
}





// =============================================================================
// Scriptstart
// =============================================================================

autokorrekturen();                          // Korrektur und Prüfung von Variablen, die als Parameter im Skript dienen

if(noerror) {
    dpAnlegen();                            // erst die notwendigen Datenpunkte anlegen
    noble.removeAllListeners('discover');   // alle Listeners 'discover' löschen, falls noch ein discover aktiv war und das Skript währenddessen neu gestartet wurde (Probleme bei einem Adapter, wenn zwei Instanzen gewünscht sind?)
    noble.stopScanning();                   // eventuell bestehenden Scan stoppen

    setTimeout(onAnlegen,    500);          // dann die Subscriptions und Schedules setzen
    setTimeout(refreshDp,    500);          // und die Datenpunkte aktualisieren (Zustandsanzeige per Datenpunkt)

    setTimeout(main,        1000);          // dann das "Hauptprogramm" starten


} else {
    logs("Das Skript wurde nicht gestartet. Siehe Fehlermeldungen.","warn");
}</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-2">2</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-4">4</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-6">6</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-8">8</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-10">10</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-12">12</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-14">14</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-16">16</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-18">18</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-20">20</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-22">22</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-24">24</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-26">26</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-28">28</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-30">30</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-32">32</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-34">34</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-36">36</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-38">38</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-40">40</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-41">41</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-42">42</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-43">43</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-44">44</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-45">45</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-46">46</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-47">47</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-48">48</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-49">49</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-50">50</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-51">51</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-52">52</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-53">53</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-54">54</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-55">55</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-56">56</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-57">57</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-58">58</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-59">59</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-60">60</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-61">61</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-62">62</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-63">63</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-64">64</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-65">65</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-66">66</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-67">67</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-68">68</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-69">69</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-70">70</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-71">71</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-72">72</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-73">73</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-74">74</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-75">75</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-76">76</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-77">77</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-78">78</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-79">79</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-80">80</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-81">81</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-82">82</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-83">83</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-84">84</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-85">85</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-86">86</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-87">87</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-88">88</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-89">89</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-90">90</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-91">91</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-92">92</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-93">93</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-94">94</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-95">95</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-96">96</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-97">97</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-98">98</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-99">99</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-100">100</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-101">101</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-102">102</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-103">103</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-104">104</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-105">105</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-106">106</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-107">107</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-108">108</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-109">109</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-110">110</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-111">111</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-112">112</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-113">113</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-114">114</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-115">115</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-116">116</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-117">117</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-118">118</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-119">119</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-120">120</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-121">121</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-122">122</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-123">123</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-124">124</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-125">125</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-126">126</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-127">127</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-128">128</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-129">129</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-130">130</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-131">131</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-132">132</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-133">133</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-134">134</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-135">135</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-136">136</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-137">137</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-138">138</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-139">139</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-140">140</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-141">141</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-142">142</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-143">143</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-144">144</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-145">145</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-146">146</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-147">147</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-148">148</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-149">149</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-150">150</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-151">151</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-152">152</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-153">153</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-154">154</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-155">155</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-156">156</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-157">157</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-158">158</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-159">159</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-160">160</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-161">161</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-162">162</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-163">163</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-164">164</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-165">165</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-166">166</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-167">167</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-168">168</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-169">169</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-170">170</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-171">171</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-172">172</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-173">173</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-174">174</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-175">175</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-176">176</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-177">177</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-178">178</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-179">179</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-180">180</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-181">181</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-182">182</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-183">183</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-184">184</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-185">185</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-186">186</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-187">187</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-188">188</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-189">189</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-190">190</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-191">191</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-192">192</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-193">193</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-194">194</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-195">195</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-196">196</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-197">197</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-198">198</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-199">199</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-200">200</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-201">201</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-202">202</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-203">203</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-204">204</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-205">205</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-206">206</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-207">207</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-208">208</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-209">209</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-210">210</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-211">211</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-212">212</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-213">213</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-214">214</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-215">215</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-216">216</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-217">217</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-218">218</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-219">219</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-220">220</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-221">221</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-222">222</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-223">223</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-224">224</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-225">225</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-226">226</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-227">227</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-228">228</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-229">229</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-230">230</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-231">231</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-232">232</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-233">233</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-234">234</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-235">235</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-236">236</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-237">237</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-238">238</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-239">239</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-240">240</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-241">241</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-242">242</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-243">243</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-244">244</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-245">245</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-246">246</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-247">247</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-248">248</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-249">249</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-250">250</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-251">251</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-252">252</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-253">253</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-254">254</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-255">255</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-256">256</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-257">257</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-258">258</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-259">259</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-260">260</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-261">261</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-262">262</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-263">263</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-264">264</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-265">265</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-266">266</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-267">267</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-268">268</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-269">269</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-270">270</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-271">271</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-272">272</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-273">273</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-274">274</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-275">275</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-276">276</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-277">277</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-278">278</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-279">279</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-280">280</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-281">281</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-282">282</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-283">283</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-284">284</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-285">285</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-286">286</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-287">287</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-288">288</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-289">289</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-290">290</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-291">291</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-292">292</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-293">293</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-294">294</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-295">295</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-296">296</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-297">297</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-298">298</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-299">299</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-300">300</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-301">301</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-302">302</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-303">303</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-304">304</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-305">305</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-306">306</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-307">307</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-308">308</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-309">309</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-310">310</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-311">311</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-312">312</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-313">313</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-314">314</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-315">315</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-316">316</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-317">317</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-318">318</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-319">319</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-320">320</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-321">321</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-322">322</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-323">323</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-324">324</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-325">325</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-326">326</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-327">327</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-328">328</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-329">329</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-330">330</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-331">331</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-332">332</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-333">333</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-334">334</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-335">335</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-336">336</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-337">337</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-338">338</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-339">339</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-340">340</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-341">341</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-342">342</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-343">343</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-344">344</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-345">345</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-346">346</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-347">347</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-348">348</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-349">349</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-350">350</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-351">351</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-352">352</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-353">353</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-354">354</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-355">355</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-356">356</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-357">357</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-358">358</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-359">359</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-360">360</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-361">361</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-362">362</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-363">363</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-364">364</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-365">365</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-366">366</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-367">367</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-368">368</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-369">369</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-370">370</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-371">371</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-372">372</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-373">373</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-374">374</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-375">375</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-376">376</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-377">377</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-378">378</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-379">379</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-380">380</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-381">381</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-382">382</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-383">383</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-384">384</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-385">385</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-386">386</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-387">387</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-388">388</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-389">389</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-390">390</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-391">391</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-392">392</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-393">393</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-394">394</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-395">395</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-396">396</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-397">397</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-398">398</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-399">399</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-400">400</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-401">401</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-402">402</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-403">403</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-404">404</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-405">405</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-406">406</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-407">407</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-408">408</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-409">409</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-410">410</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-411">411</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-412">412</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-413">413</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-414">414</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-415">415</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-416">416</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-417">417</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-418">418</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-419">419</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-420">420</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-421">421</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-422">422</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-423">423</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-424">424</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-425">425</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-426">426</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-427">427</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-428">428</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-429">429</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-430">430</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-431">431</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-432">432</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-433">433</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-434">434</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-435">435</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-436">436</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-437">437</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-438">438</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-439">439</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-440">440</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-441">441</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-442">442</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-443">443</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-444">444</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-445">445</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-446">446</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-447">447</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-448">448</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-449">449</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-450">450</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-451">451</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-452">452</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-453">453</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-454">454</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-455">455</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-456">456</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-457">457</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-458">458</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-459">459</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-460">460</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-461">461</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-462">462</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-463">463</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-464">464</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-465">465</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-466">466</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-467">467</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-468">468</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-469">469</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-470">470</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-471">471</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-472">472</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-473">473</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-474">474</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-475">475</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-476">476</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-477">477</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-478">478</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-479">479</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-480">480</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-481">481</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-482">482</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-483">483</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-484">484</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-485">485</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-486">486</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-487">487</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-488">488</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-489">489</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-490">490</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-491">491</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-492">492</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-493">493</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-494">494</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-495">495</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-496">496</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-497">497</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-498">498</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-499">499</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-500">500</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-501">501</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-502">502</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-503">503</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-504">504</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-505">505</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-506">506</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-507">507</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-508">508</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-509">509</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-510">510</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-511">511</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-512">512</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-513">513</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-514">514</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-515">515</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-516">516</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-517">517</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-518">518</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-519">519</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-520">520</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-521">521</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-522">522</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-523">523</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-524">524</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-525">525</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-526">526</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-527">527</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-528">528</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-529">529</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-530">530</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-531">531</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-532">532</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-533">533</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-534">534</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-535">535</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-536">536</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-537">537</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-538">538</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-539">539</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-540">540</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-541">541</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-542">542</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-543">543</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-544">544</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-545">545</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-546">546</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-547">547</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-548">548</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-549">549</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-550">550</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-551">551</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-552">552</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-553">553</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-554">554</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-555">555</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-556">556</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-557">557</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-558">558</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-559">559</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-560">560</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-561">561</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-562">562</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-563">563</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-564">564</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-565">565</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-566">566</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-567">567</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-568">568</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-569">569</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-570">570</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-571">571</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-572">572</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-573">573</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-574">574</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-575">575</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-576">576</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-577">577</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-578">578</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-579">579</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-580">580</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-581">581</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-582">582</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-583">583</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-584">584</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-585">585</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-586">586</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-587">587</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-588">588</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-589">589</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-590">590</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-591">591</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-592">592</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-593">593</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-594">594</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-595">595</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-596">596</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-597">597</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-598">598</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-599">599</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-600">600</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-601">601</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-602">602</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-603">603</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-604">604</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-605">605</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-606">606</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-607">607</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-608">608</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-609">609</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-610">610</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-611">611</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-612">612</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-613">613</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-614">614</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-615">615</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-616">616</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-617">617</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-618">618</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-619">619</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-620">620</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-621">621</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-622">622</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-623">623</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-624">624</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-625">625</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-626">626</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-627">627</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-628">628</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-629">629</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-630">630</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-631">631</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-632">632</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-633">633</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-634">634</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-635">635</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-636">636</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-637">637</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-638">638</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-639">639</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-640">640</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-641">641</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-642">642</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-643">643</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-644">644</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-645">645</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-646">646</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-647">647</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-648">648</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-649">649</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-650">650</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-651">651</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-652">652</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-653">653</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-654">654</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-655">655</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-656">656</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-657">657</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-658">658</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-659">659</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-660">660</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-661">661</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-662">662</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-663">663</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-664">664</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-665">665</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-666">666</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-667">667</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-668">668</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-669">669</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-670">670</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-671">671</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-672">672</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-673">673</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-674">674</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-675">675</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-676">676</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-677">677</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-678">678</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-679">679</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-680">680</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-681">681</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-682">682</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-683">683</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-684">684</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-685">685</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-686">686</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-687">687</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-688">688</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-689">689</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-690">690</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-691">691</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-692">692</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-693">693</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-694">694</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-695">695</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-696">696</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-697">697</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-698">698</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-699">699</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-700">700</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-701">701</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-702">702</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-703">703</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-704">704</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-705">705</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-706">706</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-707">707</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-708">708</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-709">709</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-710">710</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-711">711</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-712">712</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-713">713</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-714">714</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-715">715</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-716">716</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-717">717</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-718">718</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-719">719</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-720">720</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-721">721</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-722">722</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-723">723</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-724">724</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-725">725</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-726">726</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-727">727</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-728">728</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-729">729</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-730">730</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-731">731</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-732">732</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-733">733</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-734">734</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-735">735</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-736">736</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-737">737</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-738">738</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-739">739</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-740">740</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-741">741</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-742">742</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-743">743</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-744">744</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-745">745</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-746">746</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-747">747</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-748">748</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-749">749</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-750">750</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-751">751</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-752">752</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-753">753</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-754">754</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-755">755</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-756">756</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-757">757</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-758">758</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-759">759</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-760">760</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-761">761</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-762">762</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-763">763</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-764">764</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-765">765</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-766">766</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-767">767</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-768">768</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-769">769</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-770">770</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-771">771</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-772">772</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-773">773</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-774">774</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-775">775</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-776">776</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-777">777</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-778">778</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-779">779</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-780">780</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-781">781</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-782">782</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-783">783</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-784">784</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-785">785</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-786">786</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-787">787</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-788">788</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-789">789</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-790">790</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-791">791</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-792">792</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-793">793</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-794">794</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-795">795</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-796">796</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-797">797</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-798">798</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-799">799</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-800">800</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-801">801</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-802">802</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-803">803</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-804">804</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-805">805</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-806">806</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-807">807</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-808">808</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-809">809</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-810">810</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-811">811</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-812">812</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-813">813</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-814">814</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-815">815</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-816">816</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-817">817</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-818">818</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-819">819</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-820">820</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-821">821</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-822">822</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-823">823</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-824">824</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-825">825</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-826">826</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-827">827</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-828">828</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-829">829</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-830">830</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-831">831</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-832">832</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-833">833</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-834">834</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-835">835</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-836">836</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-837">837</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-838">838</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-839">839</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-840">840</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-841">841</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-842">842</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-843">843</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-844">844</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-845">845</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-846">846</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-847">847</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-848">848</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-849">849</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-850">850</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-851">851</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-852">852</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-853">853</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-854">854</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-855">855</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-856">856</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-857">857</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-858">858</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-859">859</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-860">860</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-861">861</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-862">862</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-863">863</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-864">864</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-865">865</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-866">866</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-867">867</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-868">868</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-869">869</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-870">870</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-871">871</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-872">872</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-873">873</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-874">874</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-875">875</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-876">876</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-877">877</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-878">878</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-879">879</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-880">880</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-881">881</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-882">882</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-883">883</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-884">884</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-885">885</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-886">886</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-887">887</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-888">888</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-889">889</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-890">890</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-891">891</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-892">892</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-893">893</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-894">894</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-895">895</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-896">896</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-897">897</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-898">898</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-899">899</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-900">900</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-901">901</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-902">902</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-903">903</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-904">904</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-905">905</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-906">906</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-907">907</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-908">908</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-909">909</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-910">910</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-911">911</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-912">912</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-913">913</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-914">914</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-915">915</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-916">916</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-917">917</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-918">918</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-919">919</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-920">920</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-921">921</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-922">922</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-923">923</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-924">924</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-925">925</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-926">926</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-927">927</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-928">928</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-929">929</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-930">930</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-931">931</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-932">932</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-933">933</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-934">934</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-935">935</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-936">936</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-937">937</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-938">938</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-939">939</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-940">940</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-941">941</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-942">942</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-943">943</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-944">944</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-945">945</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-946">946</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-947">947</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-948">948</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-949">949</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-950">950</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-951">951</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-952">952</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-953">953</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-954">954</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-955">955</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-956">956</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-957">957</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-958">958</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-959">959</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-960">960</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-961">961</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-962">962</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-963">963</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-964">964</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-965">965</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-966">966</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-967">967</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-968">968</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-969">969</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-970">970</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-971">971</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-972">972</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-973">973</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-974">974</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-975">975</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-976">976</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-977">977</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-978">978</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-979">979</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-980">980</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-981">981</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-982">982</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-983">983</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-984">984</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-985">985</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-986">986</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-987">987</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-988">988</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-989">989</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-990">990</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-991">991</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-992">992</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-993">993</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-994">994</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-995">995</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-996">996</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-997">997</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-998">998</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-999">999</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1000">1000</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1001">1001</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1002">1002</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1003">1003</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1004">1004</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1005">1005</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1006">1006</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1007">1007</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1008">1008</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1009">1009</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1010">1010</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1011">1011</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1012">1012</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1013">1013</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1014">1014</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1015">1015</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1016">1016</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1017">1017</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1018">1018</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1019">1019</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1020">1020</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1021">1021</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1022">1022</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1023">1023</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1024">1024</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1025">1025</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1026">1026</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1027">1027</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1028">1028</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1029">1029</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1030">1030</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1031">1031</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1032">1032</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1033">1033</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1034">1034</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1035">1035</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1036">1036</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1037">1037</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1038">1038</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1039">1039</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1040">1040</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1041">1041</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1042">1042</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1043">1043</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1044">1044</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1045">1045</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1046">1046</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1047">1047</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1048">1048</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1049">1049</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1050">1050</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1051">1051</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1052">1052</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1053">1053</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1054">1054</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1055">1055</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1056">1056</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1057">1057</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1058">1058</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1059">1059</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1060">1060</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1061">1061</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1062">1062</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1063">1063</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1064">1064</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1065">1065</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1066">1066</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1067">1067</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1068">1068</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1069">1069</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1070">1070</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1071">1071</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1072">1072</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1073">1073</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1074">1074</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1075">1075</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1076">1076</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1077">1077</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1078">1078</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1079">1079</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1080">1080</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1081">1081</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1082">1082</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1083">1083</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1084">1084</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1085">1085</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1086">1086</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1087">1087</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1088">1088</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1089">1089</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1090">1090</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1091">1091</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1092">1092</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1093">1093</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1094">1094</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1095">1095</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1096">1096</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1097">1097</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1098">1098</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1099">1099</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1100">1100</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1101">1101</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1102">1102</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1103">1103</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1104">1104</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1105">1105</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1106">1106</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1107">1107</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1108">1108</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1109">1109</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1110">1110</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1111">1111</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1112">1112</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1113">1113</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1114">1114</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1115">1115</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1116">1116</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1117">1117</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1118">1118</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1119">1119</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1120">1120</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1121">1121</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1122">1122</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1123">1123</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1124">1124</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1125">1125</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1126">1126</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1127">1127</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1128">1128</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1129">1129</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1130">1130</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1131">1131</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1132">1132</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1133">1133</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1134">1134</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1135">1135</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1136">1136</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1137">1137</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1138">1138</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1139">1139</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1140">1140</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1141">1141</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1142">1142</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1143">1143</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1144">1144</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1145">1145</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1146">1146</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1147">1147</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1148">1148</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1149">1149</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1150">1150</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1151">1151</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1152">1152</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1153">1153</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1154">1154</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1155">1155</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1156">1156</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1157">1157</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1158">1158</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1159">1159</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1160">1160</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1161">1161</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1162">1162</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1163">1163</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1164">1164</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1165">1165</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1166">1166</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1167">1167</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1168">1168</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1169">1169</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1170">1170</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1171">1171</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1172">1172</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1173">1173</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1174">1174</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1175">1175</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1176">1176</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1177">1177</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1178">1178</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1179">1179</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1180">1180</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1181">1181</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1182">1182</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1183">1183</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1184">1184</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1185">1185</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1186">1186</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1187">1187</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1188">1188</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1189">1189</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1190">1190</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1191">1191</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1192">1192</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1193">1193</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1194">1194</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1195">1195</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1196">1196</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1197">1197</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1198">1198</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1199">1199</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1200">1200</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1201">1201</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1202">1202</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1203">1203</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1204">1204</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1205">1205</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1206">1206</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1207">1207</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1208">1208</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1209">1209</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1210">1210</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1211">1211</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1212">1212</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1213">1213</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1214">1214</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1215">1215</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1216">1216</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1217">1217</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1218">1218</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1219">1219</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1220">1220</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1221">1221</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1222">1222</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1223">1223</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1224">1224</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1225">1225</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1226">1226</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1227">1227</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1228">1228</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1229">1229</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1230">1230</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1231">1231</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1232">1232</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1233">1233</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1234">1234</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1235">1235</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1236">1236</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1237">1237</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1238">1238</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1239">1239</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1240">1240</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1241">1241</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1242">1242</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1243">1243</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1244">1244</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1245">1245</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1246">1246</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1247">1247</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1248">1248</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1249">1249</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1250">1250</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1251">1251</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1252">1252</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1253">1253</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1254">1254</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1255">1255</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1256">1256</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1257">1257</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1258">1258</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1259">1259</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1260">1260</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1261">1261</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1262">1262</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1263">1263</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1264">1264</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1265">1265</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1266">1266</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1267">1267</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1268">1268</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1269">1269</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1270">1270</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1271">1271</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1272">1272</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1273">1273</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1274">1274</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1275">1275</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1276">1276</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1277">1277</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1278">1278</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1279">1279</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1280">1280</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1281">1281</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1282">1282</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1283">1283</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1284">1284</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1285">1285</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1286">1286</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1287">1287</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1288">1288</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1289">1289</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1290">1290</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1291">1291</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1292">1292</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1293">1293</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1294">1294</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1295">1295</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1296">1296</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1297">1297</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1298">1298</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1299">1299</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1300">1300</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1301">1301</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1302">1302</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1303">1303</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1304">1304</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1305">1305</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1306">1306</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1307">1307</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1308">1308</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1309">1309</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1310">1310</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1311">1311</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1312">1312</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1313">1313</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1314">1314</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1315">1315</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1316">1316</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1317">1317</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1318">1318</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1319">1319</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1320">1320</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1321">1321</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1322">1322</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1323">1323</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1324">1324</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1325">1325</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1326">1326</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1327">1327</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1328">1328</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1329">1329</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1330">1330</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1331">1331</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1332">1332</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1333">1333</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1334">1334</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1335">1335</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1336">1336</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1337">1337</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1338">1338</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1339">1339</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1340">1340</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1341">1341</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1342">1342</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1343">1343</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1344">1344</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1345">1345</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1346">1346</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1347">1347</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1348">1348</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1349">1349</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1350">1350</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1351">1351</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1352">1352</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1353">1353</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1354">1354</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1355">1355</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1356">1356</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1357">1357</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1358">1358</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1359">1359</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1360">1360</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1361">1361</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1362">1362</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1363">1363</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1364">1364</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1365">1365</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1366">1366</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1367">1367</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1368">1368</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1369">1369</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1370">1370</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1371">1371</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1372">1372</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1373">1373</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1374">1374</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1375">1375</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1376">1376</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1377">1377</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1378">1378</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1379">1379</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1380">1380</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1381">1381</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1382">1382</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1383">1383</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1384">1384</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1385">1385</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1386">1386</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1387">1387</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1388">1388</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1389">1389</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1390">1390</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1391">1391</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1392">1392</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1393">1393</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1394">1394</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1395">1395</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1396">1396</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1397">1397</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1398">1398</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1399">1399</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1400">1400</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1401">1401</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1402">1402</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1403">1403</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1404">1404</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1405">1405</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1406">1406</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1407">1407</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1408">1408</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1409">1409</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1410">1410</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1411">1411</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1412">1412</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1413">1413</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1414">1414</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1415">1415</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1416">1416</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1417">1417</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1418">1418</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1419">1419</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1420">1420</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1421">1421</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1422">1422</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1423">1423</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1424">1424</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1425">1425</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1426">1426</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1427">1427</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1428">1428</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1429">1429</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1430">1430</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1431">1431</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1432">1432</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1433">1433</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1434">1434</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1435">1435</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1436">1436</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1437">1437</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1438">1438</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1439">1439</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1440">1440</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1441">1441</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1442">1442</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1443">1443</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1444">1444</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1445">1445</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1446">1446</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1447">1447</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1448">1448</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1449">1449</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1450">1450</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1451">1451</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1452">1452</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1453">1453</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1454">1454</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1455">1455</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1456">1456</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1457">1457</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1458">1458</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1459">1459</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1460">1460</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1461">1461</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1462">1462</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1463">1463</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1464">1464</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1465">1465</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1466">1466</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1467">1467</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1468">1468</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1469">1469</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1470">1470</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1471">1471</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1472">1472</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1473">1473</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1474">1474</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1475">1475</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1476">1476</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1477">1477</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1478">1478</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1479">1479</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1480">1480</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1481">1481</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1482">1482</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1483">1483</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1484">1484</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1485">1485</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1486">1486</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1487">1487</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1488">1488</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1489">1489</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1490">1490</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1491">1491</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1492">1492</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1493">1493</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1494">1494</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1495">1495</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1496">1496</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1497">1497</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1498">1498</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1499">1499</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1500">1500</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1501">1501</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1502">1502</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1503">1503</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1504">1504</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1505">1505</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1506">1506</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1507">1507</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1508">1508</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1509">1509</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1510">1510</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1511">1511</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1512">1512</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1513">1513</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1514">1514</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1515">1515</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1516">1516</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1517">1517</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1518">1518</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1519">1519</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1520">1520</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1521">1521</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1522">1522</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1523">1523</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1524">1524</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1525">1525</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1526">1526</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1527">1527</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1528">1528</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1529">1529</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1530">1530</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1531">1531</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1532">1532</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1533">1533</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1534">1534</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1535">1535</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1536">1536</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1537">1537</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1538">1538</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1539">1539</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1540">1540</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1541">1541</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1542">1542</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1543">1543</div><div class="crayon-num crayon-striped-num" data-line="crayon-5cefa6e2b6c6d064107644-1544">1544</div><div class="crayon-num" data-line="crayon-5cefa6e2b6c6d064107644-1545">1545</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1"><span class="crayon-c">// =============================================================================</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-2"><span class="crayon-c">// Bluetooth Scanner für Raspberry Pi 3&nbsp;&nbsp; (oder andere kompatible Geräte mit BT)</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-3"><span class="crayon-c">// =============================================================================</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-4"><span class="crayon-c">//</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-5"><span class="crayon-c">// Verwendet das integrierte Bluetooth Modul des Raspberry Pi 3</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-6"><span class="crayon-c">//</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-7"><span class="crayon-c">// startet beim ersten Scriptstart automatisch den BluetoothScan</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-8"><span class="crayon-c">// jeder weitere Start über den Switch, im Standard:</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-9"><span class="crayon-c">// javascript.0.Bluetooth.Scan.scan (true: Scan starten, false: Scan beenden)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-10"><span class="crayon-c">// </span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-11"><span class="crayon-c">// Version: 0.4.0</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-12"><span class="crayon-c">// Datum:&nbsp;&nbsp; 17.04.2016</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-13"><span class="crayon-c">// Autor:&nbsp;&nbsp; ruhr70</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-14"><span class="crayon-c">//</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-15"><span class="crayon-c">//</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-16"><span class="crayon-c">// !!! Das Skript kann ohne Änderung am Skript genutzt werden !!!</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-17"><span class="crayon-c">// !!! Anpassung nur für Experten notwendig&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; !!!</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-18"><span class="crayon-c">//</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-19"><span class="crayon-c">//</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-20"><span class="crayon-c">// Voraussetzungen:</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-21"><span class="crayon-c">//------------------------------------------------------------------------------</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-22"><span class="crayon-c">// muss:</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-23"><span class="crayon-c">// - benötigt mind. die Version 2.x des Javascript-Adapters</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-24"><span class="crayon-c">// - benötigt das node module "noble" (im Javascript Adapter eintragen)</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-25"><span class="crayon-c">// - globale Funktion logs() muss vorhanden sein</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-26"><span class="crayon-c">//</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-27"><span class="crayon-c">// kann (Komfort und Zusatzinfos):</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-28"><span class="crayon-c">// - setObject muss in der Javascript-Instanz freigeschaltet sein</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-29"><span class="crayon-c">//&nbsp;&nbsp; (für die Channelnamen)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-30"><span class="crayon-c">// - Internetzugang, wenn die Herstellernamen anhand der Mac ermittelt werden sollen</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-31"><span class="crayon-c">// </span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-32"><span class="crayon-c">//</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-33"><span class="crayon-c">// verwendete globale Funktionen&nbsp;&nbsp; (müssen als globale Funktion vorhanden sein)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-34"><span class="crayon-c">// -----------------------------------------------------------------------------</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-35"><span class="crayon-c">// </span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-36"><span class="crayon-c">// logs()&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // für individuelle Loglevel innerhalb des Scripts</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-37"><span class="crayon-c">//</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-38"><span class="crayon-c">// Die globalen Funktionen können auch lokal in den Bereich "Funktionen" </span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-39"><span class="crayon-c">// reinkopiert werden.</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-40"><span class="crayon-c">//</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-41"><span class="crayon-c">//</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-42"><span class="crayon-c">// Kalibrierung der Entfernungsmessung vom Host zum Device (.Distanz)</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-43"><span class="crayon-c">// -----------------------------------------------------------------------------</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-44"><span class="crayon-c">// Zur Kalibrierung der Distanz das Bluetooth Gerät in einen Meter Entfernung</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-45"><span class="crayon-c">// zum Host positionieren und dann den Wert aus .rssi unter .details.txPower </span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-46"><span class="crayon-c">// beim Device eintragen (direkt in den Objecten im ioBroker Admin </span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-47"><span class="crayon-c">// oder im Skript in der Liste: bluetoothDevices)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-48"><span class="crayon-c">//</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-49"><span class="crayon-c">// todos:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-50"><span class="crayon-c">//------------------------------------------------------------------------------</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-51"><span class="crayon-c">//</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-52"><span class="crayon-c">// - Blacklistbehandlung (löschen von Channels/Datenpunkte, die nachträglich auf die Blacklist gekommen sind)</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-53"><span class="crayon-c">//&nbsp;&nbsp; erst am Ende des Scans und nicht on the fly</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-54"><span class="crayon-c">//</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-55"><span class="crayon-c">// - zum Scriptstart: Testen ob identische Element in Black und Whitelist -&amp;gt; Warnung</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-56"><span class="crayon-c">//</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-57"><span class="crayon-c">// - konfigurierbar machen: nur bekannte Devices Scannen</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-58"><span class="crayon-c">//</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-59"><span class="crayon-c">// - whitelist: Info, wenn whitelistgeäte noch nie gescannt wurden</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-60"><span class="crayon-c">//</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-61"><span class="crayon-c">// - Ereignisliste der letzten (10 (konfigurierbar)) gefundenen Devices</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-62"><span class="crayon-c">//</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-63"><span class="crayon-c">// - Internetabfrage Hersteller / Mac nach Zeitintervall wiederholen </span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-64"><span class="crayon-c">//</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-65"><span class="crayon-c">// - per DP wählbar: Scan alles, Scan whiteliste, Scan angelegte Devices (mit Anzeige, welcher Modus aktiv ist)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-66"><span class="crayon-c">//</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-67"><span class="crayon-c">// - im SKript konfigurierbar machen: Dauer eines Scanvorgangs inkl. Fehler abfangen (Minimum Zeit)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-68"><span class="crayon-c">//</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-69"><span class="crayon-c">// - .lastStateDelta neu (Delta als lesbare Zeit ausgeben)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-70"><span class="crayon-c">//</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-71"><span class="crayon-c">// - minRssi über Datenpunkte konfigurierbar machen</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-72"><span class="crayon-c">//</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-73"><span class="crayon-c">// =============================================================================</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-74"><span class="crayon-c">// Einstellungen Skriptverhalten (Expertenmodus)</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-75"><span class="crayon-c">// =============================================================================</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-76">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-77"><span class="crayon-c">// Das Skript ist so geschrieben, dass es komplett ohne Anpassungen des Users</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-78"><span class="crayon-c">// funktionieren sollte (Automatikmodus).</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-79">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-80">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-81"><span class="crayon-c">// Parameter, die nur beim ERSTEN Start des Skripts berücksichtigt werden und danach über Datenpunkte gesteuert werden</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-82"><span class="crayon-c">// -------------------------------------------------------------------------------------------------------------------</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-83">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-84"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">automaticOn</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// Automatikmodus true/false. true: Es wird solange alle Geräte gescannt, bis die Anzahl Geräte in atomaticMaxDevice gefunden und angelegt wurde.</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-85"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">automaticMaxDevice</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-cn">10</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// maximale Devices, die als Datenpunkte im Automatikmodus angelegt werden</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-86">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-87">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-88">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-89"><span class="crayon-c">// Parameter, die nur im Skript eingestellt werden können (Expertenmodus)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-90"><span class="crayon-c">// ----------------------------------------------------------------------</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-91">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-92"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">loglevel</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"debug2"</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// logs() - Loglevel des Scriptes (debug2, debug1, debug, info, warn, error) // benötigt den loglevel info beim Javascript Adapter</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-93"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">dpPfad</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"Bluetooth"</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">"."</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// In welchem Pfad sollen die Datenpunkte angelegt werden. String mit "." am Ende.</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-94">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-95"><span class="crayon-h"> </span><span class="crayon-c">// serviceUUIDs = whitelist. Wenn hier MACs/IDs eingetragen sind, werden nur noch diese gescannt / [] = leere Liste: alles wird gescannt</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-96"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">serviceUUIDs</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// default: [] =&amp;gt; all // ["", ...] // schränkt ein, welche Devices gescannt werden sollen</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-97"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">allowDuplicates</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// default: false // true erzeugt eine erheblich größere Last, da alle Devices ständig aktualisiert wedrden</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-98">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-99"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">minRssi</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-cn">100</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// default: -100 // Mindestsignalstärke zur Weiterverarbeitung (schon eingetragene Devices werden trotzdem verarbeitet)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-100"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">txPowerDefault</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-cn">68</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// (zwischen -75 und -55) Sendeleistung txPower (rssi) vom Gerät. Defaultwert für die Entfernungsberechnung, wenn die Devices nicht kalibriert sind</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-101">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-102"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">scandauer</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">10000</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// default: 10000 (10 Sek.) Dauer eines Scandurchgangs (1. Test mit 10000 (10 Sekunden), OK. Kleinster Wert im Skript zugelassen: 3000)</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-103">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-104"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">blockSpam</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// "Spam", block Devices ohne Informationen (kein: Mac, Manufacture Data, uid, service)</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-105">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-106"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">durchlaufLogStop</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// true: begrenzt die Detailausgabe im Log nach Anzahl X Durchläufe</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-107"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">durchlaufLogStopAnzahl</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">2</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Anzahl der Durchläufe, für die Detaillogs ausgegeben werden</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-108">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-109">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-110">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-111"><span class="crayon-c">// Sonstige Parameter zum Skriptverhalten</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-112"><span class="crayon-c">// --------------------------------------</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-113"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">delay</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">200</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Delay in ms, wenn Datenpunkte verzögert geschriebenwerden, um ggf. Fehler zu vermeiden</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-114">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-115">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-116"><span class="crayon-c">// ---------------------------------------------------</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-117"><span class="crayon-c">// Blacklist anhand der MAC-Adresse</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-118"><span class="crayon-c">// ---------------------------------------------------</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-119"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Hex- Wert (a-f, 0-9) * als Joker am Ende</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-120"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">bluetoothBlacklistMac</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// Bluetooth IDs/Mac-Adressen, die nicht verarbeitet werden (Blacklist), Joker am Ende möglich</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-121"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"badefeebadef"</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-122"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"affeaffeaffe"</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-123"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-124">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-125"><span class="crayon-c">// ---------------------------------------------------</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-126"><span class="crayon-c">// Blacklist anhand des local Name (Name vom Gerät)</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-127"><span class="crayon-c">// ---------------------------------------------------</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-128"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">bluetoothBlacklistLocalName</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// Bluetooth "local name" (Namen, die vom Gerät übertragen werden), die nicht verarbeitet werden (Blacklist)</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-129"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"Apple Pencil"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-130"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-131">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-132"><span class="crayon-c">// ---------------------------------------------------</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-133"><span class="crayon-c">// Blacklist anhand Manufacturrer Data</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-134"><span class="crayon-c">// ---------------------------------------------------</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-135"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Hex- Wert (a-f, 0-9) * als Joker am Ende</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-136"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Aufbau der Meldungen bei Beacons: https://developer.mbed.org/blog/entry/BLE-Beacons-URIBeacon-AltBeacons-iBeacon/</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-137"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// ersten zwei Bytes = Herstellerkennung, siehe https://www.bluetooth.com/specifications/assigned-numbers/company-Identifiers</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-138"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// 4c00 = Apple, 0075 = Samsung, 8700 = Garmin, 8a00 = Jawbone, ... </span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-139"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// 3. Byte = Type: 02 = iBeacon</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-140"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">bluetoothBlacklistManufacturerData</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// Bluetooth manufacturerData, welche nicht verarbeitet werden (Blacklist), Joker "*" am Ende mäglich</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-141"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"4c000c0e00*"</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-142"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"4c000b03*"</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-143"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"4c00051200000000000000000*"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-144"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-145">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-146"><span class="crayon-c">// ---------------------------------------------------</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-147"><span class="crayon-c">// eigene bekannte Bluetooth Geräte</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-148"><span class="crayon-c">// ---------------------------------------------------</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-149"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">bluetoothDevices</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-150"><span class="crayon-c">// name:&nbsp;&nbsp;&nbsp;&nbsp;Selbstvergebener Name zum Gerät</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-151"><span class="crayon-c">// person:&nbsp;&nbsp;nur Info: Freitext, Person der das Gerät zugeordnet ist&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-152"><span class="crayon-c">// txPower: rssi Wert, wenn das Gerät eine Entfernung von einem Meter zum Host hat. Wichtg für die Kalebrierung der Entfernung (Distanz) je Gerät)</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-153">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-154"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"0024e4185fa3"</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-155"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-156"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"name"</span><span class="crayon-o">:</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-s">"Withings_Aura"</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-157"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"person"</span><span class="crayon-o">:</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-s">"keine"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-158"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-159"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"f75e39e1eeca"</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-160"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-161"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"name"</span><span class="crayon-o">:</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-s">"Fitbit_One"</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-162"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"person"</span><span class="crayon-o">:</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-s">"Michael"</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-163"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"txPower"</span><span class="crayon-o">:</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">-</span><span class="crayon-cn">68</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-164"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-165"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"001a7dda7113"</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-166"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-167"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"name"</span><span class="crayon-o">:</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-s">"iBeacon_Arbeitszimmer"</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-168"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"person"</span><span class="crayon-o">:</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-s">"keine"</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-169"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-170"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"7c2f80adc68f"</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-171"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-172"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"name"</span><span class="crayon-o">:</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-s">"G-Tag_Schlüsselbund_Michael"</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-173"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"person"</span><span class="crayon-o">:</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-s">"Michael"</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-174"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"txPower"</span><span class="crayon-o">:</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">-</span><span class="crayon-cn">70</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-175"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-176"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"244b03eefea7"</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-177"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-178"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"name"</span><span class="crayon-o">:</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-s">"Samsung_TV_Nachbarn"</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-179"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"person"</span><span class="crayon-o">:</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-s">""</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-180"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-181"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"4b475e4c5236"</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-182"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-183"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"name"</span><span class="crayon-o">:</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-s">"MacBook_Pro_Retina"</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-184"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"person"</span><span class="crayon-o">:</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-s">"Michael"</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-185"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-186"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"b0b448bda804"</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-187"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-188"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"name"</span><span class="crayon-o">:</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-s">"Ti_CC2650STK_SensorTag"</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-189"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"person"</span><span class="crayon-o">:</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-s">""</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-190"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-191"><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-192">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-193">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-194">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-195">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-196">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-197">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-198"><span class="crayon-c">// ##########################################################################################################################</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-199"><span class="crayon-c">// AB HIER KEINE ÄNDERUNGEN AM SKRIPT VORNEHMEN&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(keine Einstellungen nötig)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-200"><span class="crayon-c">// ##########################################################################################################################</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-201">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-202"><span class="crayon-c">// (es sei denn, die Datenpunktnamen sollen geändert werden)</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-203">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-204">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-205"><span class="crayon-c">// ---------------------------------------------------</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-206"><span class="crayon-c">// Im Datenpunktpfad werden die Devices unter ... angelegt:</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-207"><span class="crayon-c">// ---------------------------------------------------</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-208"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">devicePfad</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">dpPfad</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">"Device."</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-209">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-210"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">idScan</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">dpPfad</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">'Control_ScanOn'</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// schaltet den Scan per Datenpunkt ein oder aus (true/false)</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-211"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">idScanFirst</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">dpPfad</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">'onlyScript.scanFirst'</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Info für das Script, wurde das Script zum aller ersten mal gestartet</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-212">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-213"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">idControlAutomaticOn</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">dpPfad</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">'Control_Script.Automatik_Modus_An'</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-c">// schaltet den den Automatikmodus ein oder aus (max. Anzahl der Geräte, die als Datenpunkte angelegt werden)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-214"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">idControlAutomaticMax</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">dpPfad</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">'Control_Script.Automatik_Modus_Max_Geräte'</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-c">// Wieviele Geräte sollen max. im Automatikmodus gefunden werden?</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-215">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-216">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-217"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">idNewDevice</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">dpPfad</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">'InfoDevices.newDevice'</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// Mac eines neu gefundenen Bluetooth Device wird hier abgelegt (für Histroy)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-218"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">idNewDeviceMoreInfo</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">dpPfad</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">'InfoDevices.newDeviceMoreInfo'</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// Mac und lokaler Name eines neu gefundenen Bluetooth Device wird hier abgelegt (für Histroy)</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-219"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">idNewDeviceBlocked</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">dpPfad</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">'InfoDevices.newDeviceBlocked'</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// id des zulezt gescannten Devices, welches geblcokt wurde</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-220">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-221"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">idDevicesListAll</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">dpPfad</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">'InfoDevices.ListAll'</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// Liste aller schon erfassten Devices (in allen Starts des Skripts)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-222"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">idDevicesOffline</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">dpPfad</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">'InfoDevices.ListOffline'</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// Liste aller schon erfassten Devices, die nicht erreichbar sind (ohne Geräte auf der Blacklsit)</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-223"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">idDevicesOnline</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">dpPfad</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">'InfoDevices.ListOnline'</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Liste aller schon erfassten Devices, die gerade erreichbar sind&nbsp;&nbsp;(ohne Geräte auf der Blacklsit)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-224"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">idDevicesList24blocked</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">dpPfad</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">'InfoDevices.Blacklist.List_24h_blocked'</span><span class="crayon-sy">;</span><span class="crayon-c">// Liste aller geblockten Bluetooth IDs der letzten 24h</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-225"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">idDevicesBlacklistDel</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">dpPfad</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">'InfoDevices.Blacklist.Deleted_Devices'</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-c">// List der Geräte, die manuell gelsöcht wurden</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-226"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">idDevicesBlacklistMac</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">dpPfad</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">'InfoDevices.Blacklist.Mac'</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// Geräte, die auf der Blacklist stehen (Mac-Adresse)</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-227"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">idDevicesBlacklistLN</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">dpPfad</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">'InfoDevices.Blacklist.LocalName'</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-c">// Geräte, die auf der Blacklist stehen (Local Name)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-228"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">idDevicesBlacklistMD</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">dpPfad</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">'InfoDevices.Blacklist.ManufacturerData'</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-c">// Geräte, die auf der Blacklist stehen (Manufacturer Data)</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-229"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">idDevicesBlacklistMacOnline</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">dpPfad</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">'InfoDevices.Blacklist.ListBlacklistMacOnline'</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-c">// Liste aller schon erfassten Devices, die gerade erreichbar sind und auf einer Blacklist stehen</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-230"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">idDevicesCountAll</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">dpPfad</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">'InfoDevices.CountAll'</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Anzahl aller bekannten Devices</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-231"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">idDevicesCountOffline</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">dpPfad</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">'InfoDevices.CountOffline'</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Anzahl Devices nicht erreichbar</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-232"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">idDevicesCountOnline</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">dpPfad</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">'InfoDevices.CountOnline'</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// Anzahl Devices online</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-233"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">idInfoCount24blockSpam</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">dpPfad</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">'InfoDevices.Count_24h.blocked_Spam'</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Counter 24h geblockte Scanvorgänge Geräte ohne Information </span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-234"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">idInfoCount24blockBLMac</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">dpPfad</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">'InfoDevices.Count_24h.blocked_Blacklist_Mac'</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// Counter 24h geblockte Scanvorgänge Geräte Blacklist Mac </span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-235"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">idInfoCount24blockBLLN</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">dpPfad</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">'InfoDevices.Count_24h.blocked_Blacklist_LocalName'</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-c">// Counter 24h geblockte Scanvorgänge Geräte Blacklist Local Name</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-236"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">idInfoCount24blockBLMD</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">dpPfad</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">'InfoDevices.Count_24h.blocked_Blacklist_ManufactureData'</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-c">// Counter 24h geblockte Scanvorgänge Geräte Blacklist Manufacture Data</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-237"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">idInfoCount24blockRssiLow</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">dpPfad</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">'InfoDevices.Count_24h.blocked_rssi_low'</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Counter 24h geblockte Scanvorgänge Geräte rssi zu schwach</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-238"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">idInfoCount24blockAutoMax</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">dpPfad</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">'InfoDevices.Count_24h.blocked_Auto_Max'</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Counter 24h geblockte Scanvorgänge Geräte da im AUtomatikmodus die maximale Anzahl anzulegender Geräte erreicht wurde.</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-239"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">idInfoCount24blockDelDev</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">dpPfad</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">'InfoDevices.Count_24h.blocked_Deleted_Devices'</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// Counter 24h geblockte Scanvorgänge Geräte die auf der Liste der manuell gelöschten Devices stehen</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-240">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-241"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">idNobleStatus</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">dpPfad</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">'InfoSkript.Status_noble'</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// Status des noble modules</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-242"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">idInfoScanModus</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">dpPfad</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">'InfoSkript.Status_ScanModus'</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// Scanmodus (alle oder nur bestimmte Devices)</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-243"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">idInfoScanStatus</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">dpPfad</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">'InfoSkript.Status_Scan'</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Scan Status</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-244"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">idInfoSetObject</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">dpPfad</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">'InfoSkript.setObjectEnabled'</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// Ist setObjects für die Instanz freigeschaltet? Wenn nein, werden die Gerätenamen nciht im Channel angezeigt.</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-245"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">idInfoScriptUptime</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">dpPfad</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">'InfoSkript.Time_UptimeScript'</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Zeit, die das Skript aktiv ist</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-246"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">idInfoScanDuration</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">dpPfad</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">'InfoSkript.Time_ScanDuration'</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Zeit, die der Scan aktiv war</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-247"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">idInfoCountScans</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">dpPfad</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">'InfoSkript.CountScans'</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// Anzanhl der Scandurchläufer</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-248">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-249">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-250">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-251"><span class="crayon-c">// =============================================================================</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-252"><span class="crayon-c">// Variablen für das Skript (Skript intern, KEINE Konfiguration für den Anwender)</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-253"><span class="crayon-c">// =============================================================================</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-254">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-255"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">noble</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">require</span><span class="crayon-sy">(</span><span class="crayon-s">'noble'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// Node.js BLE (Bluetooth Low Energy) central module</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-256"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">request</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">require</span><span class="crayon-sy">(</span><span class="crayon-s">"request"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-c">// zur Abfrage des Herstellers anhand der Mac-Adresse</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-257">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-258"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">anzahlBluetoothDevices</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// zählt die gescannten Bluetooth Devices je Durchlauf</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-259"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">anzahlBluetoothDevicesNeu</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// zählt die neuen Bluetooth Devices je Durchlauf</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-260"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">durchlauf</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Zählt die Bluetooth Scandurchläufe nach Scriptstart</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-261"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">bekannteDevicesNichtErreichbar</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// enthält zu Beginn des Durchlaufs alle bekannten Devices,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-262"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// jedes erreichte Device wird entfernt. Die übrigen Devices werden auf nicht erreichbar gesetzt</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-263"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">bekannteDevicesErreichbar</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// zählt beim Durchlauf alle erreichbaren Devices (ohne Geräte, die auf der Blacklist stehen)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-264"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">blacklistDevicesErreichbar</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// zählt beim Durchlauf alle erreichbaren Devices, die auf einer Blacklist stehen</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-265">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-266"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">colorTrue</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'&lt;span style="color: green;"&gt;true&lt;/span&gt;'</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-267"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">colorFalse</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'&lt;span style="color: red;"&gt;false&lt;/span&gt;'</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-268">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-269"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">timeInSecScriptStart</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">dateSecNow</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-270"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">timeInSecScan</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-271">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-272"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">noerror</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-273">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-274"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">instanz</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"javascript."</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">instance</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">"."</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-275">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-276"><span class="crayon-e">logs</span><span class="crayon-sy">(</span><span class="crayon-s">'&lt;b&gt;--== '</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">name</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">' ==--&lt;/b&gt; gestartet. Instanz: "'</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">instanz</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">'", Loglevel: '</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">loglevel</span><span class="crayon-sy">,</span><span class="crayon-s">"info"</span><span class="crayon-sy">,</span><span class="crayon-s">"darkgreen"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-277"><span class="crayon-e">logs</span><span class="crayon-sy">(</span><span class="crayon-s">'Vars, Loglevel und Scriptname gesetzt'</span><span class="crayon-sy">,</span><span class="crayon-s">'debug2'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-278">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-279">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-280">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-281">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-282"><span class="crayon-c">// =============================================================================</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-283"><span class="crayon-c">// Datenpunkte anlegen</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-284"><span class="crayon-c">// =============================================================================</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-285">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-286">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-287"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">dpAnlegen</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-288">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-289"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">createState</span><span class="crayon-sy">(</span><span class="crayon-v">idScan</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-290"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">name</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'Switch Bluetooth Scanner ein/aus'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-291"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">desc</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'Schaltet den Bluetoothscanner ein und aus'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-292"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">type</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'boolean'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-293"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">role</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'input'</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-294"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-295">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-296"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">createState</span><span class="crayon-sy">(</span><span class="crayon-v">idControlAutomaticOn</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">automaticOn</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-297"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">name</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'Control Script Automatik Modus ein/aus'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-298"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">desc</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'Control Script Automatik Modus ein/aus. Max. Anzahl von Geräten, für die Datenpunkte angelegt werden'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-299"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">type</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'boolean'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-300"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">role</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'input'</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-301"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-302">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-303"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">createState</span><span class="crayon-sy">(</span><span class="crayon-v">idControlAutomaticMax</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">automaticMaxDevice</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-304"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">name</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'Control Script Automatik Modus maximale Anzahl Geräte'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-305"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">desc</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'Control Script Automatik Modus maximale Anzahl Geräte die als Datenpunkt angelegt werden'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-306"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">type</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'number'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-307"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">role</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'input'</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-308"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-309"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-310"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">createState</span><span class="crayon-sy">(</span><span class="crayon-v">idScanFirst</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-311"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">name</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'Bluetooth Scan schon einmal gelaufen'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-312"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">desc</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'Startet beim ersten Skriptstart den Bluetooth Scan. Wird nur einmal benötigt.'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-313"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">type</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'boolean'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-314"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">role</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'system'</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-315"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-316">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-317"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">createState</span><span class="crayon-sy">(</span><span class="crayon-v">idNewDevice</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">""</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-318"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">name</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'last new Bluetooth Devices'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-319"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">desc</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'Die Mac Adresse des zuletzt gefundenen Bluetooth Device (für History und Ereignislisten)'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-320"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">type</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'string'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-321"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">role</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'value'</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-322"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-323">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-324"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">createState</span><span class="crayon-sy">(</span><span class="crayon-v">idNewDeviceMoreInfo</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">""</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-325"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">name</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'last new Bluetooth Devices, mac und name'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-326"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">desc</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'Die Mac Adresse und der locale Name des zuletzt gefundenen Bluetooth Device (für History und Ereignislisten)'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-327"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">type</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'string'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-328"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">role</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'value'</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-329"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-330"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-331"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">createState</span><span class="crayon-sy">(</span><span class="crayon-v">idNewDeviceBlocked</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">""</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-332"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">name</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'id des zuletzt geblockten Device 24h'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-333"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">desc</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'id des zuletzt geblockten Device 24h'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-334"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">type</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'string'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-335"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">role</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'value'</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-336"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-337">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-338"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">createState</span><span class="crayon-sy">(</span><span class="crayon-v">idDevicesListAll</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">""</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-339"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">name</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'Liste aller als DP angelegten Bluetooth Devices'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-340"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">desc</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'Liste aller bisher gefundenen und als Datenpunkt angelegten Bluetooth Devices'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-341"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">type</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'string'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-342"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">role</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'list'</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-343"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-344">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-345"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">createState</span><span class="crayon-sy">(</span><span class="crayon-v">idDevicesOffline</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">""</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-346"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">name</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'Liste der angelegten Geräte, die nicht erreichbar sind'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-347"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">desc</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'Liste der als Datenpunkt angelegten Geräte, die nicht erreichbar sind'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-348"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">type</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'string'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-349"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">role</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'list'</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-350"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-351">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-352"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">createState</span><span class="crayon-sy">(</span><span class="crayon-v">idDevicesOnline</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">""</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-353"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">name</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'Liste der angelegten Geräte die erreichbar sind (ohne geblockte Geräte)'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-354"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">desc</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'Liste der angelegten Geräte die erreichbar sind (ohne geblockte Geräte)'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-355"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">type</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'string'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-356"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">role</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'list'</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-357"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-358">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-359">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-360"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">createState</span><span class="crayon-sy">(</span><span class="crayon-v">idDevicesList24blocked</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">""</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-361"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">name</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'Liste der IDs, die die letzten 24h geblockt wurden'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-362"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">desc</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'Liste der IDs, die die letzten 24h geblockt wurden'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-363"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">type</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'string'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-364"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">role</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'list'</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-365"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-366">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-367"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">createState</span><span class="crayon-sy">(</span><span class="crayon-v">idDevicesBlacklistDel</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">""</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-368"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">name</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'Bluetooth Devices, die manuell gelöscht wurden '</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-369"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">desc</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'Bluetooth Devices, die manuell gelöscht wurden'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-370"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">type</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'string'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-371"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">role</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'list'</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-372"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-373">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-374"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">createState</span><span class="crayon-sy">(</span><span class="crayon-v">idDevicesBlacklistMac</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">""</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-375"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">name</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'Bluetooth Devices auf Blacklist nach Mac/ID'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-376"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">desc</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'Bluetooth Devices auf Blacklist nach Mac/ID'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-377"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">type</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'string'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-378"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">role</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'list'</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-379"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-380">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-381"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">createState</span><span class="crayon-sy">(</span><span class="crayon-v">idDevicesBlacklistLN</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">""</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-382"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">name</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'Bluetooth Devices auf Blacklist nach local Name'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-383"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">desc</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'Bluetooth Devices auf Blacklist nach local Name (wird vom Gerät gesendet)'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-384"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">type</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'string'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-385"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">role</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'list'</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-386"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-387">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-388"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">createState</span><span class="crayon-sy">(</span><span class="crayon-v">idDevicesBlacklistMD</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">""</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-389"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">name</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'Bluetooth Devices auf Blacklist nach Manufacturer Data'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-390"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">desc</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'Bluetooth Devices auf Blacklist nach Manufacturer Data (wird vom Gerät gesendet)'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-391"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">type</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'string'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-392"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">role</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'list'</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-393"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-394">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-395"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">createState</span><span class="crayon-sy">(</span><span class="crayon-v">idDevicesBlacklistMacOnline</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">""</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-396"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">name</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'Bluetooth Devices Blacklist online'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-397"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">desc</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'Liste Bluetooth Devices von der Blacklist, die erreichbar sind'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-398"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">type</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'string'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-399"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">role</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'list'</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-400"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-401">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-402"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">createState</span><span class="crayon-sy">(</span><span class="crayon-v">idDevicesCountAll</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-403"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">name</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'Anzahl bekannter Bluetooth Devices'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-404"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">desc</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'Anzahl bekannte Bluetooth Devices (ohne Blacklist Devices)'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-405"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">type</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'number'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-406"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">role</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'counter'</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-407"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-408">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-409"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">createState</span><span class="crayon-sy">(</span><span class="crayon-v">idDevicesCountOffline</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-410"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">name</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'Anzahl bekannter Bluetooth Devices nicht erreichbar'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-411"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">desc</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'Anzahl bekannter Bluetooth Devices nicht erreichbar (ohne Blacklist Devices)'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-412"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">type</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'number'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-413"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">role</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'counter'</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-414"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-415">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-416"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">createState</span><span class="crayon-sy">(</span><span class="crayon-v">idDevicesCountOnline</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-417"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">name</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'Anzahl bekannter Bluetooth Devices online'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-418"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">desc</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'Anzahl bekannter Bluetooth Devices online (ohne Blacklist Devices)'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-419"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">type</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'number'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-420"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">role</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'counter'</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-421"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-422">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-423"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">createState</span><span class="crayon-sy">(</span><span class="crayon-v">idNobleStatus</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">noble</span><span class="crayon-sy">.</span><span class="crayon-v">state</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-424"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">name</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'Status des noble moduls'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-425"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">desc</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'Status des noble moduls'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-426"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">type</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'string'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-427"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">role</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'info'</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-428"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-429">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-430"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">createState</span><span class="crayon-sy">(</span><span class="crayon-v">idInfoScanModus</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">""</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-431"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">name</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'Info Scanmodus, welche Devices werden gesscannt'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-432"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">desc</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'Info Scanmodus, welche Devices werden gesscannt'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-433"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">type</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'string'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-434"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">role</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'info'</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-435"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-436">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-437"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">createState</span><span class="crayon-sy">(</span><span class="crayon-v">idInfoSetObject</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">""</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-438"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">name</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'setObject() für die Instanz freigeschaltet?'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-439"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">desc</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'setObject() für die Instanz freigeschaltet? Wenn nein, werden weniger Informationen angezeigt.'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-440"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">type</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'string'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-441"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">role</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'info'</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-442"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-443">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-444"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">createState</span><span class="crayon-sy">(</span><span class="crayon-v">idInfoCount24blockSpam</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-445"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">name</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'24h Zähler: Scan geblockt Gerät ohne Informationen (Spam)'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-446"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">desc</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'24h Zähler: Scan geblockt Gerät ohne Informationen (Spam)'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-447"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">type</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'number'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-448"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">role</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'counter'</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-449"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-450">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-451"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">createState</span><span class="crayon-sy">(</span><span class="crayon-v">idInfoCount24blockBLMac</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-452"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">name</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'24h Zähler: Scan geblockt wg. Blacklist Mac'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-453"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">desc</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'24h Zähler: Scan geblockt wg. Blacklist Mac'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-454"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">type</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'number'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-455"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">role</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'counter'</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-456"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-457">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-458"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">createState</span><span class="crayon-sy">(</span><span class="crayon-v">idInfoCount24blockBLLN</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-459"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">name</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'24h Zähler: Scan geblockt wg. Blacklist local name'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-460"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">desc</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'24h Zähler: Scan geblockt wg. Blacklist local name'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-461"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">type</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'number'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-462"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">role</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'counter'</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-463"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-464">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-465"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">createState</span><span class="crayon-sy">(</span><span class="crayon-v">idInfoCount24blockBLMD</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-466"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">name</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'24h Zähler: Scan geblockt wg. Blacklist Manufacture Data'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-467"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">desc</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'24h Zähler: Scan geblockt wg. Blacklist Manufacture Data'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-468"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">type</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'number'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-469"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">role</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'counter'</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-470"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-471">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-472"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">createState</span><span class="crayon-sy">(</span><span class="crayon-v">idInfoCount24blockRssiLow</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-473"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">name</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'24h Zähler: Scan geblockt wg. rssi low'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-474"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">desc</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'24h Zähler: Scan geblockt wg. Signal (rssi) zu schwach.'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-475"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">type</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'number'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-476"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">role</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'counter'</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-477"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-478">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-479"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">createState</span><span class="crayon-sy">(</span><span class="crayon-v">idInfoCount24blockAutoMax</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-480"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">name</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'24h Zähler: Scan geblockt wg. max. Anzahl Geräte im Automatikmodus'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-481"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">desc</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'24h Zähler: Scan geblockt wg. max. Anzahl Geräte im Automatikmodus'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-482"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">type</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'number'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-483"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">role</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'counter'</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-484"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-485">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-486"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">createState</span><span class="crayon-sy">(</span><span class="crayon-v">idInfoCount24blockDelDev</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-487"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">name</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'24h Zähler: Scan geblockt wg. manuell gelöschtes Gerät erkannt'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-488"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">desc</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'24h Zähler: Scan geblockt wg. manuell gelöschtes Gerät erkannt'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-489"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">type</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'number'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-490"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">role</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'counter'</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-491"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-492"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-493"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">createState</span><span class="crayon-sy">(</span><span class="crayon-v">idInfoScriptUptime</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"-"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-494"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">name</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'Uptime des Skripts'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-495"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">desc</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'Uptime des Skripts. Zeit, seitdem das Skript gestartet wurde.'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-496"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">type</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'string'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-497"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">role</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'uptime'</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-498"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-499">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-500"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">createState</span><span class="crayon-sy">(</span><span class="crayon-v">idInfoScanDuration</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"-"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-501"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">name</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'Zeit, die der Scan aktiv war'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-502"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">desc</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'Zeit, die der Scan aktiv war'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-503"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">type</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'string'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-504"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">role</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'info.counter'</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-505"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-506">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-507"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">createState</span><span class="crayon-sy">(</span><span class="crayon-v">idInfoCountScans</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-508"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">name</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'Anzahl der Scandurchläufe seit Skriptstart'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-509"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">desc</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'Anzahl der Scandurchläufe seit Skriptstart'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-510"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">type</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'number'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-511"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">role</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'info'</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-512"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-513">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-514"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">createState</span><span class="crayon-sy">(</span><span class="crayon-v">idInfoScanStatus</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"aus"</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-515"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">name</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'Scan Status'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-516"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">desc</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'Scan Status'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-517"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">type</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'string'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-518"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">role</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'info'</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-519"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-520">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-521">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-522"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// einfach angelegte Datenpunkte</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-523"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// -----------------------------</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-524"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//createState(dpPfad + 'datenpunktName',"Test");</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-525">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-526"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// ausführlich beschriebene Datenpunkte</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-527"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// ------------------------------------</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-528"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">/*</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-529"><span class="crayon-c">&nbsp;&nbsp;&nbsp;&nbsp;createState(dpPfad + 'datenpunktName', 0, { // Datenpunktname ohne Leerzeichen und Sonderzeichen, wie er in den Objekten angelegt wird</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-530"><span class="crayon-c">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;name: 'Name des Datenpunkts',&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Lesbarer Name des Datenpunkts</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-531"><span class="crayon-c">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;desc: 'Beschreibung des Datenpunkts',&nbsp;&nbsp; // Beschreibung des Datenpunkts</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-532"><span class="crayon-c">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type: 'number',&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // Bescreibung des Typ, wie: number, string, boolean</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-533"><span class="crayon-c">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unit: '°C'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Einheit, wenn benötigt </span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-534"><span class="crayon-c">&nbsp;&nbsp;&nbsp;&nbsp;});</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-535"><span class="crayon-c">&nbsp;&nbsp;&nbsp;&nbsp;*/</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-536">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-537">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-538"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">logs</span><span class="crayon-sy">(</span><span class="crayon-s">"dpAnlegen() - Datenpunkte angelegt (createState) in "</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">instanz</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">dpPfad</span><span class="crayon-sy">,</span><span class="crayon-s">'debug2'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-539"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-540">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-541">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-542">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-543"><span class="crayon-c">// =============================================================================</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-544"><span class="crayon-c">// Unterdatenpunkte der Bluetooth Devices, die automatisch je gefundenem Device angelegt werden</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-545"><span class="crayon-c">// =============================================================================</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-546">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-547"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">deviceDatenpunkte</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-548"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"Name_localName"</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-549"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"init"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">""</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-550"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"dp"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-551"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"name"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'Bluetooth local Name'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-552"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"desc"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'local Name vom Device über Bluetooth'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-553"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"type"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'string'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-554"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"role"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'value'</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-555"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-556"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-557"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"Name"</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-558"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"init"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">""</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-559"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"dp"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-560"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"name"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'selbstvergebender Name, z.B. aus JSON'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-561"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"desc"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'selbstvergebender Name des Bluetooth Devices, z.B. aus JSON'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-562"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"type"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'string'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-563"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"role"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'input.value'</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-564"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-565"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-566"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"lastState"</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-567"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"init"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-568"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"dp"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-569"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"name"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'Bluetooth Device erreichbar'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-570"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"desc"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'Bluetooth Device wurde im letzten Scan erreicht'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-571"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"type"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'boolean'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-572"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"role"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'indicator.reachable'</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-573"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-574"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-575"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"lastStateDate"</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-576"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"init"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">""</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-577"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"dp"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-578"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"name"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'Bluetooth Datum letzte Statusänderung'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-579"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"desc"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'Bluetooth Datum letzte Statusänderung'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-580"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"type"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'string'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-581"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"role"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'date'</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-582"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-583"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-584"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"lastStateCount"</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-585"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"init"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-586"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"dp"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-587"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"name"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'Anzahl erreichbar (+)/ nicht erreichbar (-) in Folge'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-588"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"desc"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'Bluetooth Anzahl erreichbar (+)/ nicht erreichbar (-) in Folge'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-589"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"type"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'number'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-590"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"role"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'counter'</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-591"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-592"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-593"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"Person"</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-594"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"init"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">""</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-595"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"dp"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-596"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"name"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'Bluetooth Device Personenzuordnung'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-597"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"desc"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'Bluetooth Device gehört zur Person'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-598"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"type"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'string'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-599"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"role"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'input.value.persons'</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-600"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-601"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-602"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"rssi"</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-603"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"init"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-604"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"dp"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-605"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"name"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'Bluetooth Device rssi'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-606"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"desc"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'Bluetooth Device rssi Signalsärke'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-607"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"type"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'number'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-608"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"unit"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'dB'</span><span class="crayon-h"> </span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-609"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"role"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'value.rssi'</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-610"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-611"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-612"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"Distanz"</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-613"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"init"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-614"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"dp"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-615"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"name"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'Bluetooth Device Distanz'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-616"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"desc"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'Bluetooth Device errechnete Entfernung'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-617"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"type"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'float'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-618"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"unit"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'m'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-619"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"role"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'value'</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-620">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-621"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-622"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-623"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"Hersteller"</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-624"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"init"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">""</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-625"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"dp"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-626"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"name"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'Bluetooth Device Hersteller anhand MAC'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-627"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"desc"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'Bluetooth Device Herstellerinfo vom Device ermittelt über die MAC'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-628"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"type"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'string'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-629"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"role"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'value'</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-630"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-631"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-632"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"details.uuid"</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-633"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"init"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">""</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-634"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"dp"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-635"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"name"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'Bluetooth Device uuid'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-636"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"desc"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'Bluetooth Device uuid'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-637"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"type"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'string'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-638"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"role"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'value'</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-639"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-640"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-641"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"details.service"</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-642"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"init"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">""</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-643"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"dp"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-644"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"name"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'Bluetooth Device Service'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-645"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"desc"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'Bluetooth Device Service'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-646"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"type"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'string'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-647"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"role"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'value'</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-648"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-649"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-650"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"details.txPower"</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-651"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"init"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-652"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"dp"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-653"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"name"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'Bluetooth Device txPower in 1m Entfernung'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-654"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"desc"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'im Bluetooth Device eingetragenen Sendeleistung (txPower)'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-655"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"type"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'number'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-656"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"unit"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'dB'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-657"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"role"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'input.value'</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-658"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-659"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-660"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"details.address"</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-661"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"init"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">""</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-662"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"dp"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-663"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"name"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'Bluetooth Device address'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-664"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"desc"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'Bluetooth Device address (MAC-Adresse)'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-665"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"type"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'string'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-666"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"role"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'value'</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-667"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-668"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-669"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"details.addressType"</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-670"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"init"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">""</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-671"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"dp"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-672"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"name"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'Bluetooth Device addressType'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-673"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"desc"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'Bluetooth Device addressType (public, random), or "unknown" if not known'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-674"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"type"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'string'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-675"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"role"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'value'</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-676"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-677"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-678"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"details.connectable"</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-679"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"init"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-680"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"dp"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-681"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"name"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'Bluetooth Device connectable'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-682"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"desc"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'Bluetooth Device connectable (true or false), or undefined if not known'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-683"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"type"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'boolean'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-684"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"role"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'value'</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-685"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-686"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-687"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"details.manufacturerData"</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-688"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"init"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">""</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-689"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"dp"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-690"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"name"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'Bluetooth Device manufacturerData'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-691"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"desc"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'Bluetooth Device manufacturerData - Herstellerdaten'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-692"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"type"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'string'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-693"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"role"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'value'</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-694"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-695"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-696"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"Control.Delete_Device"</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-697"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"init"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-698"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"dp"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-699"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"name"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'ACHTUNG: (true) löscht das Gerät und setzt es auf die Blacklist'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-700"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"desc"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'ACHTUNG: true löscht das Gerät vor dem nächsten Durchlauf und setzt es auf die Blacklist'</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-701"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"type"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'boolean'</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-702"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"role"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'input'</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-703"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-704"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-705"><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-706">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-707">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-708">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-709"><span class="crayon-c">// =============================================================================</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-710"><span class="crayon-c">// Daten</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-711"><span class="crayon-c">// =============================================================================</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-712"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// 4c00 = Apple, 0075 = Samsung, 8700 = Garmin, 8a00 = Jawbone, ... </span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-713"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// ersten zwei Bytes = Herstellerkennung, siehe https://www.bluetooth.com/specifications/assigned-numbers/company-Identifiers</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-714"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// erst das upper Byte, dann das lower Byte</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-715">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-716"><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">btCompanyIdentifiers</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-717"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"4c00"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h"> </span><span class="crayon-s">"company"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"Apple"</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-718"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"6b00"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h"> </span><span class="crayon-s">"company"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"POLAR"</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-719"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"8700"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h"> </span><span class="crayon-s">"company"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"Garmin"</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-sy">}</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-720"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"0087"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h"> </span><span class="crayon-s">"company"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"Garmin"</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-sy">}</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-c">// Garmin Geräte sowohl mit 0087, als auch mit 8700 empfangen (lower upper Byte vertauscht)</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-721"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"8a00"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h"> </span><span class="crayon-s">"company"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"Jawbone"</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-722"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"7500"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h"> </span><span class="crayon-s">"company"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"Samsung"</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-723"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">"8001"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h"> </span><span class="crayon-s">"company"</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">"Gigaset"</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-724"><span class="crayon-sy">}</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-725">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-726">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-727"><span class="crayon-c">// =============================================================================</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-728"><span class="crayon-c">// Autokorrekturen &amp;amp; Prüfung auf gültige Daten</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-729"><span class="crayon-c">// =============================================================================</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-730">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-731"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">autokorrekturen</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-732">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-733"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-e">typeof </span><span class="crayon-v">noble</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-s">"undefined"</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-734"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">noerror</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-735"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">log</span><span class="crayon-sy">(</span><span class="crayon-s">'node.js Module "noble" steht nicht zur Verfügung'</span><span class="crayon-sy">,</span><span class="crayon-s">"error"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-736"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">log</span><span class="crayon-sy">(</span><span class="crayon-s">'Voraussetzung für noble: &lt;span style="color: blue;"&gt;&lt;a href="https://github.com/sandeepmistry/noble#prerequisites"&gt;https://github.com/sandeepmistry/noble#prerequisites&lt;/a&gt;&lt;/span&gt;'</span><span class="crayon-sy">,</span><span class="crayon-s">"error"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-737"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-738"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-e">typeof </span><span class="crayon-v">request</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-s">"undefined"</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-739"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">noerror</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-740"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">log</span><span class="crayon-sy">(</span><span class="crayon-s">'node.js Module "request" steht nicht zur Verfügung'</span><span class="crayon-sy">,</span><span class="crayon-s">"error"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-741"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-742">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-743">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-744"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">scandauer</span><span class="crayon-h"> </span><span class="crayon-o">&amp;</span><span class="crayon-v">lt</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-cn">3000</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h"> </span><span class="crayon-e">logs</span><span class="crayon-sy">(</span><span class="crayon-s">"scandauer nicht kleiner als 3000 -&amp;gt; auf 3000 angepasst"</span><span class="crayon-sy">,</span><span class="crayon-s">"warn"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-745"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">scandauer</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">3000</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-746"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-747">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-748"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">checkData</span><span class="crayon-sy">(</span><span class="crayon-v">bluetoothBlacklistManufacturerData</span><span class="crayon-sy">,</span><span class="crayon-s">"bluetoothBlacklistManufacturerData"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-749"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">checkData</span><span class="crayon-sy">(</span><span class="crayon-i">bluetoothBlacklistMac</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-sy">,</span><span class="crayon-s">"bluetoothBlacklistMac"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-750"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-751">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-752">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-753"><span class="crayon-c">// =============================================================================</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-754"><span class="crayon-c">// Funktionen&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Funktionen</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-755"><span class="crayon-c">// =============================================================================</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-756">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-757">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-758"><span class="crayon-c">// ------------------------------</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-759"><span class="crayon-c">// Datenverarbeitung</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-760"><span class="crayon-c">// ------------------------------</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-761">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-762"><span class="crayon-c">// Hersteller anhand der MAC-Adresse ermitteln (über einen Webservice)</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-763"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">readVendor</span><span class="crayon-sy">(</span><span class="crayon-v">id</span><span class="crayon-sy">,</span><span class="crayon-v">callback</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-764"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">url</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'http://api.macvendors.com/'</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">id</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-765"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">request</span><span class="crayon-sy">(</span><span class="crayon-v">url</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">err</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">state</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">body</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-766"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">body</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-767"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">vendor</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">body</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-768"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">callback</span><span class="crayon-sy">(</span><span class="crayon-t">null</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">vendor</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">id</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-769"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-770"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">error</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"Bluetooth id: "</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">id</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">" Kein vendor ermittelt ("</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">err</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">")"</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-771"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">logs</span><span class="crayon-sy">(</span><span class="crayon-v">error</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"info"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-772"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">callback</span><span class="crayon-sy">(</span><span class="crayon-v">error</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">null</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">id</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-773"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-774"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-775"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-776">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-777"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">mdVendor</span><span class="crayon-sy">(</span><span class="crayon-v">md</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-778"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//btCompanyIdentifiers</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-779"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-v">btCompanyIdentifiers</span><span class="crayon-h"> </span><span class="crayon-o">&amp;</span><span class="crayon-v">amp</span><span class="crayon-sy">;</span><span class="crayon-o">&amp;</span><span class="crayon-v">amp</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-e">checkHexWithJoker</span><span class="crayon-sy">(</span><span class="crayon-v">md</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-780"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-e">identifier </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">btCompanyIdentifiers</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-781"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">md</span><span class="crayon-sy">.</span><span class="crayon-e">substr</span><span class="crayon-sy">(</span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-cn">4</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-v">identifier</span><span class="crayon-sy">.</span><span class="crayon-e">substr</span><span class="crayon-sy">(</span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-cn">4</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-782"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">logs</span><span class="crayon-sy">(</span><span class="crayon-s">"Hersteller: "</span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">btCompanyIdentifiers</span><span class="crayon-sy">[</span><span class="crayon-v">identifier</span><span class="crayon-sy">]</span><span class="crayon-sy">.</span><span class="crayon-v">company</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">" über Manufacture Data identifiziert."</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-783"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">btCompanyIdentifiers</span><span class="crayon-sy">[</span><span class="crayon-v">identifier</span><span class="crayon-sy">]</span><span class="crayon-sy">.</span><span class="crayon-v">company</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-784"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-785"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">logs</span><span class="crayon-sy">(</span><span class="crayon-s">"ohne Ergebnis: versucht Hersteller über Manufacture Data zu identifizieren. "</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">md</span><span class="crayon-sy">.</span><span class="crayon-e">substr</span><span class="crayon-sy">(</span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-cn">4</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">"&nbsp;&nbsp;"</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">identifier</span><span class="crayon-sy">.</span><span class="crayon-e">substr</span><span class="crayon-sy">(</span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-cn">4</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-s">"debug"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-786"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-787"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-s">""</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-788"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-789"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-790">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-791">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-792"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">calculateDistance</span><span class="crayon-sy">(</span><span class="crayon-v">rssi</span><span class="crayon-sy">,</span><span class="crayon-v">txPower</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-793"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-e">typeof </span><span class="crayon-v">txPower</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-s">'undefined'</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-794"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">txPower</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">txPowerDefault</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-c">//hard coded power value. Usually ranges between -59 to -65 (mit dem Pi 3 ist -70 näher dran)</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-795"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-796"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-sy">(</span><span class="crayon-v">txPower</span><span class="crayon-h"> </span><span class="crayon-o">&amp;</span><span class="crayon-v">lt</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-cn">75</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">||</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">txPower</span><span class="crayon-h"> </span><span class="crayon-o">&amp;</span><span class="crayon-v">gt</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-cn">55</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-797"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">txPower</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">txPowerDefault</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-c">//hard coded power value. Usually ranges between -59 to -65 (mit dem Pi 3 ist -70 näher dran)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-798"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-799"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">rssi</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-800"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-cn">1.0</span><span class="crayon-sy">;</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-801"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-802"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">ratio</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e ">rssi*</span><span class="crayon-cn">1.0</span><span class="crayon-o">/</span><span class="crayon-v">txPower</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-803"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">ratio</span><span class="crayon-h"> </span><span class="crayon-o">&amp;</span><span class="crayon-v">lt</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-cn">1.0</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-804"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">Math</span><span class="crayon-sy">.</span><span class="crayon-e">pow</span><span class="crayon-sy">(</span><span class="crayon-v">ratio</span><span class="crayon-sy">,</span><span class="crayon-cn">10</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-805"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-806"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-807"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">distance</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">(</span><span class="crayon-cn">0.89976</span><span class="crayon-sy">)</span><span class="crayon-o">*</span><span class="crayon-v">Math</span><span class="crayon-sy">.</span><span class="crayon-e">pow</span><span class="crayon-sy">(</span><span class="crayon-v">ratio</span><span class="crayon-sy">,</span><span class="crayon-cn">7.7095</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-cn">0.111</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-808"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">distance</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-809"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-810"><span class="crayon-sy">}</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-811">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-812"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">datum</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-813"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-e">formatDate</span><span class="crayon-sy">(</span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">Date</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">"YYYY-MM-DD,SS:mm"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-814"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-815">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-816"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">secForm</span><span class="crayon-sy">(</span><span class="crayon-v">duration</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-817"><span class="crayon-c">// Dauer in Sekunden formatiert zu einer lesbaren Zeit:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-818">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-819"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">durationMin</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">Math</span><span class="crayon-sy">.</span><span class="crayon-e">floor</span><span class="crayon-sy">(</span><span class="crayon-e">parseInt</span><span class="crayon-sy">(</span><span class="crayon-v">duration</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-h"> </span><span class="crayon-cn">60</span><span class="crayon-h"> </span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-820"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">durationSek</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">parseInt</span><span class="crayon-sy">(</span><span class="crayon-v">duration</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">%</span><span class="crayon-h"> </span><span class="crayon-cn">60</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-821"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">durationStd</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">Math</span><span class="crayon-sy">.</span><span class="crayon-e">floor</span><span class="crayon-sy">(</span><span class="crayon-v">durationMin</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">/</span><span class="crayon-h"> </span><span class="crayon-cn">60</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-822"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">durationTag</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">Math</span><span class="crayon-sy">.</span><span class="crayon-e">floor</span><span class="crayon-sy">(</span><span class="crayon-v">durationStd</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">/</span><span class="crayon-h"> </span><span class="crayon-cn">24</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-823"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">durationMin</span><span class="crayon-h"> </span><span class="crayon-o">%=</span><span class="crayon-h"> </span><span class="crayon-cn">60</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-c">// Rest bei Division durch 60</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-824"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">durationStd</span><span class="crayon-h"> </span><span class="crayon-o">%=</span><span class="crayon-h"> </span><span class="crayon-cn">24</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-825">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-826"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">duration</span><span class="crayon-h"> </span><span class="crayon-o">===</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-cn">0</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-s">""</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-827"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">duration</span><span class="crayon-h"> </span><span class="crayon-o">&amp;</span><span class="crayon-v">lt</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-cn">60</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">durationSek</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">"s"</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-828"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">duration</span><span class="crayon-h"> </span><span class="crayon-o">&amp;</span><span class="crayon-v">lt</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-cn">3600</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">durationMin</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">"min "</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">durationSek</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">"s"</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-829"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">duration</span><span class="crayon-h"> </span><span class="crayon-o">&amp;</span><span class="crayon-v">lt</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-cn">86400</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">durationStd</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">"h "</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">durationMin</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">"min "</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">durationSek</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">"s"</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">durationTag</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">"d "</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">durationStd</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">"h "</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">durationMin</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">"min "</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">durationSek</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">"s"</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">dateSecNow</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h"> </span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">now</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">new</span><span class="crayon-h"> </span><span class="crayon-e">Date</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">now</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">Math</span><span class="crayon-sy">.</span><span class="crayon-e">floor</span><span class="crayon-sy">(</span><span class="crayon-v">Date</span><span class="crayon-sy">.</span><span class="crayon-e">parse</span><span class="crayon-sy">(</span><span class="crayon-v">now</span><span class="crayon-sy">)</span><span class="crayon-o">/</span><span class="crayon-cn">1000</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-c">// aktuelle Zeit in Sekunden return now; } function clear24() { setState(idInfoCount24blockSpam ,0); setState(idInfoCount24blockBLMac ,0); setState(idInfoCount24blockBLLN ,0); setState(idInfoCount24blockBLMD ,0); setState(idInfoCount24blockDelDev ,0); setState(idInfoCount24blockRssiLow ,0); setState(idInfoCount24blockAutoMax ,0); var list = []; list.length = 0; writeList(list,idDevicesList24blocked); logs("24h Zähler wurden zurückgesetzt","info"); } // ------------------------------ // Array Listen Verarbeitung // ------------------------------ function readList(dp) { // lese ein JSON aus einem Datenpunkt var json = getState(dp).val; if (json === "") return []; try { list = JSON.parse(json); } catch (ex) { list = []; } if(!list) list = []; return list; } function writeList(list,dp) { // schreibt ein JSON in einen Datenpunkt setState(dp, JSON.stringify(list)); } // löscht ein element aus einem array function delElement(element,arr){ var elementPos = findElement(element,arr); if (elementPos &amp;gt; -1) { </span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-830"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">arr</span><span class="crayon-sy">.</span><span class="crayon-e">splice</span><span class="crayon-sy">(</span><span class="crayon-v">elementPos</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-831"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-832"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">arr</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-833"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-834"><span class="crayon-c">// Position eines elements in einem array</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-835"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">findElement</span><span class="crayon-sy">(</span><span class="crayon-v">element</span><span class="crayon-sy">,</span><span class="crayon-v">arr</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-836"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-h"> </span><span class="crayon-o">&amp;</span><span class="crayon-v">lt</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">arr</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-o">++</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-837"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">arr</span><span class="crayon-sy">[</span><span class="crayon-v">i</span><span class="crayon-sy">]</span><span class="crayon-h"> </span><span class="crayon-o">===</span><span class="crayon-h"> </span><span class="crayon-v">element</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-838"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-839"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-840"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-841"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-cn">1</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-842"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-843">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-844">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-845">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-846"><span class="crayon-c">// ------------------------------</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-847"><span class="crayon-c">// Checks</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-848"><span class="crayon-c">// ------------------------------</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-849">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-850"><span class="crayon-c">// prüft ob das gefundene Gerät in der Blacklist ist (liefert true/false)</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-851"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">inBlacklist</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">mac</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h">&nbsp;&nbsp;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-852"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-v">bluetoothBlacklistMac</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-853"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">blacklistStr</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">""</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-854"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-o">=</span><span class="crayon-cn">0</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-o">&amp;</span><span class="crayon-v">lt</span><span class="crayon-sy">;</span><span class="crayon-v">bluetoothBlacklistMac</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-o">++</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-855"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">blacklistStr</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">bluetoothBlacklistMac</span><span class="crayon-sy">[</span><span class="crayon-v">i</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-856"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">mac</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-v">blacklistStr</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-857"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-e">checkJoker</span><span class="crayon-sy">(</span><span class="crayon-v">blacklistStr</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-858"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">mac</span><span class="crayon-sy">.</span><span class="crayon-e">substr</span><span class="crayon-sy">(</span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-v">blacklistStr</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-o">-</span><span class="crayon-cn">1</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-v">blacklistStr</span><span class="crayon-sy">.</span><span class="crayon-e">substr</span><span class="crayon-sy">(</span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-v">blacklistStr</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-o">-</span><span class="crayon-cn">1</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-859"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-860"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-861"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-862"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-863"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-864">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-865"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">inBlacklistLN</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">localName</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h">&nbsp;&nbsp;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-866"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-v">bluetoothBlacklistLocalName</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-867"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-o">=</span><span class="crayon-cn">0</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-o">&amp;</span><span class="crayon-v">lt</span><span class="crayon-sy">;</span><span class="crayon-v">bluetoothBlacklistLocalName</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-o">++</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-868"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">localName</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-v">bluetoothBlacklistLocalName</span><span class="crayon-sy">[</span><span class="crayon-v">i</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-869"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-870"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-871"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-872"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-873">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-874"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">inBlacklistDD</span><span class="crayon-sy">(</span><span class="crayon-v">id</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-875"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">bluetoothBlacklistDeletedDevices</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">readList</span><span class="crayon-sy">(</span><span class="crayon-v">idDevicesBlacklistDel</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-876"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-v">bluetoothBlacklistDeletedDevices</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-877"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-o">=</span><span class="crayon-cn">0</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-o">&amp;</span><span class="crayon-v">lt</span><span class="crayon-sy">;</span><span class="crayon-v">bluetoothBlacklistDeletedDevices</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-o">++</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-878"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">id</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-v">bluetoothBlacklistDeletedDevices</span><span class="crayon-sy">[</span><span class="crayon-v">i</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-879"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-880"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-881"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-882"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-883">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-884"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">inBlacklistMD</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">manufacturerData</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h">&nbsp;&nbsp;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-885"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-v">bluetoothBlacklistManufacturerData</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-886"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">blacklistStr</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">""</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-887"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-o">=</span><span class="crayon-cn">0</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-o">&amp;</span><span class="crayon-v">lt</span><span class="crayon-sy">;</span><span class="crayon-v">bluetoothBlacklistManufacturerData</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-o">++</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h"> </span><span class="crayon-v">blacklistStr</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">bluetoothBlacklistManufacturerData</span><span class="crayon-sy">[</span><span class="crayon-v">i</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">manufacturerData</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-v">blacklistStr</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-c">// TDOD Prüfung auf * am Ende testen (löschen on the fly sorgt für Fehler am Scanende?) if (checkJoker(blacklistStr)) { if (manufacturerData.substr(0,blacklistStr.length-1) == blacklistStr.substr(0,blacklistStr.length-1)) return true; } } } return false; } // prüft ob die MAC/ID ein bekanntes Gerät ist (Vergleich mit der Liste "eigene bekannte Bluetooth Geräte", bluetoothDevices) function inBluetoothDevices (mac) { // TODO: nicht die ganze Liste durchgehen, sondern direkt das Element abfragen (Javascript Optimierung) if(bluetoothDevices) { // hat die Liste "eigene bekannte Bluetooth Geräte" einen Inhalt? for (var device in bluetoothDevices) { if (mac == device) return true; } } return false; } function detailLogAkiv() { return (!(durchlaufLogStop &amp;amp;&amp;amp; (durchlauf &amp;gt; durchlaufLogStopAnzahl)));</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-888"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-889">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-890"><span class="crayon-c">// prüft ob das gefundene Gerät schon bekannt ist auf der übergebende Liste (ID des Datenpunks mit der Liste)</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-891"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">knownDevice</span><span class="crayon-sy">(</span><span class="crayon-v">mac</span><span class="crayon-sy">,</span><span class="crayon-v">iDList</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h">&nbsp;&nbsp;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-892"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">devices</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">readList</span><span class="crayon-sy">(</span><span class="crayon-v">iDList</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-893"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-v">devices</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-894"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-o">=</span><span class="crayon-cn">0</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-o">&amp;</span><span class="crayon-v">lt</span><span class="crayon-sy">;</span><span class="crayon-v">devices</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-o">++</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-895"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">mac</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-v">devices</span><span class="crayon-sy">[</span><span class="crayon-v">i</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-896"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-897"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-898"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-899"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-900">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-901">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-902">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-903"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">checkEnableSetObject</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h"> </span><span class="crayon-c">// prüft ob setObjects() für die Instanz zur Verfügung steht (true/false)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-904"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">enableSetObject</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">getObject</span><span class="crayon-sy">(</span><span class="crayon-s">"system.adapter.javascript."</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">instance</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-m">native</span><span class="crayon-sy">.</span><span class="crayon-v">enableSetObject</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-905"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">enableSetObject</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-906"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-907">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-908"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">getScanmodus</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-909"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">scanmodus</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">serviceUUIDs</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-910"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">automaticMaxDevice</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">getState</span><span class="crayon-sy">(</span><span class="crayon-v">idControlAutomaticMax</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-v">val</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-911"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">anzahlIst</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">readList</span><span class="crayon-sy">(</span><span class="crayon-v">idDevicesListAll</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-912"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">scanmodus</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-913"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-o">!</span><span class="crayon-v">automaticOn</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-914"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">scanmodus</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'alle'</span><span class="crayon-sy">;</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-915"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-916"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">anzahlIst</span><span class="crayon-h"> </span><span class="crayon-o">&amp;</span><span class="crayon-v">lt</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">automaticMaxDevice</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h"> </span><span class="crayon-v">scanmodus</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'alle &amp;gt; '</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">anzahlIst</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">' von max. '</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">automaticMaxDevice</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">" gefundene Geräte (Automatikmodus ein)"</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-917"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-918"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">scanmodus</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'Automatik: Max. Anzahl '</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">anzahlIst</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">' von '</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">automaticMaxDevice</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-919"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-s">' Geräten erreicht. Nur schon angelegte oder eigene Geräte werden gescannt.'</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-920"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// TODO: die Logik auch erweitern, dass nur noch bekannte Geräte im Scan eingetragen sind&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-921"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-922"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-923"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-924"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-o">!</span><span class="crayon-e">getState</span><span class="crayon-sy">(</span><span class="crayon-v">idScan</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-v">val</span><span class="crayon-sy">)</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-v">scanmodus</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'aus'</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-925"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">noble</span><span class="crayon-sy">.</span><span class="crayon-v">state</span><span class="crayon-h"> </span><span class="crayon-o">!=</span><span class="crayon-h"> </span><span class="crayon-s">'poweredOn'</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-v">scanmodus</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'aus - noble module nicht aktiv'</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-926"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">writeList</span><span class="crayon-sy">(</span><span class="crayon-v">scanmodus</span><span class="crayon-sy">,</span><span class="crayon-v">idInfoScanModus</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-927"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-928">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-929"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">checkHexWithJoker</span><span class="crayon-sy">(</span><span class="crayon-v">data</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// prüft Manufactura Data oder ID (MAC ohne Doppelpunkte) auf Gültigkeit. Ein * als Joker am Ende ist erlaubt.</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-930"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">regex</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-o">/</span><span class="crayon-o">^</span><span class="crayon-sy">(</span><span class="crayon-sy">[</span><span class="crayon-v">a</span><span class="crayon-o">-</span><span class="crayon-v">f0</span><span class="crayon-o">-</span><span class="crayon-cn">9</span><span class="crayon-sy">]</span><span class="crayon-o">+</span><span class="crayon-sy">)</span><span class="crayon-sy">(</span><span class="crayon-sy">\</span><span class="crayon-o">*</span><span class="crayon-sy">{</span><span class="crayon-cn">0</span><span class="crayon-sy">,</span><span class="crayon-cn">1</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">$</span><span class="crayon-o">/</span><span class="crayon-v">i</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// https://regex101.com/#javascript</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-931"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">data</span><span class="crayon-sy">.</span><span class="crayon-e">match</span><span class="crayon-sy">(</span><span class="crayon-v">regex</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-932"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//logs('Data "' + data + '": ungültiges Format (a-f, 0-9 sind erlaubt und * am Ende als Wildcard)',"warn");</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-933"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp; </span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-934"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-935">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-936"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">checkJoker</span><span class="crayon-sy">(</span><span class="crayon-v">str</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-937"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">str</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-938"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">joker</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">str</span><span class="crayon-sy">.</span><span class="crayon-e">substr</span><span class="crayon-sy">(</span><span class="crayon-v">str</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-v">str</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-939"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">joker</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-s">"*"</span><span class="crayon-h"> </span><span class="crayon-sy">?</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-940"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-941"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-942"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-943">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-944"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">checkData</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">list</span><span class="crayon-sy">,</span><span class="crayon-v">listName</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// prüft ob in den Blacklists nur gültige Hexwerte </span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-945"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// (kleine Buchstaben von a-f und Ziffern von 0-9) eingegeben wurden</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-946"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//&nbsp;&nbsp;und lLternativ ein&nbsp;&nbsp;* als Joker am Ende</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-947"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Länge wird nicht geprüft!</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-948"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-v">list</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-949"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">data</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">""</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-950"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-o">=</span><span class="crayon-cn">0</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-o">&amp;</span><span class="crayon-v">lt</span><span class="crayon-sy">;</span><span class="crayon-v">list</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-o">++</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-951"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">data</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">list</span><span class="crayon-sy">[</span><span class="crayon-v">i</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-952"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-o">!</span><span class="crayon-e">checkHexWithJoker</span><span class="crayon-sy">(</span><span class="crayon-v">data</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-953"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">logs</span><span class="crayon-sy">(</span><span class="crayon-s">'ungültige Daten in '</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">listName</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">': "'</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">data</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">'" (a-f, 0-9 sind erlaubt und * am Ende als Joker)'</span><span class="crayon-sy">,</span><span class="crayon-s">'warn'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-954"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-955"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//if(checkJoker(data)) logs(listName + ": " + data + " enthält Joker: " + colorTrue,"debug2");</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-956"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-957"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">logs</span><span class="crayon-sy">(</span><span class="crayon-s">"Liste "</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">listName</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">" auf gültige Werte geprüft. Anzahl Einträge: "</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-sy">,</span><span class="crayon-s">"info"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-958"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-959"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-960">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-961">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-962"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// zum löschen markierte Geräte löschen</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-963"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">delDelDevices</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-964"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">list</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">readList</span><span class="crayon-sy">(</span><span class="crayon-v">idDevicesListAll</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-c">// Liest die Liste aller als Datenpunkte angelegter Geräte ein.</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-965"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-o">=</span><span class="crayon-cn">0</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-o">&amp;</span><span class="crayon-v">lt</span><span class="crayon-sy">;</span><span class="crayon-v">list</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-o">++</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h"> </span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">id</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">list</span><span class="crayon-sy">[</span><span class="crayon-v">i</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">del</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">getState</span><span class="crayon-sy">(</span><span class="crayon-v">devicePfad</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">id</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">".Control.Delete_Device"</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-v">val</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-v">del</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h"> </span><span class="crayon-e">deviceDpDelete</span><span class="crayon-sy">(</span><span class="crayon-v">id</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-c">// alle Datenpunkte des Device löschen delDevice(id,idDevicesListAll); // aus der Liste bekannte Geräte entfernen addDevice(id,idDevicesBlacklistDel); // ID auf die Blacklist der manuell gelöschten Geräte setzen // Infoeintrag elöschtes Gerät var localName = getState(devicePfad + id + ".Name_localName").val; var manufacturerData = getState(devicePfad + id + ".details.manufacturerData").val; setState(idNewDeviceBlocked ,id + "," + "Device_Deleted" + "," + datum() + "," + localName + "," + manufacturerData); logs("Bluetooth Gerät: " + id + ", gelöscht.","info","darkorange"); if(getState(idControlAutomaticOn).val) { // Automatikmodus an? var maxDevice = getState(idControlAutomaticMax).val; var anzDevice = readList(idDevicesListAll).length + 1; logs("maxDevice = " + maxDevice + ", anzDevice = " + anzDevice,"debug","red"); if(anzDevice == maxDevice) { // Liste Maximum erreicht? setState(idControlAutomaticMax, maxDevice-1); // dann Maximum um eins reduzieren logs("Bluetooth Gerät gelöscht. Maximale Anzahl anzulegender Devices um eins reduziert.","info"); } } } } } // ------------------------------ // Verwaltung Listen // ------------------------------ function addDevice(id,idList) { // Liste der bekannten Devices (ohne Blacklist) in einem Datenpunkt pflegen .-&amp;gt; neues Device hinzufügen</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-966"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">devices</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">readList</span><span class="crayon-sy">(</span><span class="crayon-v">idList</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-967"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">devices</span><span class="crayon-sy">.</span><span class="crayon-e">push</span><span class="crayon-sy">(</span><span class="crayon-v">id</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-968"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">writeList</span><span class="crayon-sy">(</span><span class="crayon-v">devices</span><span class="crayon-sy">,</span><span class="crayon-v">idList</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-969"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-v">idList</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-v">idDevicesListAll</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-970"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">logs</span><span class="crayon-sy">(</span><span class="crayon-s">"Device: "</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">id</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">", zu den bekannten Devices hinzugefügt"</span><span class="crayon-sy">,</span><span class="crayon-s">"info"</span><span class="crayon-sy">,</span><span class="crayon-s">"darkmagenta"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-971"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">anzahlBluetoothDevicesNeu</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">anzahlBluetoothDevicesNeu</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-972"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-973"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-974">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-975"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">delDevice</span><span class="crayon-sy">(</span><span class="crayon-v">id</span><span class="crayon-sy">,</span><span class="crayon-v">idList</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Liste der bekannten Devices (ohne Blacklist) in einem Datenpunkt pflegen .-&amp;gt; Device aus Liste löschen</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-976"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">devices</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">readList</span><span class="crayon-sy">(</span><span class="crayon-v">idList</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-977"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">delElement</span><span class="crayon-sy">(</span><span class="crayon-v">id</span><span class="crayon-sy">,</span><span class="crayon-v">devices</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-978"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">writeList</span><span class="crayon-sy">(</span><span class="crayon-v">devices</span><span class="crayon-sy">,</span><span class="crayon-v">idList</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-979"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-v">idList</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-v">idDevicesListAll</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-980"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">logs</span><span class="crayon-sy">(</span><span class="crayon-s">"Device: "</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">id</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">", von den bekannten Devices gelöscht"</span><span class="crayon-sy">,</span><span class="crayon-s">"info"</span><span class="crayon-sy">,</span><span class="crayon-s">"darkmagenta"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-981"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">anzahlBluetoothDevicesNeu</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">anzahlBluetoothDevicesNeu</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-982"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-983"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-984">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-985">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-986"><span class="crayon-c">// ------------------------------</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-987"><span class="crayon-c">// Verwaltung Datenpunkte</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-988"><span class="crayon-c">// ------------------------------</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-989">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-990"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">deviceDpAnlegen</span><span class="crayon-sy">(</span><span class="crayon-v">id</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-991"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-e">checkEnableSetObject</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h"> </span><span class="crayon-c">// wenn setObject nicht in der Instanz freigeschaltet ist, wird der Channel nicht angelegt</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-992"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// CHANNEL anlegen</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-993"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">setObject</span><span class="crayon-sy">(</span><span class="crayon-v">instanz</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">devicePfad</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">id</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-994"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">common</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-995"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">name</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-i">id</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-996"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-997"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">type</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'channel'</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-998"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">err</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-999"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">err</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-e">logs</span><span class="crayon-sy">(</span><span class="crayon-s">'Cannot write object: '</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">err</span><span class="crayon-sy">,</span><span class="crayon-s">"error"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1000"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1001"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1002"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Datenpunkte anlegen</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1003"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//for (var datenpunkt in deviceDatenpunkte) {</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1004"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//&nbsp;&nbsp;&nbsp;&nbsp;createState(devicePfad + id + "." + datenpunkt, deviceDatenpunkte[datenpunkt].init, deviceDatenpunkte[datenpunkt].dp);</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1005"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//&nbsp;&nbsp;&nbsp;&nbsp;logs("neuer DP Bluetooth Device: " + devicePfad + id + "." + datenpunkt,"debug","gold");</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1006"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//}</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1007"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1008">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1009"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">deviceDpDelete</span><span class="crayon-sy">(</span><span class="crayon-v">id</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1010"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Datenpunkte löschen</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1011"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-e">datenpunkt </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">deviceDatenpunkte</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1012"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">deleteState</span><span class="crayon-sy">(</span><span class="crayon-v">devicePfad</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">id</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">"."</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">datenpunkt</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1013"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">logs</span><span class="crayon-sy">(</span><span class="crayon-s">"DP Bluetooth Device gelöscht: "</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">devicePfad</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">id</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">"."</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">datenpunkt</span><span class="crayon-sy">,</span><span class="crayon-s">"info"</span><span class="crayon-sy">,</span><span class="crayon-s">"darkorange"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1014"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1015"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1016">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1017"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">trenner</span><span class="crayon-sy">(</span><span class="crayon-v">str</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1018"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">space</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">""</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1019"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">str</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-h"> </span><span class="crayon-o">&amp;</span><span class="crayon-v">gt</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-v">space</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">" / "</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1020"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">space</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1021"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1022">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1023"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">setChannelName</span><span class="crayon-sy">(</span><span class="crayon-v">id</span><span class="crayon-sy">,</span><span class="crayon-v">localName</span><span class="crayon-sy">,</span><span class="crayon-v">vendor</span><span class="crayon-sy">,</span><span class="crayon-v">manufacturerData</span><span class="crayon-sy">,</span><span class="crayon-v">name</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1024"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-o">!</span><span class="crayon-e">checkEnableSetObject</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-st">return</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-c">// wenn setObject nicht verfügbar ist, steht die Funktion nicht zur Verfügung</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1025"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// CHANNEL anpassen</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1026"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//var chName = id;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1027"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">chName</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">""</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1028"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">ownName</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">""</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1029">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1030"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">localName</span><span class="crayon-sy">)</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1031"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">localName</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-h"> </span><span class="crayon-o">&amp;</span><span class="crayon-v">gt</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-cn">2</span><span class="crayon-sy">)</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-v">chName</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">localName</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1032"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1033"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">vendor</span><span class="crayon-sy">)</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">chName</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">chName</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-e">trenner</span><span class="crayon-sy">(</span><span class="crayon-v">chName</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">vendor</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1034"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">manufacturerData</span><span class="crayon-sy">)</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">chName</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">chName</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-e">trenner</span><span class="crayon-sy">(</span><span class="crayon-v">chName</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">manufacturerData</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1035"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1036"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// eigenes Gerät mit eigenem Namen: dann wird der eigene Name als Channelname gesetzt</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1037"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-e">inBluetoothDevices</span><span class="crayon-sy">(</span><span class="crayon-v">id</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">ownName</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">bluetoothDevices</span><span class="crayon-sy">[</span><span class="crayon-v">id</span><span class="crayon-sy">]</span><span class="crayon-sy">.</span><span class="crayon-v">name</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-c">// eigener vergebener Name in bekannten Bluetooth Devices vergeben?</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1038"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">ownName</span><span class="crayon-sy">)</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">chName</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">ownName</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1039">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1040"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">name</span><span class="crayon-sy">)</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">chName</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">name</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1041">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1042"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">setObject</span><span class="crayon-sy">(</span><span class="crayon-v">instanz</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">devicePfad</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">id</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1043"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">common</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1044"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">name</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-i">chName</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1045"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1046"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">type</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-s">'channel'</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1047"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">err</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1048"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">err</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-e">logs</span><span class="crayon-sy">(</span><span class="crayon-s">'setChannelName() Cannot write object: '</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">err</span><span class="crayon-sy">,</span><span class="crayon-s">"error"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1049"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1050"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1051">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1052"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">nichtErreichbar</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1053"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-o">=</span><span class="crayon-cn">0</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-o">&amp;</span><span class="crayon-v">lt</span><span class="crayon-sy">;</span><span class="crayon-v">bekannteDevicesNichtErreichbar</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-o">++</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1054"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">id</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">bekannteDevicesNichtErreichbar</span><span class="crayon-sy">[</span><span class="crayon-v">i</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1055"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-o">!</span><span class="crayon-e">inBlacklist</span><span class="crayon-sy">(</span><span class="crayon-v">id</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1056"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">setState</span><span class="crayon-sy">(</span><span class="crayon-v">devicePfad</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">id</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">".lastState"</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-sy">,</span><span class="crayon-t">false</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1057"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">setState</span><span class="crayon-sy">(</span><span class="crayon-v">devicePfad</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">id</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">".lastStateCount"</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-sy">,</span><span class="crayon-e">getState</span><span class="crayon-sy">(</span><span class="crayon-v">devicePfad</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">id</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">".lastStateCount"</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-v">val</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1058"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1059"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1060"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1061">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1062"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">getBlacklist</span><span class="crayon-sy">(</span><span class="crayon-v">idDP</span><span class="crayon-sy">,</span><span class="crayon-v">blacklist</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1063"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-v">bluetoothBlacklistMac</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h"> </span><span class="crayon-c">// wenn die Blacklist mit den MAC Adressen nicht leer ist</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1064"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//var list = readList(idDP); // wenn sich die Liste zur Laufzeit ändern soll (dann muss noch zusätzlich das Ergebnis mit der Liste im Script verglichen werden)</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1065"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">list</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1066"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-o">=</span><span class="crayon-cn">0</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-o">&amp;</span><span class="crayon-v">lt</span><span class="crayon-sy">;</span><span class="crayon-v">blacklist</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">i</span><span class="crayon-o">++</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1067"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">list</span><span class="crayon-sy">.</span><span class="crayon-e">push</span><span class="crayon-sy">(</span><span class="crayon-v">blacklist</span><span class="crayon-sy">[</span><span class="crayon-v">i</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1068"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1069"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-e">writeList</span><span class="crayon-sy">(</span><span class="crayon-v">list</span><span class="crayon-sy">,</span><span class="crayon-v">idDP</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1070"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1071"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1072">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1073"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">incDpCounter</span><span class="crayon-sy">(</span><span class="crayon-v">dp</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">incVal</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">id</span><span class="crayon-sy">,</span><span class="crayon-v">localName</span><span class="crayon-sy">,</span><span class="crayon-v">manufacturerData</span><span class="crayon-sy">,</span><span class="crayon-v">reason</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// erhöht einen Datenpunkt um einen Wert (ohne Angabe +1)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1074"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-o">!</span><span class="crayon-e">knownDevice</span><span class="crayon-sy">(</span><span class="crayon-v">id</span><span class="crayon-sy">,</span><span class="crayon-v">idDevicesList24blocked</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1075"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">addDevice</span><span class="crayon-sy">(</span><span class="crayon-v">id</span><span class="crayon-sy">,</span><span class="crayon-v">idDevicesList24blocked</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1076"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-e">typeof </span><span class="crayon-v">incVal</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-s">'undefinied'</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-v">incVal</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1077"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">val</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">getState</span><span class="crayon-sy">(</span><span class="crayon-v">dp</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-v">val</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1078"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">val</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">val</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">incVal</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1079"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">setState</span><span class="crayon-sy">(</span><span class="crayon-v">dp</span><span class="crayon-sy">,</span><span class="crayon-v">val</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1080"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">setState</span><span class="crayon-sy">(</span><span class="crayon-i">idNewDeviceBlocked</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-sy">,</span><span class="crayon-v">id</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">","</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">reason</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">","</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-e">datum</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">","</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">localName</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">","</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">manufacturerData</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1081"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1082"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1083">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1084"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">setUptime</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1085"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// setzt den Datenpunkt für Skript-Uptime als formatierte Zeit und gibt die Uptime in Sekunden zurück</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1086"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">uptime</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">dateSecNow</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-o">-</span><span class="crayon-v">timeInSecScriptStart</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1087"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">setState</span><span class="crayon-sy">(</span><span class="crayon-v">idInfoScriptUptime</span><span class="crayon-sy">,</span><span class="crayon-e">secForm</span><span class="crayon-sy">(</span><span class="crayon-v">uptime</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1088"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">uptime</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1089"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1090">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1091">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1092"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">setAutomaticMaxDevice</span><span class="crayon-sy">(</span><span class="crayon-v">wert</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h"> </span><span class="crayon-c">// setzt einen gültigen Wert für die max. Anzahl der anzulegenden Devices im Automatikmodus</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1093"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">min</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-cn">1</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1094"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">max</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">10</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1095"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">defaultMax</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">10</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1096"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">autoMax</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1097">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1098"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-e">typeof </span><span class="crayon-v">wert</span><span class="crayon-h"> </span><span class="crayon-o">!=</span><span class="crayon-h"> </span><span class="crayon-s">"undefined"</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1099"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">autoMax</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">wert</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1100"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1101"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">autoMax</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">defaultMax</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1102"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1103">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1104"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//TODO wert &amp;amp; autoMax prüfen auf:</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1105"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// ist Number</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1106">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1107"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">autoMax</span><span class="crayon-h"> </span><span class="crayon-o">&amp;</span><span class="crayon-v">lt</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">min</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h"> </span><span class="crayon-e">logs</span><span class="crayon-sy">(</span><span class="crayon-s">"automaticMaxDevice nicht kleiner als 1 -&amp;gt; auf 1 angepasst"</span><span class="crayon-sy">,</span><span class="crayon-s">"warn"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1108"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">autoMax</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">min</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1109"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1110"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">autoMax</span><span class="crayon-h"> </span><span class="crayon-o">&amp;</span><span class="crayon-v">gt</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">max</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1111"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">logs</span><span class="crayon-sy">(</span><span class="crayon-s">"automaticMaxDevice nicht größer als 50 -&amp;gt; auf 50 angepasst"</span><span class="crayon-sy">,</span><span class="crayon-s">"warn"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1112"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">autoMax</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">max</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1113"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1114"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">automaticMaxDevice</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">autoMax</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1115"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">setState</span><span class="crayon-sy">(</span><span class="crayon-v">idControlAutomaticMax</span><span class="crayon-sy">,</span><span class="crayon-v">autoMax</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1116"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1117">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1118"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">scanEndeVerarbeiten</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1119"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">durchlauf</span><span class="crayon-h"> </span><span class="crayon-o">&amp;</span><span class="crayon-v">gt</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1120"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1121"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">devicesCount</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">readList</span><span class="crayon-sy">(</span><span class="crayon-v">idDevicesListAll</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1122"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">devicesCountNe</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">bekannteDevicesNichtErreichbar</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1123">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1124"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">logs</span><span class="crayon-sy">(</span><span class="crayon-s">"Bluetooth Scan "</span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">durchlauf</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">" OK. Devices gescannt: "</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1125"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">anzahlBluetoothDevices</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">", davon neu: "</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">anzahlBluetoothDevicesNeu</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1126"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">" / Devices in DB: "</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">devicesCount</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1127"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">", davon nicht erreichbar: "</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">devicesCountNe</span><span class="crayon-sy">,</span><span class="crayon-s">"debug2"</span><span class="crayon-sy">,</span><span class="crayon-s">"gray"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1128"><span class="crayon-c">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (detailLogAkiv()) logs("Devices in Datenbank: " + JSON.parse(getState(idDevicesListAll).val),"debug");</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1129"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-e">detailLogAkiv</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-e">logs</span><span class="crayon-sy">(</span><span class="crayon-s">"Devices in Datenbank: "</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-e">readList</span><span class="crayon-sy">(</span><span class="crayon-v">idDevicesListAll</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-s">"debug2"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1130"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">nichtErreichbar</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-c">// nicht erreichbare Devices als "Nicht Erreichbar kennzeichnen";</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1131">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1132"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">setState</span><span class="crayon-sy">(</span><span class="crayon-i">idDevicesCountAll</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">,</span><span class="crayon-v">devicesCount</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1133"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">setState</span><span class="crayon-sy">(</span><span class="crayon-i">idDevicesCountOffline</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">,</span><span class="crayon-v">devicesCountNe</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1134"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">setState</span><span class="crayon-sy">(</span><span class="crayon-i">idDevicesCountOnline</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-sy">,</span><span class="crayon-sy">(</span><span class="crayon-v">devicesCount</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-v">devicesCountNe</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1135"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">setState</span><span class="crayon-sy">(</span><span class="crayon-i">idInfoCountScans</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-sy">,</span><span class="crayon-v">durchlauf</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1136">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1137"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">writeList</span><span class="crayon-sy">(</span><span class="crayon-i">bekannteDevicesNichtErreichbar</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">,</span><span class="crayon-v">idDevicesOffline</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1138"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">writeList</span><span class="crayon-sy">(</span><span class="crayon-i">bekannteDevicesErreichbar</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-sy">,</span><span class="crayon-v">idDevicesOnline</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1139"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">writeList</span><span class="crayon-sy">(</span><span class="crayon-i">blacklistDevicesErreichbar</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">,</span><span class="crayon-v">idDevicesBlacklistMacOnline</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1140"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1141">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1142"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">anzahlBluetoothDevices</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1143"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">anzahlBluetoothDevicesNeu</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1144">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1145"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1146">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1147">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1148"><span class="crayon-c">// ------------------------------</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1149"><span class="crayon-c">// SCAN</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1150"><span class="crayon-c">// ------------------------------</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1151">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1152">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1153"><span class="crayon-c">//&nbsp;&nbsp;#### START SCAN ####&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#### START SCAN ####</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1154">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1155"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">startScan</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// #### START SCAN ####</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1156"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">scan</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">getState</span><span class="crayon-sy">(</span><span class="crayon-v">idScan</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-v">val</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Abfrage ob Scanner ein- (true) oder ausgeschaltet (false) ist</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1157"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-o">!</span><span class="crayon-v">scan</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-st">return</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// ist der Scanner eingeschaltet? Nein, return</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1158">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1159"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">durchlauf</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">durchlauf</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1160">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1161"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">setUptime</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Laufzeit des Skripts aktualisieren</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1162"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">setState</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">(</span><span class="crayon-i">idInfoScanStatus</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-sy">,</span><span class="crayon-s">"Scan läuft"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1163">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1164"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">bekannteDevicesNichtErreichbar</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">readList</span><span class="crayon-sy">(</span><span class="crayon-v">idDevicesListAll</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// zum Start des Durchlaufs alle bekannten Devices übernehmen und mit jedem Treffer um eins reduziren</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1165"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">bekannteDevicesErreichbar</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// zum Start des Durchlaufs die Liste zurücksetzen und dann um jedes gefundene Gerät ergänzen</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1166"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">blacklistDevicesErreichbar</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-sy">]</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// zum Start des Durchlaufs die erreichbaren Devices der Blacklist zurücksetzen. Errecihbare Blacklistgeräte werden während des Durchlaufs hinzugefügt.</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1167"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1168"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">noble</span><span class="crayon-sy">.</span><span class="crayon-e">startScanning</span><span class="crayon-sy">(</span><span class="crayon-v">serviceUUIDs</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">allowDuplicates</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1169"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//noble.on('discover', onDiscover);</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1170"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//noble.startScanning(serviceUUIDs, allowDuplicates[, callback(error)]); // particular UUID's</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1171"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//noble.startScanning([],true);</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1172"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-e">detailLogAkiv</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-e">logs</span><span class="crayon-sy">(</span><span class="crayon-s">"####### start scanning - Durchlauf ("</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">durchlauf</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">") #######"</span><span class="crayon-sy">,</span><span class="crayon-s">"debug1"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1173"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">setTimeout</span><span class="crayon-sy">(</span><span class="crayon-v">stopScan</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">scandauer</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1174"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">setTimeout</span><span class="crayon-sy">(</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1175"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">timeInSecScan</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">timeInSecScan</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">scandauer</span><span class="crayon-o">/</span><span class="crayon-cn">1000</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1176"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">setState</span><span class="crayon-sy">(</span><span class="crayon-v">idInfoScanDuration</span><span class="crayon-sy">,</span><span class="crayon-e">secForm</span><span class="crayon-sy">(</span><span class="crayon-v">timeInSecScan</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Zeit, die bisher gescannt wurde als Info setzen</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1177"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">setState</span><span class="crayon-sy">(</span><span class="crayon-i">idInfoScanStatus</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-sy">,</span><span class="crayon-s">"Scan Durchlauf beendet"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1178"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">scandauer</span><span class="crayon-o">-</span><span class="crayon-cn">100</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1179"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1180">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1181">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1182">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1183"><span class="crayon-c">//&nbsp;&nbsp;#### STOP SCAN ####&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; #### STOP SCAN ####</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1184">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1185"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">stopScan</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// #### STOP SCAN ####</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1186"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//noble.removeListener('discover', onDiscover);</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1187"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">noble</span><span class="crayon-sy">.</span><span class="crayon-e">stopScanning</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1188">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1189">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1190"><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">durchlauf</span><span class="crayon-h"> </span><span class="crayon-o">&amp;</span><span class="crayon-v">gt</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1191"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1192"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">devicesCount</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">readList</span><span class="crayon-sy">(</span><span class="crayon-v">idDevicesListAll</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1193"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">devicesCountNe</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">bekannteDevicesNichtErreichbar</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1194">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1195"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">logs</span><span class="crayon-sy">(</span><span class="crayon-s">"Bluetooth Scan "</span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">durchlauf</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">" OK. Devices gescannt: "</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1196"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">anzahlBluetoothDevices</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">", davon neu: "</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">anzahlBluetoothDevicesNeu</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1197"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">" / Devices in DB: "</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">devicesCount</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1198"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">", davon nicht erreichbar: "</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">devicesCountNe</span><span class="crayon-sy">,</span><span class="crayon-s">"debug2"</span><span class="crayon-sy">,</span><span class="crayon-s">"gray"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1199"><span class="crayon-c">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if (detailLogAkiv()) logs("Devices in Datenbank: " + JSON.parse(getState(idDevicesListAll).val),"debug");</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1200"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-e">detailLogAkiv</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-e">logs</span><span class="crayon-sy">(</span><span class="crayon-s">"Devices in Datenbank: "</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-e">readList</span><span class="crayon-sy">(</span><span class="crayon-v">idDevicesListAll</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-s">"debug2"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1201"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">nichtErreichbar</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-c">// nicht erreichbare Devices als "Nicht Erreichbar kennzeichnen";</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1202">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1203"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">setState</span><span class="crayon-sy">(</span><span class="crayon-i">idDevicesCountAll</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">,</span><span class="crayon-v">devicesCount</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1204"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">setState</span><span class="crayon-sy">(</span><span class="crayon-i">idDevicesCountOffline</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">,</span><span class="crayon-v">devicesCountNe</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1205"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">setState</span><span class="crayon-sy">(</span><span class="crayon-i">idDevicesCountOnline</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-sy">,</span><span class="crayon-sy">(</span><span class="crayon-v">devicesCount</span><span class="crayon-h"> </span><span class="crayon-o">-</span><span class="crayon-h"> </span><span class="crayon-v">devicesCountNe</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1206"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">setState</span><span class="crayon-sy">(</span><span class="crayon-i">idInfoCountScans</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-sy">,</span><span class="crayon-v">durchlauf</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1207">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1208"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">writeList</span><span class="crayon-sy">(</span><span class="crayon-i">bekannteDevicesNichtErreichbar</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">,</span><span class="crayon-v">idDevicesOffline</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1209"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">writeList</span><span class="crayon-sy">(</span><span class="crayon-i">bekannteDevicesErreichbar</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-sy">,</span><span class="crayon-v">idDevicesOnline</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1210"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">writeList</span><span class="crayon-sy">(</span><span class="crayon-i">blacklistDevicesErreichbar</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">,</span><span class="crayon-v">idDevicesBlacklistMacOnline</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1211"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1212">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1213"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">anzahlBluetoothDevices</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1214"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">anzahlBluetoothDevicesNeu</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1215"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//scanEndeVerarbeiten();</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1216"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//setTimeout(delDelDevices, 1000); // zu löschende Geräte aufräumen</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1217">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1218">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1219"><span class="crayon-c">//&nbsp;&nbsp;&nbsp;&nbsp;delDelDevices( function(){</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1220"><span class="crayon-c">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;scanEndeVerarbeiten(); // TODO: Start verhindern, bis die Funktion durchgelaufen ist</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1221"><span class="crayon-c">//&nbsp;&nbsp;&nbsp;&nbsp;});</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1222">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1223"><span class="crayon-c">//&nbsp;&nbsp;&nbsp;&nbsp;scanEndeVerarbeiten( function(){</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1224"><span class="crayon-c">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;delDelDevices(); // TODO: Start verhindern, bis die Funktion durchgelaufen ist</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1225"><span class="crayon-c">//&nbsp;&nbsp;&nbsp;&nbsp;});</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1226">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1227"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1228"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">startScan</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-c">// nach dem Durchlauf des Scans (Ablauf Scandauer), Scan neu starten</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1229"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1230">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1231">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1232">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1233">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1234"><span class="crayon-c">//&nbsp;&nbsp;#### DISCOVER ####&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;#### DISCOVER ####</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1235">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1236"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">onDiscover</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">peripheral</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// #### DISCOVER ####</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1237">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1238"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">gescanteMacAuswerten</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-c">// Anmerkung: wird bei vorzeitigem Verlassen der Funktion mit return nicht benötigt</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1239"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">advertisement</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">peripheral</span><span class="crayon-sy">.</span><span class="crayon-v">advertisement</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1240">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1241"><span class="crayon-c">//&nbsp;&nbsp;&nbsp;&nbsp;var macAddress&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;= peripheral.uuid;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1242"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">id</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">peripheral</span><span class="crayon-sy">.</span><span class="crayon-v">id</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-c">// gibt als id die mac-Adresse raus, ohne Doppelpunkte (wie bei uuid auch)</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1243"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">rssi</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">peripheral</span><span class="crayon-sy">.</span><span class="crayon-v">rssi</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1244"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">addressType</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">peripheral</span><span class="crayon-sy">.</span><span class="crayon-v">addressType</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1245"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">address</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">peripheral</span><span class="crayon-sy">.</span><span class="crayon-v">address</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1246"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">connectable</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">peripheral</span><span class="crayon-sy">.</span><span class="crayon-v">connectable</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1247">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1248"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">localName</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">advertisement</span><span class="crayon-sy">.</span><span class="crayon-v">localName</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1249"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-e">typeof </span><span class="crayon-v">localName</span><span class="crayon-h"> </span><span class="crayon-o">!=</span><span class="crayon-h"> </span><span class="crayon-s">"undefined"</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1250"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">localName</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">localName</span><span class="crayon-sy">.</span><span class="crayon-e">replace</span><span class="crayon-sy">(</span><span class="crayon-o">/</span><span class="crayon-sy">\</span><span class="crayon-v">u0000</span><span class="crayon-o">/</span><span class="crayon-v">g</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">''</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// entfernt null bytes (z.B. vom Apple Pencil)</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1251"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1252"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-o">!</span><span class="crayon-v">localName</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-v">localName</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">""</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1253"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1254"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">serviceData</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">advertisement</span><span class="crayon-sy">.</span><span class="crayon-v">serviceData</span><span class="crayon-sy">;</span><span class="crayon-h"> </span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1255"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">txPl</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">advertisement</span><span class="crayon-sy">.</span><span class="crayon-v">txPowerLevel</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1256"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">serviceUuids</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">advertisement</span><span class="crayon-sy">.</span><span class="crayon-v">serviceUuids</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1257"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">herstellerBuffer</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">advertisement</span><span class="crayon-sy">.</span><span class="crayon-v">manufacturerData</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1258"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">manufacturerData</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">''</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1259"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-e">typeof </span><span class="crayon-v">herstellerBuffer</span><span class="crayon-h"> </span><span class="crayon-o">!=</span><span class="crayon-h"> </span><span class="crayon-s">"undefined"</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1260"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">manufacturerData</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">herstellerBuffer</span><span class="crayon-sy">.</span><span class="crayon-e">toString</span><span class="crayon-sy">(</span><span class="crayon-s">'hex'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1261"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//manufacturerData = herstellerBuffer.toString('hex').match(/.{2}/g).join("");</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1262"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-v">manufacturerData</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">""</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1263">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1264"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">knowDevice</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">knownDevice</span><span class="crayon-sy">(</span><span class="crayon-v">id</span><span class="crayon-sy">,</span><span class="crayon-v">idDevicesListAll</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1265">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1266">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1267"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Blacklist</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1268"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// ----------------------------------</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1269"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">blacklist</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1270"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-e">inBlacklist</span><span class="crayon-sy">(</span><span class="crayon-v">id</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1271"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">incDpCounter</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-i">idInfoCount24blockBLMac</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-sy">,</span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-v">id</span><span class="crayon-sy">,</span><span class="crayon-v">localName</span><span class="crayon-sy">,</span><span class="crayon-v">manufacturerData</span><span class="crayon-sy">,</span><span class="crayon-s">"Blacklist_Mac"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1272"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">blacklist</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1273"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1274"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-e">inBlacklistLN</span><span class="crayon-sy">(</span><span class="crayon-v">localName</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1275"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">incDpCounter</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-i">idInfoCount24blockBLLN</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">,</span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-v">id</span><span class="crayon-sy">,</span><span class="crayon-v">localName</span><span class="crayon-sy">,</span><span class="crayon-v">manufacturerData</span><span class="crayon-sy">,</span><span class="crayon-s">"Blacklist_Local_Name"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1276"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">blacklist</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1277"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1278"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-e">inBlacklistMD</span><span class="crayon-sy">(</span><span class="crayon-v">manufacturerData</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1279"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">incDpCounter</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-i">idInfoCount24blockBLMD</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">,</span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-v">id</span><span class="crayon-sy">,</span><span class="crayon-v">localName</span><span class="crayon-sy">,</span><span class="crayon-v">manufacturerData</span><span class="crayon-sy">,</span><span class="crayon-s">"Blacklist_manufacturer_Data"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1280"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">blacklist</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1281"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1282"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-e">inBlacklistDD</span><span class="crayon-sy">(</span><span class="crayon-v">id</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1283"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">incDpCounter</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-i">idInfoCount24blockDelDev</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">,</span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-v">id</span><span class="crayon-sy">,</span><span class="crayon-v">localName</span><span class="crayon-sy">,</span><span class="crayon-v">manufacturerData</span><span class="crayon-sy">,</span><span class="crayon-s">"Blacklist_Deleted_Devices"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1284"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">blacklist</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1285"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1286">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1287"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">blacklist</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1288"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">gescanteMacAuswerten</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1289"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">blacklistDevicesErreichbar</span><span class="crayon-sy">.</span><span class="crayon-e">push</span><span class="crayon-sy">(</span><span class="crayon-v">id</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1290"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// TODO: wird nicht benötigt, wenn neue Blacklistdevices bei Scriptstart und bei Änderung zur Laufzeit behandelt werden</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1291"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">knowDevice</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-c">// wenn es ein bekannts Gerät ist: Datenpunkte löschen und aus der Liste bekannter Geräte entfernen</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1292"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">deviceDpDelete</span><span class="crayon-sy">(</span><span class="crayon-v">id</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-c">// Datenpunkte löschen</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1293"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">delDevice</span><span class="crayon-sy">(</span><span class="crayon-v">id</span><span class="crayon-sy">,</span><span class="crayon-v">idDevicesListAll</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// aus der Liste bekannte Geräte entfernen</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1294"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">logs</span><span class="crayon-sy">(</span><span class="crayon-s">"id: "</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">id</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-s">", aus den Datenpunkten gelöscht (Blacklist)"</span><span class="crayon-sy">,</span><span class="crayon-s">"warn"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1295"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1296"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1297"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1298">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1299">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1300">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1301">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1302"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Automatikmodus: nicht auswerten, wenn maximal Anzahl Geräte erreicht ist</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1303"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// -------------------------------------------------------------------------------------</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1304"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// erst nach den anderen Checks. Meldung kommt dann nur, wenn alle anderen Prüfungen schon erfolgt sind</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1305"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">automaticMaxDevice</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">getState</span><span class="crayon-sy">(</span><span class="crayon-v">idControlAutomaticMax</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-v">val</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1306"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">deviceNumber</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">readList</span><span class="crayon-sy">(</span><span class="crayon-v">idDevicesListAll</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1307"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">maxOK</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-sy">(</span><span class="crayon-v">automaticMaxDevice</span><span class="crayon-h"> </span><span class="crayon-o">&amp;</span><span class="crayon-v">gt</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">deviceNumber</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">?</span><span class="crayon-h"> </span><span class="crayon-t">true</span><span class="crayon-h"> </span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1308"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-v">automaticOn</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h"> </span><span class="crayon-c">// Automatik aktiv </span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1309"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-o">!</span><span class="crayon-v">maxOK</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h"> </span><span class="crayon-c">// wenn max. nicht größer als die schon angelegten Geräte ist, weiter verarbeiten</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1310"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">knowDevice</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// ist es schon ein bekanntes Gerät oder ein noch nicht angelegtes Gerät von der Liste eigener Geräte</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1311"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">deviceNumber</span><span class="crayon-h"> </span><span class="crayon-o">&amp;</span><span class="crayon-v">gt</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">automaticMaxDevice</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1312"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">newMax</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">automaticMaxDevice</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-cn">1</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1313"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">logs</span><span class="crayon-sy">(</span><span class="crayon-s">"Automatikmodus: Bekanntes Gerät ("</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">id</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">") bei max. zulässiger Anzahl ("</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">automaticMaxDevice</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">") Geräte gefunden. Maximum wird auf "</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">newMax</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">" erhöht."</span><span class="crayon-sy">,</span><span class="crayon-s">"debug2"</span><span class="crayon-sy">,</span><span class="crayon-s">"darkorange"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1314"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">setAutomaticMaxDevice</span><span class="crayon-sy">(</span><span class="crayon-v">newMax</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1315"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1316"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// nichts tun</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1317"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1318"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Maximum noch nicht erreicht, tue nichts. Gerät wird angelegt.</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1319"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h"> </span><span class="crayon-c">// kein schon angelegte Gerät </span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1320"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">deviceNumber</span><span class="crayon-h"> </span><span class="crayon-o">&amp;</span><span class="crayon-v">gt</span><span class="crayon-sy">;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">automaticMaxDevice</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1321"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">bluetoothDevices</span><span class="crayon-sy">[</span><span class="crayon-v">id</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1322"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">newMax</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">automaticMaxDevice</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-cn">1</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1323"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">logs</span><span class="crayon-sy">(</span><span class="crayon-s">"Automatikmodus: Eigenes Gerät ("</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">id</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">") bei max. zulässiger Anzahl ("</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">automaticMaxDevice</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">") Geräte gefunden. Maximum wird auf "</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">newMax</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">" erhöht."</span><span class="crayon-sy">,</span><span class="crayon-s">"debug2"</span><span class="crayon-sy">,</span><span class="crayon-s">"darkorange"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1324"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">setAutomaticMaxDevice</span><span class="crayon-sy">(</span><span class="crayon-v">newMax</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1325"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1326"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-o">!</span><span class="crayon-e">knownDevice</span><span class="crayon-sy">(</span><span class="crayon-v">id</span><span class="crayon-sy">,</span><span class="crayon-v">idDevicesList24blocked</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1327"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">logs</span><span class="crayon-sy">(</span><span class="crayon-s">"Automatikmodus: max. Anzahl anzulegender Geräte erreicht: "</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">automaticMaxDevice</span><span class="crayon-sy">,</span><span class="crayon-s">"info"</span><span class="crayon-sy">,</span><span class="crayon-s">"darkorange"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1328"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">logs</span><span class="crayon-sy">(</span><span class="crayon-s">"Automatikmodus: gescannte ID: "</span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">id</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">" wird nicht verarbeitet."</span><span class="crayon-sy">,</span><span class="crayon-s">"info"</span><span class="crayon-sy">,</span><span class="crayon-s">"darkorange"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1329"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1330"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">incDpCounter</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">idInfoCount24blockAutoMax</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-v">id</span><span class="crayon-sy">,</span><span class="crayon-v">localName</span><span class="crayon-sy">,</span><span class="crayon-v">manufacturerData</span><span class="crayon-sy">,</span><span class="crayon-s">"Automatik_Maximum_erreicht"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1331"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">gescanteMacAuswerten</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1332"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1333"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1334"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1335"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">deviceNumber</span><span class="crayon-h"> </span><span class="crayon-o">&amp;</span><span class="crayon-v">gt</span><span class="crayon-sy">;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">automaticMaxDevice</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h"> </span><span class="crayon-c">// maximum erreicht, kein neues Gerät wird angelegt.</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1336"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-o">!</span><span class="crayon-e">knownDevice</span><span class="crayon-sy">(</span><span class="crayon-v">id</span><span class="crayon-sy">,</span><span class="crayon-v">idDevicesList24blocked</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1337"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">logs</span><span class="crayon-sy">(</span><span class="crayon-s">"Automatikmodus: max. Anzahl anzulegender Geräte erreicht: "</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">automaticMaxDevice</span><span class="crayon-sy">,</span><span class="crayon-s">"debug2"</span><span class="crayon-sy">,</span><span class="crayon-s">"darkorange"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1338"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">logs</span><span class="crayon-sy">(</span><span class="crayon-s">"Automatikmodus: Gefundene&nbsp;&nbsp;ID: "</span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">id</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">" wird nicht verarbeitet."</span><span class="crayon-sy">,</span><span class="crayon-s">"debug2"</span><span class="crayon-sy">,</span><span class="crayon-s">"darkorange"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1339"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1340"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">incDpCounter</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">idInfoCount24blockAutoMax</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-v">id</span><span class="crayon-sy">,</span><span class="crayon-v">localName</span><span class="crayon-sy">,</span><span class="crayon-v">manufacturerData</span><span class="crayon-sy">,</span><span class="crayon-s">"Automatik_Maximum_erreicht"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1341"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">gescanteMacAuswerten</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1342"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1343"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-c">// Maximum noch nicht erreicht, tue nichts. Gerät wird angelegt.</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1344"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1345"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1346"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-c">// wenn max. Anzahl anzulegender Geräte nicht erreicht ist, tue nichts</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1347"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-c">// Automatic nicht aktiv: tue nichts</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1348">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1349">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1350"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// "Spamcheck"</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1351"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// ----------------------------------</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1352"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">blockSpam</span><span class="crayon-h"> </span><span class="crayon-o">&amp;</span><span class="crayon-v">amp</span><span class="crayon-sy">;</span><span class="crayon-o">&amp;</span><span class="crayon-v">amp</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">addressType</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-s">"random"</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">&amp;</span><span class="crayon-v">amp</span><span class="crayon-sy">;</span><span class="crayon-o">&amp;</span><span class="crayon-v">amp</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-o">!</span><span class="crayon-v">localName</span><span class="crayon-h"> </span><span class="crayon-o">&amp;</span><span class="crayon-v">amp</span><span class="crayon-sy">;</span><span class="crayon-o">&amp;</span><span class="crayon-v">amp</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-o">!</span><span class="crayon-v">service</span><span class="crayon-h"> </span><span class="crayon-o">&amp;</span><span class="crayon-v">amp</span><span class="crayon-sy">;</span><span class="crayon-o">&amp;</span><span class="crayon-v">amp</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-o">!</span><span class="crayon-v">uuid</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">&amp;</span><span class="crayon-v">amp</span><span class="crayon-sy">;</span><span class="crayon-o">&amp;</span><span class="crayon-v">amp</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">manufacturerData</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-s">""</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1353"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">incDpCounter</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">idInfoCount24blockSpam</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-v">id</span><span class="crayon-sy">,</span><span class="crayon-v">localName</span><span class="crayon-sy">,</span><span class="crayon-v">manufacturerData</span><span class="crayon-sy">,</span><span class="crayon-s">"Spam"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1354"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">gescanteMacAuswerten</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1355"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">logs</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-s">"Spam: "</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">id</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">", localName: "</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">localName</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">", service: "</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">service</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">", uuid: "</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">uuid</span><span class="crayon-sy">,</span><span class="crayon-s">"debug"</span><span class="crayon-sy">,</span><span class="crayon-s">"darkorange"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1356"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1357"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1358">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1359"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// nicht auswerten, wenn das Signal (rssi)zu schwach ist und das Gerät nicht bekannt ist</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1360"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// -------------------------------------------------------------------------------------</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1361"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-sy">(</span><span class="crayon-v">rssi</span><span class="crayon-h"> </span><span class="crayon-o">&amp;</span><span class="crayon-v">lt</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">minRssi</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">&amp;</span><span class="crayon-v">amp</span><span class="crayon-sy">;</span><span class="crayon-o">&amp;</span><span class="crayon-v">amp</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-o">!</span><span class="crayon-sy">(</span><span class="crayon-v">knowDevice</span><span class="crayon-h"> </span><span class="crayon-o">&amp;</span><span class="crayon-v">amp</span><span class="crayon-sy">;</span><span class="crayon-o">&amp;</span><span class="crayon-v">amp</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-o">!</span><span class="crayon-v">bluetoothDevices</span><span class="crayon-sy">[</span><span class="crayon-v">id</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h"> </span><span class="crayon-c">// Wenn die Signalstärke zu klein ist und es ein unbekanntes Device ist, dieses Device gnorieren</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1362"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">logs</span><span class="crayon-sy">(</span><span class="crayon-s">"Device: "</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">id</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">", Signalstärke (rssi): "</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">rssi</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">", &amp;lt; eingestellte Mindest-rssi: "</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">minRssi</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">" / Daten nicht verarbeitet"</span><span class="crayon-sy">,</span><span class="crayon-s">"debug"</span><span class="crayon-sy">,</span><span class="crayon-s">"darkorange"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1363"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">incDpCounter</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">idInfoCount24blockRssiLow</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">,</span><span class="crayon-v">id</span><span class="crayon-sy">,</span><span class="crayon-v">localName</span><span class="crayon-sy">,</span><span class="crayon-v">manufacturerData</span><span class="crayon-sy">,</span><span class="crayon-s">"rssi_low"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1364">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1365"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">gescanteMacAuswerten</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-t">false</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1366"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1367"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1368">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1369">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1370"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// gefundenens Device auswerten</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1371"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// ===================================</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1372"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">gescanteMacAuswerten</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1373">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1374"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">anzahlBluetoothDevices</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">anzahlBluetoothDevices</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1375">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1376"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">delElement</span><span class="crayon-sy">(</span><span class="crayon-v">id</span><span class="crayon-sy">,</span><span class="crayon-v">bekannteDevicesNichtErreichbar</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// MAC-Adresse aus dem Array: "bekannteDevicesNichtErreichbar" löschen. Verbliebene MAC-Adressen werden nach dem Durchlauf auf nicht erreichbar gesetzt</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1377"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">bekannteDevicesErreichbar</span><span class="crayon-sy">.</span><span class="crayon-e">push</span><span class="crayon-sy">(</span><span class="crayon-v">id</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// MAC-Adresse zum Array Devices die online sind hinzufügen</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1378">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1379"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">distanz</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">calculateDistance</span><span class="crayon-sy">(</span><span class="crayon-v">rssi</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1380"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">distanz</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">Math</span><span class="crayon-sy">.</span><span class="crayon-e">round</span><span class="crayon-sy">(</span><span class="crayon-e ">distanz*</span><span class="crayon-cn">100</span><span class="crayon-sy">)</span><span class="crayon-o">/</span><span class="crayon-cn">100</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1381">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1382"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//if (distanz &amp;lt;1) distanz = 0.00; var uuid = ""; var uuidData = ""; if (serviceData &amp;amp;&amp;amp; serviceData.length) { for (var k in serviceData) { //log(' ' + k + ": uuid: " + JSON.stringify(serviceData[k].uuid) + ', data: ' + JSON.stringify(serviceData[k].data.toString('hex'))); uuid = uuid + k + ": uuid: " + JSON.stringify(serviceData[k].uuid) + ', data: ' + JSON.stringify(serviceData[k].data.toString('hex')) + ","; } } var service = ""; for (var j in serviceUuids) { //log(' ' + j + ': serviceUuids: ' + serviceUuids[j]); service = service + j + ': serviceUuids: ' + serviceUuids[j] + ","; } service = service.substr(0, service.length-1); // letztes Komma in der Liste löschen uuid = uuid.substr(0, uuid.length-1); // letztes Komma in der Liste löschen // Detail-Log gefundener Geräte // wird nur begrenzte Durchläufe ausgegeben, wenn konfiguriert if (detailLogAkiv()) { logs("---=== Durchlauf: "+ durchlauf + " ===---         ---=== Device Nr.: " + anzahlBluetoothDevices + " ===---", "debug1"); logs('id: ' + id, "debug1","gray"); logs('MAC-Address: ' + address, "debug1","gray"); logs('localName: ' + localName, "debug1","gray"); logs('rssi: ' + rssi + " dB", "debug1","gray"); logs('txPower: ' + txPl + " dB", "debug1","gray"); logs('Distanz: ' + distanz + " m", "debug1","gray"); logs('manufacturerData: ' + manufacturerData, "debug1","gray"); logs('service: ' + service, "debug1","gray"); logs('uuid: ' + uuid, "debug1","gray"); } else { //logs("Detailausgabe Device: konfigurierte Grenze erreicht (im Script konfigurierbar)", "debug2"); } getScanmodus(); var name = ""; if (!knowDevice) { // -------------------------------------------------------------------- // Device wurde das erste mal gefunden: Ale Parameter verzögert anlegen // -------------------------------------------------------------------- addDevice(id,idDevicesListAll); // MAC/ID in der Liste bekannte Geräte hinzufügen deviceDpAnlegen(id); // Channel anlegen (Datenpunkte werden nicht mehr über die Funktion angelegt) createState(devicePfad + id + ".Control.Delete_Device" ,false ,deviceDatenpunkte["Control.Delete_Device"].dp); createState(devicePfad + id + ".Name_localName" ,localName ,deviceDatenpunkte["Name_localName"].dp); createState(devicePfad + id + ".rssi" ,rssi ,deviceDatenpunkte["rssi"].dp); createState(devicePfad + id + ".lastState" ,true ,deviceDatenpunkte["lastState"].dp); createState(devicePfad + id + ".lastStateDate" ,datum() ,deviceDatenpunkte["lastStateDate"].dp); createState(devicePfad + id + ".lastStateCount" ,0 ,deviceDatenpunkte["lastStateCount"].dp); createState(devicePfad + id + ".Distanz" ,distanz ,deviceDatenpunkte["Distanz"].dp); createState(devicePfad + id + ".details.uuid" ,uuid ,deviceDatenpunkte["details.uuid"].dp); createState(devicePfad + id + ".details.service" ,service ,deviceDatenpunkte["details.service"].dp); //createState(devicePfad + id + ".details.txPower" ,txPl ,deviceDatenpunkte["details.txPower"].dp); createState(devicePfad + id + ".details.address" ,address ,deviceDatenpunkte["details.address"].dp); createState(devicePfad + id + ".details.addressType" ,addressType ,deviceDatenpunkte["details.addressType"].dp); createState(devicePfad + id + ".details.connectable" ,connectable ,deviceDatenpunkte["details.connectable"].dp); createState(devicePfad + id + ".details.manufacturerData" ,manufacturerData ,deviceDatenpunkte["details.manufacturerData"].dp); var person = ""; var txPower = txPl; if(inBluetoothDevices(id)) { // bekannte Geräte (in der Liste bluetoothDevices) Parameter eintragen logs("### Datenpunkt für ein bekanntes Gerät angelegt ### &amp;gt;&amp;gt; "&nbsp;&nbsp;+ bluetoothDevices[id].name,"info","green");</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1383"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-e">typeof </span><span class="crayon-v">bluetoothDevices</span><span class="crayon-sy">[</span><span class="crayon-v">id</span><span class="crayon-sy">]</span><span class="crayon-sy">.</span><span class="crayon-v">txPower</span><span class="crayon-h"> </span><span class="crayon-o">!=</span><span class="crayon-h"> </span><span class="crayon-s">'undefined'</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-v">txPower</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">bluetoothDevices</span><span class="crayon-sy">[</span><span class="crayon-v">id</span><span class="crayon-sy">]</span><span class="crayon-sy">.</span><span class="crayon-e">txPower</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1384"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-e">typeof </span><span class="crayon-v">bluetoothDevices</span><span class="crayon-sy">[</span><span class="crayon-v">id</span><span class="crayon-sy">]</span><span class="crayon-sy">.</span><span class="crayon-v">name</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">!=</span><span class="crayon-h"> </span><span class="crayon-s">'undefined'</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-v">name</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">bluetoothDevices</span><span class="crayon-sy">[</span><span class="crayon-v">id</span><span class="crayon-sy">]</span><span class="crayon-sy">.</span><span class="crayon-v">name</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1385"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-e">typeof </span><span class="crayon-v">bluetoothDevices</span><span class="crayon-sy">[</span><span class="crayon-v">id</span><span class="crayon-sy">]</span><span class="crayon-sy">.</span><span class="crayon-v">person</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">!=</span><span class="crayon-h"> </span><span class="crayon-s">'undefined'</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-v">person</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">bluetoothDevices</span><span class="crayon-sy">[</span><span class="crayon-v">id</span><span class="crayon-sy">]</span><span class="crayon-sy">.</span><span class="crayon-v">person</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1386"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1387"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">createState</span><span class="crayon-sy">(</span><span class="crayon-v">devicePfad</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">id</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">".details.txPower"</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-sy">,</span><span class="crayon-i">txPower</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-sy">,</span><span class="crayon-v">deviceDatenpunkte</span><span class="crayon-sy">[</span><span class="crayon-s">"details.txPower"</span><span class="crayon-sy">]</span><span class="crayon-sy">.</span><span class="crayon-v">dp</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1388"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">createState</span><span class="crayon-sy">(</span><span class="crayon-v">devicePfad</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">id</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">".Name"</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">,</span><span class="crayon-i">name</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">,</span><span class="crayon-v">deviceDatenpunkte</span><span class="crayon-sy">[</span><span class="crayon-s">"Name"</span><span class="crayon-sy">]</span><span class="crayon-sy">.</span><span class="crayon-v">dp</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// selbst vergebener Name aus der Liste bluetoothDevices</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1389"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">createState</span><span class="crayon-sy">(</span><span class="crayon-v">devicePfad</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">id</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">".Person"</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">,</span><span class="crayon-i">person</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">,</span><span class="crayon-v">deviceDatenpunkte</span><span class="crayon-sy">[</span><span class="crayon-s">"Person"</span><span class="crayon-sy">]</span><span class="crayon-sy">.</span><span class="crayon-v">dp</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1390">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1391"><span class="crayon-h"> </span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1392"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Herstellernamen anhand der mac-Adresse ermitteln, Channelnamen setzen, Detailinformationen letztes gefundenes Device&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1393"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//if (addressType == "public") {</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1394"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">readVendor</span><span class="crayon-sy">(</span><span class="crayon-v">id</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">err</span><span class="crayon-sy">,</span><span class="crayon-v">vendor</span><span class="crayon-sy">,</span><span class="crayon-v">id</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1395"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-o">!</span><span class="crayon-v">vendor</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-v">vendor</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">mdVendor</span><span class="crayon-sy">(</span><span class="crayon-v">manufacturerData</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-c">// wenn anhand der Mac-Adresse kein Hersteller ermittelt wurde, versuche aus den Manufacture Data den Hersteller zu ermitteln</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1396"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-o">!</span><span class="crayon-v">vendor</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-v">vendor</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">""</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1397"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">createState</span><span class="crayon-sy">(</span><span class="crayon-v">devicePfad</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">id</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">".Hersteller"</span><span class="crayon-h"> </span><span class="crayon-sy">,</span><span class="crayon-i">vendor</span><span class="crayon-h"> </span><span class="crayon-sy">,</span><span class="crayon-v">deviceDatenpunkte</span><span class="crayon-sy">[</span><span class="crayon-s">"Hersteller"</span><span class="crayon-sy">]</span><span class="crayon-sy">.</span><span class="crayon-v">dp</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1398"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">setState</span><span class="crayon-sy">(</span><span class="crayon-i">idNewDeviceMoreInfo</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-sy">,</span><span class="crayon-v">id</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">","</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">localName</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">","</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">vendor</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">","</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-e">datum</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1399">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1400"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">setChannelName</span><span class="crayon-sy">(</span><span class="crayon-v">id</span><span class="crayon-sy">,</span><span class="crayon-v">localName</span><span class="crayon-sy">,</span><span class="crayon-v">vendor</span><span class="crayon-sy">,</span><span class="crayon-v">manufacturerData</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1401"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">setState</span><span class="crayon-sy">(</span><span class="crayon-i">idNewDevice</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-sy">,</span><span class="crayon-v">id</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1402"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1403"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1404"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1405"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// --------------------------------------------------------------------</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1406"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// bei schon angelegten Devices die veränderbaren Parameter eintragen</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1407"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// --------------------------------------------------------------------</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1408">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1409">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1410"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// in jedem Durchlauf die Namen prüfen (z.B. bei Skriptrestart und selbst eingetragenen Devices in der Whitelist</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1411"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">vendor</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">getState</span><span class="crayon-sy">(</span><span class="crayon-v">devicePfad</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">id</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">".Hersteller"</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-v">val</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1412"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">name</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">getState</span><span class="crayon-sy">(</span><span class="crayon-v">devicePfad</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">id</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">".Name"</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-v">val</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1413"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">setChannelName</span><span class="crayon-sy">(</span><span class="crayon-v">id</span><span class="crayon-sy">,</span><span class="crayon-v">localName</span><span class="crayon-sy">,</span><span class="crayon-v">vendor</span><span class="crayon-sy">,</span><span class="crayon-v">manufacturerData</span><span class="crayon-sy">,</span><span class="crayon-v">name</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-c">// local name des Gerätes könnte sich verändert haben&nbsp;&nbsp; </span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1414">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1415"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">lastStateCount</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">getState</span><span class="crayon-sy">(</span><span class="crayon-v">devicePfad</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">id</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">".lastStateCount"</span><span class="crayon-h"> </span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-v">val</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1416"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-v">lastStateCount</span><span class="crayon-h"> </span><span class="crayon-o">&amp;</span><span class="crayon-v">lt</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h"> </span><span class="crayon-v">lastStateCount</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h"> </span><span class="crayon-v">lastStateCount</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">lastStateCount</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-sy">(</span><span class="crayon-v">lastStateCount</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-cn">0</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">||</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">durchlauf</span><span class="crayon-h"> </span><span class="crayon-o">==</span><span class="crayon-h"> </span><span class="crayon-cn">1</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span><span class="crayon-h"> </span><span class="crayon-c">// Datum letzte Statusänderung neu setzen, beim 1. Scandurchlauf nach Skriptstart oder bei Stusänderung setStateDelayed(devicePfad + id + ".lastStateDate" ,datum() ,false,delay); lastStateCount = 0; // im 1. Durchlauf den Counter auch zurücksetzen } setStateDelayed(devicePfad + id + ".Name_localName" ,localName ,false,delay); setStateDelayed(devicePfad + id + ".rssi" ,rssi ,false,delay); setStateDelayed(devicePfad + id + ".lastState" ,true ,false,delay); setStateDelayed(devicePfad + id + ".lastStateCount" ,lastStateCount ,false,delay); setStateDelayed(devicePfad + id + ".Distanz" ,distanz ,false,delay); setStateDelayed(devicePfad + id + ".details.manufacturerData" ,manufacturerData ,false,delay); setStateDelayed(devicePfad + id + ".details.uuid" ,uuid ,false,delay); setStateDelayed(devicePfad + id + ".details.service" ,service ,false,delay); setStateDelayed(devicePfad + id + ".details.address" ,address ,false,delay); setStateDelayed(devicePfad + id + ".details.addressType" ,addressType ,false,delay); } } } // ============================================================================= // Schedule Schedule // ============================================================================= function onAnlegen() { // Schedules und Subscriptons (on) werden über die Funktion onAnlegen() verzögert eingerichtet, damit alle neuen Datenpunkte verfügbar sind // wird um 00:00 ausgeführt // 24h Tageszähler löschen schedule({hour: 0, minute: 0}, function (){ logs("Bluetooth Scanner: 24h Zähler um Mitternacht gelöscht.","debug"); clear24(); }); schedule("*/5 * * * * *", function () { // alle 5 Sekunden die Uptime aktualisieren setUptime(); }); // ============================================================================= // ON ON // ============================================================================= // Scanner Start / Stop über Datenpunkt on({id: instanz + idScan ,change:'any'}, function (obj) { logs("Kommando Bluetooth Scanner an: " + (obj.state.val ? colorTrue : colorFalse),"info","black"); getScanmodus(); if (obj.state.val) { startScan(); } else { if (obj.oldState.val) setState(idInfoScanStatus ,"Scan wird beendet");; stopScan(); } }); // Automatikmodus an/aus über Datenpunkt on({id: instanz + idControlAutomaticOn ,change:'any'}, function (obj) { automaticMaxDevice = getState(idControlAutomaticMax).val; if (obj.state.val) { logs('Automatikmodus eingeschaltet ("' + idControlAutomaticOn + '": ' + colorTrue + ')',"info","gray"); clear24(); } else { logs('Automatikmodus ausgeschaltet ("' + idControlAutomaticOn + '": ' + colorFalse + ')',"info","gray"); } automaticOn = obj.state.val; if (obj.state.val &amp;amp;&amp;amp; (readList(idDevicesListAll).length &amp;gt;= automaticMaxDevice)) {</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1417"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">logs</span><span class="crayon-sy">(</span><span class="crayon-s">"Max. Anzahl an automatisch anzulegenden DP erreicht. Nur noch eigene Geräte werden neu angelegt."</span><span class="crayon-sy">,</span><span class="crayon-s">"info"</span><span class="crayon-sy">,</span><span class="crayon-s">"darkorange"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1418"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1419"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">getScanmodus</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1420"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1421">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1422"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Automatikmodus Maximalwert anzulegender Gerätes über Datenpunkt eingestellt</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1423"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">on</span><span class="crayon-sy">(</span><span class="crayon-sy">{</span><span class="crayon-v">id</span><span class="crayon-o">:</span><span class="crayon-h"> </span><span class="crayon-v">instanz</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-i">idControlAutomaticMax</span><span class="crayon-h"> </span><span class="crayon-sy">,</span><span class="crayon-v">change</span><span class="crayon-o">:</span><span class="crayon-s">'ne'</span><span class="crayon-sy">}</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">obj</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1424"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">automaticMaxDevice</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">obj</span><span class="crayon-sy">.</span><span class="crayon-v">state</span><span class="crayon-sy">.</span><span class="crayon-v">val</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1425"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-e">readList</span><span class="crayon-sy">(</span><span class="crayon-v">idDevicesListAll</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-h"> </span><span class="crayon-o">&amp;</span><span class="crayon-v">gt</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-v">automaticMaxDevice</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1426"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-t">var</span><span class="crayon-h"> </span><span class="crayon-v">newMax</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">readList</span><span class="crayon-sy">(</span><span class="crayon-v">idDevicesListAll</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-v">length</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1427"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">logs</span><span class="crayon-sy">(</span><span class="crayon-s">"Es gibt mehr angelegte Geräte, als max. eingestellt sind. Maximalwert auf "</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">newMax</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">" erhöht."</span><span class="crayon-sy">,</span><span class="crayon-s">"info"</span><span class="crayon-sy">,</span><span class="crayon-s">"darkorange"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1428"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">setAutomaticMaxDevice</span><span class="crayon-sy">(</span><span class="crayon-v">newMax</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1429"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1430"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">logs</span><span class="crayon-sy">(</span><span class="crayon-s">'Automatikmodus. Neuer Wert max. anzulegende Geräte: '</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">obj</span><span class="crayon-sy">.</span><span class="crayon-v">state</span><span class="crayon-sy">.</span><span class="crayon-v">val</span><span class="crayon-sy">,</span><span class="crayon-s">"info"</span><span class="crayon-sy">,</span><span class="crayon-s">"gray"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1431"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1432"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">getScanmodus</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1433"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1434">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1435">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1436">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1437">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1438"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">noble</span><span class="crayon-sy">.</span><span class="crayon-e">on</span><span class="crayon-sy">(</span><span class="crayon-s">'stateChange'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-v">state</span><span class="crayon-sy">)</span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1439"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">logs</span><span class="crayon-sy">(</span><span class="crayon-s">'noble new state: '</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">state</span><span class="crayon-sy">,</span><span class="crayon-s">"warn"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1440"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">setState</span><span class="crayon-sy">(</span><span class="crayon-v">idNobleStatus</span><span class="crayon-sy">,</span><span class="crayon-v">state</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1441"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-v">state</span><span class="crayon-h"> </span><span class="crayon-o">===</span><span class="crayon-h"> </span><span class="crayon-s">'poweredOn'</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1442"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">setState</span><span class="crayon-sy">(</span><span class="crayon-v">idScan</span><span class="crayon-sy">,</span><span class="crayon-t">true</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Scan starten </span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1443"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1444"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">setState</span><span class="crayon-sy">(</span><span class="crayon-v">idScan</span><span class="crayon-sy">,</span><span class="crayon-t">false</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// Scan stoppen </span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1445"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1446"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1447">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1448"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">noble</span><span class="crayon-sy">.</span><span class="crayon-e">on</span><span class="crayon-sy">(</span><span class="crayon-s">'disconnect'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-t">function</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1449"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">logs</span><span class="crayon-sy">(</span><span class="crayon-s">'noble try to reconnect'</span><span class="crayon-sy">,</span><span class="crayon-s">"warn"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1450"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">//noble.startScanning([], false); // Try to reconnect, if connection broke</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1451"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">setState</span><span class="crayon-sy">(</span><span class="crayon-v">idScan</span><span class="crayon-sy">,</span><span class="crayon-t">true</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Scan im Zustand, wie im Datenpunkt </span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1452"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1453">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1454">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1455"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">noble</span><span class="crayon-sy">.</span><span class="crayon-e">on</span><span class="crayon-sy">(</span><span class="crayon-s">'discover'</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-v">onDiscover</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1456">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1457">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1458"><span class="crayon-c">//printSubs(name,loglevel);&nbsp;&nbsp;// globale Funktion. listet die Subscription im Script im Log auf.</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1459"><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1460">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1461">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1462"><span class="crayon-c">// =============================================================================</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1463"><span class="crayon-c">// Datenpunkte aktualisieren (wird vor main() ausgeführt</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1464"><span class="crayon-c">// =============================================================================</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1465">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1466"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">refreshDp</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1467">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1468"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">setState</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">(</span><span class="crayon-i">idNobleStatus</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">,</span><span class="crayon-v">noble</span><span class="crayon-sy">.</span><span class="crayon-v">state</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Status des noble Moduls in den Datenpunkt schreiben</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1469"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">setState</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">(</span><span class="crayon-i">idInfoCountScans</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-sy">,</span><span class="crayon-cn">0</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Scandurchläufe auf 0 setzen</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1470"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">setState</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">(</span><span class="crayon-i">idInfoScanStatus</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-sy">,</span><span class="crayon-s">"aus"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Status des Scans "aus"</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1471"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">setState</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">(</span><span class="crayon-i">idInfoScanDuration</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-sy">,</span><span class="crayon-s">"-"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1472">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1473"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">automaticOn</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">getState</span><span class="crayon-sy">(</span><span class="crayon-v">idControlAutomaticOn</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-v">val</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1474">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1475"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">getBlacklist</span><span class="crayon-sy">(</span><span class="crayon-i">idDevicesBlacklistMac</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">,</span><span class="crayon-v">bluetoothBlacklistMac</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Blacklist MAC-Adressen in den Datenpunkt schreiben</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1476"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">getBlacklist</span><span class="crayon-sy">(</span><span class="crayon-i">idDevicesBlacklistLN</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-sy">,</span><span class="crayon-v">bluetoothBlacklistLocalName</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Blacklist LocalName in den Datenpunkt schreiben</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1477"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">getBlacklist</span><span class="crayon-sy">(</span><span class="crayon-i">idDevicesBlacklistMD</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-sy">,</span><span class="crayon-v">bluetoothBlacklistManufacturerData</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-c">// Blacklist LocalName in den Datenpunkt schreiben</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1478">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1479"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">setUptime</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1480"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">getScanmodus</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1481">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1482"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1483">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1484"><span class="crayon-c">// =============================================================================</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1485"><span class="crayon-c">// main - Hauptprogramm&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; main</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1486"><span class="crayon-c">// =============================================================================</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1487"><span class="crayon-t">function</span><span class="crayon-h"> </span><span class="crayon-e">main</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1488">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1489"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Hauptprogramm nach Timeout (damit neu angelegte Datenpunkte vorhanden sind)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1490"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Im Hauptprogramm weiter:</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1491">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1492"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">setState</span><span class="crayon-sy">(</span><span class="crayon-i">idNewDevice</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">,</span><span class="crayon-s">"Script_Start"</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-sy">,</span><span class="crayon-t">false</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h"> </span><span class="crayon-c">//TODO: Wird beim erneuten Scriptstart nicht geschrieben. Warum???</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1493"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">setState</span><span class="crayon-sy">(</span><span class="crayon-i">idNewDeviceMoreInfo</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">,</span><span class="crayon-s">"Script_Start"</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">",,,"</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-e">datum</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-sy">,</span><span class="crayon-t">false</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1494">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1495"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// setState(idScan,true);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // schaltet den Scanner ein</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1496"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1497"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-sy">(</span><span class="crayon-o">!</span><span class="crayon-e">getState</span><span class="crayon-sy">(</span><span class="crayon-v">idScanFirst</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-v">val</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1498"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">setState</span><span class="crayon-sy">(</span><span class="crayon-v">idScan</span><span class="crayon-sy">,</span><span class="crayon-t">true</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Scan beim ersten Scriptstart automatisch starten</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1499"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">setState</span><span class="crayon-sy">(</span><span class="crayon-v">idScanFirst</span><span class="crayon-sy">,</span><span class="crayon-t">true</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// beim nächsten Start nicht mehr automatisch</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1500"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">logs</span><span class="crayon-sy">(</span><span class="crayon-s">"======================================================================================"</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-sy">,</span><span class="crayon-s">"info"</span><span class="crayon-sy">,</span><span class="crayon-s">"limegreen"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1501"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">logs</span><span class="crayon-sy">(</span><span class="crayon-s">"Script wurde das erste Mal gestartet - Scanner eingeschaltet -"</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-sy">,</span><span class="crayon-s">"info"</span><span class="crayon-sy">,</span><span class="crayon-s">"limegreen"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1502"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">logs</span><span class="crayon-sy">(</span><span class="crayon-s">"Scanstart und ein-/ausschalten in Zukunft in Abhängigkeit: "</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">instanz</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-i">idScan</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-sy">,</span><span class="crayon-s">"info"</span><span class="crayon-sy">,</span><span class="crayon-s">"limegreen"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1503"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">logs</span><span class="crayon-sy">(</span><span class="crayon-s">"======================================================================================"</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-sy">,</span><span class="crayon-s">"info"</span><span class="crayon-sy">,</span><span class="crayon-s">"limegreen"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1504"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">logs</span><span class="crayon-sy">(</span><span class="crayon-s">"Zur Kalibrierung der Distanz das Bluetooth Gerät in einen Meter Entfernung zum Host"</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">,</span><span class="crayon-s">"info"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1505"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">logs</span><span class="crayon-sy">(</span><span class="crayon-s">"positionieren und dann den Wert aus .rssi unter .details.txPower beim Device eintragen"</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-sy">,</span><span class="crayon-s">"info"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1506"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">logs</span><span class="crayon-sy">(</span><span class="crayon-s">"(oder im Script in der Liste der bekannten Devices: bluetoothDevices)"</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-sy">,</span><span class="crayon-s">"info"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1507"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">logs</span><span class="crayon-sy">(</span><span class="crayon-s">"--------------------------------------------------------------------------------------"</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-sy">,</span><span class="crayon-s">"info"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1508"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1509"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1510"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">setState</span><span class="crayon-sy">(</span><span class="crayon-v">idScan</span><span class="crayon-sy">,</span><span class="crayon-e">getState</span><span class="crayon-sy">(</span><span class="crayon-v">idScan</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-v">val</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-c">// Sonst: Scan im Zustand an/aus, wie im Datenpunkt gespeichert </span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1511"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1512">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1513"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-o">!</span><span class="crayon-e">checkEnableSetObject</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span><span class="crayon-h">&nbsp;&nbsp;</span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1514"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">logs</span><span class="crayon-sy">(</span><span class="crayon-s">"setObject() ist in der Konfig der Javascript-Adapterinstanz nicht eingeschatet"</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-sy">,</span><span class="crayon-s">"info"</span><span class="crayon-sy">,</span><span class="crayon-s">"darkorange"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1515"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">logs</span><span class="crayon-sy">(</span><span class="crayon-s">"setObject() Skript wird mir weniger Komfort ausgeführt"</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-sy">,</span><span class="crayon-s">"info"</span><span class="crayon-sy">,</span><span class="crayon-s">"darkorange"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1516"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">setState</span><span class="crayon-sy">(</span><span class="crayon-v">idInfoSetObject</span><span class="crayon-sy">,</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-s">'setObject() ist für die Instanz nicht aktiviert. Es werden weniger Informationen angezeigt.'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1517"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1518"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">setState</span><span class="crayon-sy">(</span><span class="crayon-v">idInfoSetObject</span><span class="crayon-sy">,</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-s">'OK'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1519"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-sy">}</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1520"><span class="crayon-sy">}</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1521">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1522">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1523">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1524">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1525">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1526"><span class="crayon-c">// =============================================================================</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1527"><span class="crayon-c">// Scriptstart</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1528"><span class="crayon-c">// =============================================================================</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1529">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1530"><span class="crayon-e">autokorrekturen</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// Korrektur und Prüfung von Variablen, die als Parameter im Skript dienen</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1531">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1532"><span class="crayon-st">if</span><span class="crayon-sy">(</span><span class="crayon-v">noerror</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1533"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">dpAnlegen</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// erst die notwendigen Datenpunkte anlegen</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1534"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">noble</span><span class="crayon-sy">.</span><span class="crayon-e">removeAllListeners</span><span class="crayon-sy">(</span><span class="crayon-s">'discover'</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp; </span><span class="crayon-c">// alle Listeners 'discover' löschen, falls noch ein discover aktiv war und das Skript währenddessen neu gestartet wurde (Probleme bei einem Adapter, wenn zwei Instanzen gewünscht sind?)</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1535"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">noble</span><span class="crayon-sy">.</span><span class="crayon-e">stopScanning</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-c">// eventuell bestehenden Scan stoppen</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1536">&nbsp;</div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1537"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">setTimeout</span><span class="crayon-sy">(</span><span class="crayon-v">onAnlegen</span><span class="crayon-sy">,</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-cn">500</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// dann die Subscriptions und Schedules setzen</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1538"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">setTimeout</span><span class="crayon-sy">(</span><span class="crayon-v">refreshDp</span><span class="crayon-sy">,</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-cn">500</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// und die Datenpunkte aktualisieren (Zustandsanzeige per Datenpunkt)</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1539">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1540"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">setTimeout</span><span class="crayon-sy">(</span><span class="crayon-v">main</span><span class="crayon-sy">,</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-cn">1000</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-c">// dann das "Hauptprogramm" starten</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1541">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1542"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1543"><span class="crayon-sy">}</span><span class="crayon-h"> </span><span class="crayon-st">else</span><span class="crayon-h"> </span><span class="crayon-sy">{</span></div><div class="crayon-line crayon-striped-line" id="crayon-5cefa6e2b6c6d064107644-1544"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">logs</span><span class="crayon-sy">(</span><span class="crayon-s">"Das Skript wurde nicht gestartet. Siehe Fehlermeldungen."</span><span class="crayon-sy">,</span><span class="crayon-s">"warn"</span><span class="crayon-sy">)</span><span class="crayon-sy">;</span></div><div class="crayon-line" id="crayon-5cefa6e2b6c6d064107644-1545"><span class="crayon-sy">}</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.2065 seconds] -->
<p>&nbsp;</p>

<footer class="post-data">

	<div class="entry-meta">
			</div><!-- .entry-meta -->
	</footer><!-- .post-data -->
			</div><!-- .post-entry -->
	</article><!-- #post-## -->



			</main><!-- #main -->

<div id="widgets" class="widget-area default-sidebar" role="complementary" itemscope="itemscope" itemtype="http://schema.org/WPSideBar">

		<aside id="archives" class="widget-wrapper">
			<h3 class="widget-title">Im Archiv</h3>
			<ul>
					<li><a href='index-172.htm?m=201902&#038;lang=de'>Februar 2019</a></li>
	<li><a href='index-173.htm?m=201901&#038;lang=de'>Januar 2019</a></li>
	<li><a href='index-174.htm?m=201812&#038;lang=de'>Dezember 2018</a></li>
	<li><a href='index-175.htm?m=201806&#038;lang=de'>Juni 2018</a></li>
	<li><a href='index-176.htm?m=201804&#038;lang=de'>April 2018</a></li>
	<li><a href='index-177.htm?m=201803&#038;lang=de'>März 2018</a></li>
	<li><a href='index-178.htm?m=201801&#038;lang=de'>Januar 2018</a></li>
	<li><a href='index-179.htm?m=201712&#038;lang=de'>Dezember 2017</a></li>
	<li><a href='index-180.htm?m=201711&#038;lang=de'>November 2017</a></li>
	<li><a href='index-181.htm?m=201710&#038;lang=de'>Oktober 2017</a></li>
	<li><a href='index-182.htm?m=201709&#038;lang=de'>September 2017</a></li>
	<li><a href='index-183.htm?m=201708&#038;lang=de'>August 2017</a></li>
	<li><a href='index-184.htm?m=201701&#038;lang=de'>Januar 2017</a></li>
	<li><a href='index-185.htm?m=201609&#038;lang=de'>September 2016</a></li>
	<li><a href='index-186.htm?m=201607&#038;lang=de'>Juli 2016</a></li>
	<li><a href='index-187.htm?m=201605&#038;lang=de'>Mai 2016</a></li>
	<li><a href='index-188.htm?m=201604&#038;lang=de'>April 2016</a></li>
	<li><a href='index-189.htm?m=201603&#038;lang=de'>März 2016</a></li>
	<li><a href='index-190.htm?m=201602&#038;lang=de'>Februar 2016</a></li>
			</ul>
		</aside>

		</div><!-- #default-sidebar -->
	</div><!-- #primary -->

</div><!-- end of #wrapper -->
</div><!-- end of #container -->


<footer id="footer" class="site-footer" role="contentinfo" itemscope="itemscope" itemtype="http://schema.org/WPFooter">
		<div id="footer-wrapper">

		<div id="footer-widgets-container">
					</div><!-- #footer-widgets-container-->

		<div id="menu-social-container">
			<nav id="footer-menu-container">
				<ul id="menu-2016_seitenfuss_de" class="footer-menu"><li id="menu-item-2210" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2210"><a href="index-61.htm?page_id=2208&#038;lang=de">Kontakt</a></li>
<li id="menu-item-2227" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2227"><a href="index-62.htm?page_id=2223&#038;lang=de">Impressum</a></li>
<li id="menu-item-2307" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2307"><a href="index-63.htm?page_id=2305&#038;lang=de">Datenschutzerklärung</a></li>
<li id="menu-item-2314" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2314"><a href="index-64.htm?page_id=2303&#038;lang=de">Sitemap</a></li>
<li id="menu-item-2486" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2486"><a href="index-65.htm?page_id=2484&#038;lang=de">Danke</a></li>
</ul>			</nav><!-- #footer-menu -->
			<div id="social-icons-container">
				<ul class="social-icons"></ul><!-- .social-icons -->			</div><!-- #social-icons-container-->
		</div><!-- #menu-social-container -->


		<div id="footer-base">
			<div class="copyright">
				&copy; 2019 <a href="index.htm?lang=de" title="ioBroker">ioBroker</a>			</div><!-- .copyright -->

			<div class="powered">
				<a href="http://cyberchimps.com/responsive-II/">Reaktionsschnelle II</a> angetrieben <a href="http://wordpress.org/">WordPress</a>			</div><!-- end .powered -->

			<div class="scroll-top">
				<a href="#scroll-top" title="Nach oben scrollen">↑</a>
			</div><!-- .scroll-top -->
		</div><!-- #footer-base -->
	</div><!-- #footer-wrapper -->
	</footer><!-- #footer -->
<div id="cookie-law-info-bar"><span>This website uses cookies to improve your experience. We'll assume you're ok with this, but you can opt-out if you wish.<a data-cli_action="accept" id="cookie_action_close_header" class="medium cli-plugin-button cli-plugin-main-button cookie_action_close_header cli_action_button" style="display:inline-block; ">Akzeptieren</a> <a href='..\index-1.htm?page_id=2305&#038;lang=de' id="CONSTANT_OPEN_URL" target="_blank" class="cli-plugin-main-link" style="display:inline-block;">mehr Infos</a></span></div><div id="cookie-law-info-again" style="display:none;"><span id="cookie_hdr_showagain">Privacy & Cookies Policy</span></div><div class="cli-modal-backdrop cli-fade cli-settings-overlay"></div>
<div class="cli-modal-backdrop cli-fade cli-popupbar-overlay"></div>
<script type="text/javascript">
  /* <![CDATA[ */
  cli_cookiebar_settings='{"animate_speed_hide":"500","animate_speed_show":"500","background":"#fff","border":"#444","border_on":false,"button_1_button_colour":"#000","button_1_button_hover":"#000000","button_1_link_colour":"#fff","button_1_as_button":true,"button_1_new_win":false,"button_2_button_colour":"#333","button_2_button_hover":"#292929","button_2_link_colour":"#444","button_2_as_button":false,"button_2_hidebar":true,"button_3_button_colour":"#000","button_3_button_hover":"#000000","button_3_link_colour":"#fff","button_3_as_button":true,"button_3_new_win":false,"button_4_button_colour":"#000","button_4_button_hover":"#000000","button_4_link_colour":"#fff","button_4_as_button":true,"font_family":"inherit","header_fix":false,"notify_animate_hide":true,"notify_animate_show":false,"notify_div_id":"#cookie-law-info-bar","notify_position_horizontal":"right","notify_position_vertical":"bottom","scroll_close":false,"scroll_close_reload":false,"accept_close_reload":false,"reject_close_reload":false,"showagain_tab":false,"showagain_background":"#fff","showagain_border":"#000","showagain_div_id":"#cookie-law-info-again","showagain_x_position":"100px","text":"#000","show_once_yn":false,"show_once":"10000","logging_on":false,"as_popup":false,"popup_overlay":true,"bar_heading_text":"","cookie_bar_as":"banner","popup_showagain_position":"bottom-right","widget_position":"left"}';
  /* ]]> */
</script><div class="scroll-back-to-top-wrapper">
	<span class="scroll-back-to-top-inner">
					<i class="fa fa-2x fa-arrow-circle-up"></i>
			</span>
</div><script type='text/javascript'>
/* <![CDATA[ */
var wpcf7 = {"apiSettings":{"root":"http:\/\/www.iobroker.net\/docu\/?rest_route=\/contact-form-7\/v1","namespace":"contact-form-7\/v1"},"recaptcha":{"messages":{"empty":"Bitte best\u00e4tige, dass du keine Maschine bist."}}};
var wpcf7 = {"apiSettings":{"root":"http:\/\/www.iobroker.net\/docu\/?rest_route=\/contact-form-7\/v1","namespace":"contact-form-7\/v1"},"recaptcha":{"messages":{"empty":"Bitte best\u00e4tige, dass du keine Maschine bist."}}};
/* ]]> */
</script>
<script type='text/javascript' src='wp-content\plugins\contact-form-7\includes\js\scripts.js?ver=4.9.2'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var scrollBackToTop = {"scrollDuration":"500","fadeDuration":"0.5"};
var scrollBackToTop = {"scrollDuration":"500","fadeDuration":"0.5"};
/* ]]> */
</script>
<script type='text/javascript' src='wp-content\plugins\scroll-back-to-top\assets\js\scroll-back-to-top.js'></script>
<script type='text/javascript' src='wp-content\plugins\table-of-contents-plus\front.min.js?ver=1509'></script>
<script type='text/javascript' src='wp-content\themes\responsive-mobile\js\responsive-scripts.min.js?ver=1.2.5'></script>
<script type='text/javascript' src='wp-includes\js\wp-embed.min.js?ver=4.7.5'></script>
</body>
</html>
