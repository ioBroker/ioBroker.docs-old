<!DOCTYPE html>
<!--[if IE 8 ]>
	<html class="no-js ie8" lang="en-GB">
<![endif]-->
<!--[if IE 9 ]>
	<html class="no-js ie9" lang="en-GB">
<![endif]-->
<!--[if gt IE 9]><!-->
<html lang="en-GB"><!--<![endif]-->
	<head>
				<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<meta http-equiv="X-UA-Compatible" content="IE=9; IE=8; IE=7; IE=EDGE"> 

		<link rel="profile" href="http://gmpg.org/xfn/11">
		<link rel="pingback" href="http://www.iobroker.net/docu/xmlrpc.php">
		
		<title>Adapter Telegram &#8211; ioBroker</title>
<link rel='dns-prefetch' href='//netdna.bootstrapcdn.com'>
<link rel='dns-prefetch' href='//s.w.org'>
<link rel="alternate" type="application/rss+xml" title="ioBroker &raquo; Feed" href="index-2.rss?feed=rss2&#038;lang=en">
<link rel="alternate" type="application/rss+xml" title="ioBroker &raquo; Comments Feed" href="index-3.rss?feed=comments-rss2&#038;lang=en">
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.2.1\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/2.2.1\/svg\/","svgExt":".svg","source":{"concatemoji":"http:\/\/www.iobroker.net\/docu\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.7.5"}};
			!function(a,b,c){function d(a){var b,c,d,e,f=String.fromCharCode;if(!k||!k.fillText)return!1;switch(k.clearRect(0,0,j.width,j.height),k.textBaseline="top",k.font="600 32px Arial",a){case"flag":return k.fillText(f(55356,56826,55356,56819),0,0),!(j.toDataURL().length<3e3)&&(k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,57331,65039,8205,55356,57096),0,0),b=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55356,57331,55356,57096),0,0),c=j.toDataURL(),b!==c);case"emoji4":return k.fillText(f(55357,56425,55356,57341,8205,55357,56507),0,0),d=j.toDataURL(),k.clearRect(0,0,j.width,j.height),k.fillText(f(55357,56425,55356,57341,55357,56507),0,0),e=j.toDataURL(),d!==e}return!1}function e(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g,h,i,j=b.createElement("canvas"),k=j.getContext&&j.getContext("2d");for(i=Array("flag","emoji4"),c.supports={everything:!0,everythingExceptFlag:!0},h=0;h<i.length;h++)c.supports[i[h]]=d(i[h]),c.supports.everything=c.supports.everything&&c.supports[i[h]],"flag"!==i[h]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[i[h]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='crayon-css' href='wp-content\plugins\crayon-syntax-highlighter\css\min\crayon.min.css?ver=_2.7.2_beta' type='text/css' media='all'>
<link rel='stylesheet' id='contact-form-7-css' href='wp-content\plugins\contact-form-7\includes\css\styles.css?ver=4.9.2' type='text/css' media='all'>
<link rel='stylesheet' id='cookie-law-info-css' href='wp-content\plugins\cookie-law-info\public\css\cookie-law-info-public.css?ver=1.7.6' type='text/css' media='all'>
<link rel='stylesheet' id='cookie-law-info-gdpr-css' href='wp-content\plugins\cookie-law-info\public\css\cookie-law-info-gdpr.css?ver=1.7.6' type='text/css' media='all'>
<link rel='stylesheet' id='dedo-css-css' href='wp-content\plugins\delightful-downloads\assets\css\delightful-downloads.min.css?ver=1.6.6' type='text/css' media='all'>
<link rel='stylesheet' id='mbpro-font-awesome-css' href='wp-content\plugins\maxbuttons\assets\libraries\font-awesome\css\font-awesome.min.css?ver=6.28' type='text/css' media='all'>
<link rel='stylesheet' id='page-list-style-css' href='wp-content\plugins\page-list\css\page-list.css?ver=5.1' type='text/css' media='all'>
<link rel='stylesheet' id='pc_google_analytics-frontend-css' href='http://www.iobroker.net/docu/wp-content/plugins/pc-google-analytics/assets/css/frontend.css?ver=1.0.0' type='text/css' media='all'>
<link rel='stylesheet' id='font-awesome-css' href='//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.css' type='text/css' media='screen'>
<link rel='stylesheet' id='toc-screen-css' href='wp-content\plugins\table-of-contents-plus\screen.min.css?ver=1509' type='text/css' media='all'>
<link rel='stylesheet' id='parent-style-css' href='wp-content\themes\responsive-mobile\style.css?ver=4.7.5' type='text/css' media='all'>
<link rel='stylesheet' id='responsive-mobile-style-css' href='wp-content\themes\responsive-mobile\css\style.css?ver=1.8' type='text/css' media='all'>
<link rel='stylesheet' id='responsive-mobile-child-style-css' href='wp-content\themes\responsive-mobile_child\style.css?ver=1.0' type='text/css' media='all'>
<link rel='stylesheet' id='recent-posts-widget-with-thumbnails-public-style-css' href='wp-content\plugins\recent-posts-widget-with-thumbnails\public.css?ver=6.5.0' type='text/css' media='all'>
<link rel='stylesheet' id='cleverness_todo_list_frontend-css' href='wp-content\plugins\cleverness-to-do-list\css\cleverness-to-do-list-frontend.css?ver=3.4.2' type='text/css' media='all'>
<link rel='stylesheet' id='jquery.ui.theme-css' href='wp-content\plugins\cleverness-to-do-list\css\jquery-ui-fresh.css?ver=3.4.2' type='text/css' media='all'>
<link rel='stylesheet' id='tablepress-default-css' href='wp-content\tablepress-combined.min.css?ver=128' type='text/css' media='all'>
<link rel='stylesheet' id='bootstrap-css' href='wp-content\themes\responsive-mobile\libraries\bootstrap\css\bootstrap.min.css?ver=4.7.5' type='text/css' media='all'>
<script type='text/javascript' src='wp-includes\js\jquery\jquery.js?ver=1.12.4'></script>
<script type='text/javascript' src='wp-includes\js\jquery\jquery-migrate.min.js?ver=1.4.1'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var CrayonSyntaxSettings = {"version":"_2.7.2_beta","is_admin":"0","ajaxurl":"http:\/\/www.iobroker.net\/docu\/wp-admin\/admin-ajax.php","prefix":"crayon-","setting":"crayon-setting","selected":"crayon-setting-selected","changed":"crayon-setting-changed","special":"crayon-setting-special","orig_value":"data-orig-value","debug":""};
var CrayonSyntaxStrings = {"copy":"Press %s to Copy, %s to Paste","minimize":"Click To Expand Code"};
/* ]]> */
</script>
<script type='text/javascript' src='wp-content\plugins\crayon-syntax-highlighter\js\min\crayon.min.js?ver=_2.7.2_beta'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var Cli_Data = {"nn_cookie_ids":[],"cookielist":[]};
var log_object = {"ajax_url":"http:\/\/www.iobroker.net\/docu\/wp-admin\/admin-ajax.php"};
/* ]]> */
</script>
<script type='text/javascript' src='wp-content\plugins\cookie-law-info\public\js\cookie-law-info-public.js?ver=1.7.6'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var mb_ajax = {"ajaxurl":"http:\/\/www.iobroker.net\/docu\/wp-admin\/admin-ajax.php"};
/* ]]> */
</script>
<script type='text/javascript' src='wp-content\plugins\maxbuttons\js\min\front.js?ver=6.28'></script>
<script type='text/javascript' src='wp-content\plugins\pc-google-analytics\assets\js\frontend.min.js?ver=1.0.0'></script>
<script type='text/javascript' src='wp-content\themes\responsive-mobile\libraries\bootstrap\js\bootstrap.min.js?ver=4.7.5'></script>
<link rel='https://api.w.org/' href='index.json?rest_route=/'>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="xmlrpc.xml?rsd">
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="wp-includes\wlwmanifest.xml"> 
<meta name="generator" content="WordPress 4.7.5">
<link rel="canonical" href="index-87.htm?page_id=6624&#038;lang=en">
<link rel='shortlink' href='http://www.iobroker.net/docu/?p=6624'>
<link rel="alternate" type="application/json+oembed" href="index-85.json?rest_route=%2Foembed%2F1.0%2Fembed&#038;url=http%3A%2F%2Fwww.iobroker.net%2Fdocu%2F%3Fpage_id%3D6624%26lang%3Den">
<link rel="alternate" type="text/xml+oembed" href="index-84.xml?rest_route=%2Foembed%2F1.0%2Fembed&#038;url=http%3A%2F%2Fwww.iobroker.net%2Fdocu%2F%3Fpage_id%3D6624%26lang%3Den&#038;format=xml">
	<script>
		(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
		
		ga('create', 'UA-86900958-1', 'auto');
		ga('send', 'pageview');
		
		</script>

<style>
.scroll-back-to-top-wrapper {
    position: fixed;
	opacity: 0;
	visibility: hidden;
	overflow: hidden;
	text-align: center;
	z-index: 99999999;
    background-color: #777777;
	color: #eeeeee;
	width: 50px;
	height: 48px;
	line-height: 48px;
	right: 30px;
	bottom: 30px;
	padding-top: 2px;
	border-top-left-radius: 10px;
	border-top-right-radius: 10px;
	border-bottom-right-radius: 10px;
	border-bottom-left-radius: 10px;
	-webkit-transition: all 0.5s ease-in-out;
	-moz-transition: all 0.5s ease-in-out;
	-ms-transition: all 0.5s ease-in-out;
	-o-transition: all 0.5s ease-in-out;
	transition: all 0.5s ease-in-out;
}
.scroll-back-to-top-wrapper:hover {
	background-color: #888888;
  color: #eeeeee;
}
.scroll-back-to-top-wrapper.show {
    visibility:visible;
    cursor:pointer;
	opacity: 1.0;
}
.scroll-back-to-top-wrapper i.fa {
	line-height: inherit;
}
.scroll-back-to-top-wrapper .fa-lg {
	vertical-align: 0;
}
</style><!-- Analytics by WP-Statistics v12.6 - https://wp-statistics.com/ -->
<link rel="alternate" href="index-87.htm?page_id=6624&#038;lang=en" hreflang="en">
<link rel="alternate" href="index-140.htm?page_id=4492&#038;lang=ru" hreflang="ru">
		<script type="text/javascript">
			var cli_flush_cache=1;
		</script>
				<style type="text/css" id="wp-custom-css">
			/*
You can add your own CSS here.

Click the help icon above to learn more.
*/
.site-content .content-area{
	/*background: #6592c9;*/
}		</style>
	<style type="text/css">
.paypal-donations { text-align: center !important }
</style>
	</head>

<body class="page-template page-template-page-templates page-template-content-sidebar-page_adaptermenue page-template-page-templatescontent-sidebar-page_adaptermenue-php page page-id-6624 page-child parent-pageid-5298 group-blog content-sidebar-page_adaptermenue" itemscope="itemscope" itemtype="http://schema.org/WebPage">
<div id="container" class="site">
	<a class="skip-link screen-reader-text" href="#content">Skip to content</a>
	<a class="skip-link screen-reader-text" href="#main-navigation">Skip to main menu</a>
	<div id="top-menu-container" class="container-full-width">
		<nav id="top-menu" class="container" itemscope="" itemtype="http://schema.org/SiteNavigationElement">
			<ul id="menu-2016_top_menue" class="top-menu"><li id="menu-item-2203-de" class="lang-item lang-item-4 lang-item-de lang-item-first no-translation menu-item menu-item-type-custom menu-item-object-custom menu-item-2203-de"><a href="index.htm?lang=de" hreflang="de-DE" lang="de-DE">Deutsch</a></li>
<li id="menu-item-2203-en" class="lang-item lang-item-7 lang-item-en current-lang menu-item menu-item-type-custom menu-item-object-custom menu-item-2203-en"><a href="index-87.htm?page_id=6624&#038;lang=en" hreflang="en-GB" lang="en-GB">English</a></li>
<li id="menu-item-2203-ru" class="lang-item lang-item-20 lang-item-ru menu-item menu-item-type-custom menu-item-object-custom menu-item-2203-ru"><a href="index-140.htm?page_id=4492&#038;lang=ru" hreflang="ru-RU" lang="ru-RU">Русский</a></li>
</ul>		</nav>
	</div><!-- top menu container -->
        <div id="header_section">
	<header id="header" class="container-full-width site-header" role="banner" itemscope="itemscope" itemtype="http://schema.org/WPHeader">
				<div class="container">
			<div class="header-row">
				<div id="site-branding">
							<div id="logo">
			<a href="index-1.htm?lang=en" rel="home" itemprop="url" title="ioBroker">
				<img src="wp-content\uploads\ioBroker_logo_lang-e1456684383484.png" alt="ioBroker" itemprop="image">
			</a>
		</div>
					</div>
				<div id="secondary-header">
					
	<div id="top-widget" class="top-widget" role="complementary" itemscope="itemscope" itemtype="http://schema.org/WPSideBar">
		
			<div id="search-2" class="responsive-mobile-top-widget widget_search"><form role="search" method="get" class="search-form" action="http://www.iobroker.net/docu/">
				<label>
					<span class="screen-reader-text">Search for:</span>
					<input type="search" class="search-field" placeholder="Search &hellip;" value="" name="s">
				</label>
				<input type="submit" class="search-submit" value="Search">
			<input type="hidden" name="lang" value="en"></form></div>
			</div><!-- end of #top-widget -->
				</div>
			</div>
		</div>

			</header><!-- #header -->

	<div id="main-menu-container" class="container-full-width">
		<div id="main-menu" class="container">
			<nav id="main-navigation" class="site-navigation" role="navigation" itemscope="itemscope" itemtype="http://schema.org/SiteNavigationElement">
				<div id="mobile-current-item">Menu</div>
				<button id="mobile-nav-button"><span class="accessibile-label">Mobile menu toggle</span></button>
				<div class="main-nav"><ul id="menu-2016_kopfzeile_en" class="menu"><li id="menu-item-2685" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-2685"><a href="..\index-2.htm?lang=en">Start page</a></li>
<li id="menu-item-2680" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2680"><a href="index-66.htm?page_id=2620&#038;lang=en">News</a></li>
<li id="menu-item-2634" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-2634"><a href="index-67.htm?page_id=2632&#038;lang=en">Installation</a>
<ul class="sub-menu">
	<li id="menu-item-5098" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-5098"><a href="index-68.htm?page_id=5090&#038;lang=en">Raspberry (JESSIE) – fast install</a></li>
	<li id="menu-item-5121" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-5121"><a href="index-69.htm?page_id=5111&#038;lang=en">Pine64 (JESSIE) – fast install</a></li>
	<li id="menu-item-4922" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4922"><a href="index-70.htm?page_id=4919&#038;lang=en">Video</a></li>
	<li id="menu-item-5351" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-5351"><a href="index-71.htm?page_id=5347&#038;lang=en">How to install node.js on linux</a></li>
	<li id="menu-item-5647" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-5647"><a href="index-72.htm?page_id=5639&#038;lang=en">Shot instruction for Debian</a></li>
	<li id="menu-item-5805" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-5805"><a href="index-73.htm?page_id=5799&#038;lang=en">Install node.js on PogoPlug</a></li>
</ul>
</li>
<li id="menu-item-2681" class="menu-item menu-item-type-post_type menu-item-object-page current-page-ancestor current-menu-ancestor current_page_ancestor menu-item-has-children menu-item-2681"><a href="index-74.htm?page_id=2573&#038;lang=en">Adapters</a>
<ul class="sub-menu">
	<li id="menu-item-4549" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-4549"><a href="index-75.htm?page_id=4541&#038;lang=en">Common</a>
	<ul class="sub-menu">
		<li id="menu-item-4198" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4198"><a href="index-76.htm?page_id=4179&#038;lang=en">Driver Admin</a></li>
	</ul>
</li>
	<li id="menu-item-4792" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-4792"><a href="index-77.htm?page_id=4787&#038;lang=en">Media</a>
	<ul class="sub-menu">
		<li id="menu-item-4795" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4795"><a href="index-78.htm?page_id=4713&#038;lang=en">Adapter sayIt</a></li>
	</ul>
</li>
	<li id="menu-item-4793" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-4793"><a href="index-79.htm?page_id=4784&#038;lang=en">Scripts and logic</a>
	<ul class="sub-menu">
		<li id="menu-item-4794" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4794"><a href="index-80.htm?page_id=4711&#038;lang=en">Adapter text2command</a></li>
		<li id="menu-item-6775" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-6775"><a href="index-81.htm?page_id=5809&#038;lang=en">Javascript</a></li>
	</ul>
</li>
	<li id="menu-item-4550" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-4550"><a href="index-82.htm?page_id=4538&#038;lang=en">Storage</a>
	<ul class="sub-menu">
		<li id="menu-item-4551" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4551"><a href="index-83.htm?page_id=4531&#038;lang=en">Adapter History</a></li>
		<li id="menu-item-5297" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-5297"><a href="index-84.htm?page_id=5289&#038;lang=en">Adapter Pushsafer</a></li>
		<li id="menu-item-4197" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-4197"><a href="index-85.htm?page_id=4184&#038;lang=en">Adapter SQL</a></li>
	</ul>
</li>
	<li id="menu-item-5300" class="menu-item menu-item-type-post_type menu-item-object-page current-page-ancestor current-menu-ancestor current-menu-parent current-page-parent current_page_parent current_page_ancestor menu-item-has-children menu-item-5300"><a href="index-86.htm?page_id=5298&#038;lang=en">Communication</a>
	<ul class="sub-menu">
		<li id="menu-item-5301" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-5301"><a href="index-84.htm?page_id=5289&#038;lang=en">Adapter Pushsafer</a></li>
		<li id="menu-item-6776" class="menu-item menu-item-type-post_type menu-item-object-page current-menu-item page_item page-item-6624 current_page_item menu-item-6776"><a href="index-87.htm?page_id=6624&#038;lang=en">Adapter Telegram</a></li>
		<li id="menu-item-6777" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-6777"><a href="index-88.htm?page_id=6435&#038;lang=en">Adapter MQTT</a></li>
	</ul>
</li>
	<li id="menu-item-6878" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-6878"><a href="index-89.htm?page_id=2578&#038;lang=en">Hardware</a>
	<ul class="sub-menu">
		<li id="menu-item-6879" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-6879"><a href="index-90.htm?page_id=2575&#038;lang=en">Siemens SIMATIC S7</a></li>
		<li id="menu-item-6880" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-6880"><a href="index-91.htm?page_id=4188&#038;lang=en">RFLink</a></li>
	</ul>
</li>
	<li id="menu-item-5043" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-5043"><a href="index-92.htm?page_id=5038&#038;lang=en">Adapter category VIS</a>
	<ul class="sub-menu">
		<li id="menu-item-5034" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-5034"><a href="index-37.htm?page_id=5026&#038;lang=de">ioBroker.vis App</a></li>
	</ul>
</li>
	<li id="menu-item-5827" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-5827"><a href="index-93.htm?page_id=5823&#038;lang=en">Visualisation</a>
	<ul class="sub-menu">
		<li id="menu-item-5828" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-5828"><a href="index-94.htm?page_id=5816&#038;lang=en">Adapter Flot</a></li>
	</ul>
</li>
</ul>
</li>
<li id="menu-item-2682" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-2682"><a href="index-95.htm?page_id=2622&#038;lang=en">Downloads</a>
<ul class="sub-menu">
	<li id="menu-item-5145" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-5145"><a href="index-96.htm?page_id=5139&#038;lang=en">Downloads for installation</a></li>
</ul>
</li>
<li id="menu-item-2683" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-has-children menu-item-2683"><a href="index-97.htm?page_id=2676&#038;lang=en">Forum / Support</a>
<ul class="sub-menu">
	<li id="menu-item-3009" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-3009"><a href="http://forum.iobroker.net">Forum</a></li>
	<li id="menu-item-3987" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-3987"><a href="index-98.htm?page_id=3971&#038;lang=de">Command line interface</a></li>
	<li id="menu-item-5103" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-5103"><a href="index-99.htm?page_id=5100&#038;lang=en">ioBroker does not run any more</a></li>
</ul>
</li>
<li id="menu-item-2684" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2684"><a href="index-100.htm?page_id=2674&#038;lang=en">Development</a></li>
</ul></div>			</nav><!-- #site-navigation -->
		</div><!-- #main-menu -->
	</div><!-- #main-menu-container -->
	<div id="sub-menu-container" class="container-full-width">
		<div id="sub-menu" class="container">
			<nav id="sub-navigation" class="site-navigation" role="navigation" itemscope="itemscope" itemtype="http://schema.org/SiteNavigationElement">
						</nav><!-- #site-navigation -->
		</div><!-- #sub-menu -->
	</div><!-- #sub-menu-container -->
        </div>
	<div id="wrapper" class="site-content container-full-width">

	<div id="content" class="content-area">
		<main id="main" class="site-main content-sidebar" role="main">

			
				<div class="breadcrumb-list" xmlns:v="http://rdf.data-vocabulary.org/#"><span class="breadcrumb" typeof="v:Breadcrumb"><a rel="v:url" property="v:title" href="index-1.htm?lang=en">Home</a></span> <span class="chevron">&#8250;</span> <span class="breadcrumb" typeof="v:Breadcrumb"><a rel="v:url" property="v:title" href="index-379.htm?page_id=2366&lang=en">Englisch</a></span> <span class="chevron">&#8250;</span> <span class="breadcrumb" typeof="v:Breadcrumb"><a rel="v:url" property="v:title" href="index-74.htm?page_id=2573&lang=en">Adapter</a></span> <span class="chevron">&#8250;</span> <span class="breadcrumb" typeof="v:Breadcrumb"><a rel="v:url" property="v:title" href="index-86.htm?page_id=5298&lang=en">Communication</a></span> <span class="chevron">&#8250;</span> <span class="breadcrumb-current">Adapter Telegram</span></div>
								
					
<article id="post-6624" class="post-6624 page type-page status-publish hentry">
		
	
<header class="entry-header">
	<h1 class="entry-title post-title">Adapter Telegram</h1>
	</header><!-- .entry-header -->

	<div class="post-entry">
		<p><a href="https://github.com/ioBroker/ioBroker.telegram"><img class="alignright" style="border: 0;" src="https://camo.githubusercontent.com/a6677b08c955af8400f44c6298f40e7d19cc5b2d/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f677261795f3664366436642e706e67" alt="Fork me on GitHub" width="149" height="149"></a><br>
<img class="alignnone" src="http://download.iobroker.net/img/logo-telegram.png" width="64" height="64"></p>
<h2><span id="Description">Description</span></h2>
<p>The <a href="https://telegram.org/">telegram</a> service is a platform for message exchange with a focus on speed and safety. Service is very simple and free. Applications for operation with the service are available for a variety of platforms – mobile phones, tablets, computers – you can use the telegram on all devices simultaneously. Also by means of this service by simple <a href="https://core.telegram.org/bots/api">API</a> it is possible to create bots (the virtual companions).<br>
Driver <strong>telegram </strong>(Telegram Adapter) allows to send and receive messages, that is to exchange telegrams with the ioBroker system, having <a href="https://core.telegram.org/bots/faq#how-do-i-create-a-bot">created a bot</a> in the telegram service. It is possible to give a bot different commands (to turn on the light, to open garage gate and so forth), it is possible to request any information (temperature in the house, a status of system of heating and so forth), the bot can publish snapshots from security video cameras when actuating the motion sensor, generally the functionality of this decision is very rich. The driver can be used together with the <a href="http?page_id=4711&lang=en">text2command</a> adapter.<br>
<div id="toc_container" class="no_bullets"><ul class="toc_list"><li><a href="#Description"><span class="toc_number toc_depth_1">1</span> Description</a></li><li><a href="#Information"><span class="toc_number toc_depth_1">2</span> Information</a></li><li><a href="#Installation"><span class="toc_number toc_depth_1">3</span> Installation</a></li><li><a href="#Setting"><span class="toc_number toc_depth_1">4</span> Setting</a><ul><li><a href="#Registration_and_creation_of_a_bot"><span class="toc_number toc_depth_2">4.1</span> Registration and creation of a bot</a></li><li><a href="#Setting_the_telegram_driver"><span class="toc_number toc_depth_2">4.2</span> Setting the telegram driver</a></li></ul></li><li><a href="#Examples_of_use"><span class="toc_number toc_depth_1">5</span> Examples of use</a><ul><li><a href="#Working_together_with_the_text2command_driver"><span class="toc_number toc_depth_2">5.1</span> Working together with the text2command driver</a></li><li><a href="#Remote_server_reboot"><span class="toc_number toc_depth_2">5.2</span> Remote server reboot</a></li><li><a href="#Publication_snapshots_of_IP_cameras_for_motion_sensor"><span class="toc_number toc_depth_2">5.3</span> Publication snapshots of IP cameras for motion sensor</a></li></ul></li></ul></div>

<h2><span id="Information">Information</span></h2>
<p>&nbsp;</p>
<table width="100%">
<tbody>
<tr>
<td style="width: 50%; height: 20px;"><strong>Current version</strong></td>
<td style="width: 50%; height: 20px;"><a href="https://www.npmjs.com/package/iobroker.telegram"><img class="alignnone" src="http://img.shields.io/npm/v/iobroker.telegram.svg" width="80" height="20"></a></td>
</tr>
<tr>
<td style="width: 50%; height: 20px;"><strong>Necessary conditions</strong></td>
<td style="width: 50%; height: 20px;">/</td>
</tr>
<tr>
<td style="width: 50%; height: 20px;"><strong>Developer</strong></td>
<td style="width: 50%; height: 20px;">Bluefox</td>
</tr>
<tr>
<td style="width: 50%; height: 20px;"><strong>Keywords</strong></td>
<td style="width: 50%; height: 20px;">chat bot, control, commands</td>
</tr>
<tr>
<td style="width: 50%; height: 20px;"><strong>Github</strong></td>
<td style="width: 50%; height: 20px;"><img class="alignnone size-full wp-image-2342" src="wp-content\uploads\icon_link.png" alt="icon_link" width="16" height="16"> <a href="https://github.com/ioBroker/ioBroker.telegram" target="_blank">link</a></td>
</tr>
<tr>
<td style="width: 50%; height: 20px;"><strong>Platform</strong></td>
<td style="width: 50%; height: 20px;">Javascript/Node.js</td>
</tr>
<tr>
<td style="width: 50%; height: 20px;"><strong>License</strong></td>
<td style="width: 50%; height: 20px;">MIT</td>
</tr>
</tbody>
</table>
<h2><span id="Installation"><span id="i-3">Installation</span></span></h2>
<p>Installation is on the <strong>Adapters</strong> tab page <a href="index-76.htm?page_id=4179&amp;lang=en">administration</a> system. In the driver group <strong>communication </strong>find a line called <strong>Telegram Adapter</strong>, and press the button with the plus icon in the right side of the line.</p>
<p><a href="wp-content\uploads\telegramm_pic1.png"><img class="alignnone wp-image-6743 size-large" src="wp-content\uploads\telegramm_pic1-1024x190.png" width="750" height="139" srcset="wp-content\uploads\telegramm_pic1-1024x190.png 1024w, wp-content\uploads\telegramm_pic1-150x28.png 150w, wp-content\uploads\telegramm_pic1-300x56.png 300w, wp-content\uploads\telegramm_pic1-100x19.png 100w, wp-content\uploads\telegramm_pic1-200x37.png 200w, wp-content\uploads\telegramm_pic1-450x84.png 450w, wp-content\uploads\telegramm_pic1-600x111.png 600w, wp-content\uploads\telegramm_pic1-900x167.png 900w" sizes="(max-width: 750px) 100vw, 750px"></a></p>
<p>You will see a pop-up window driver installation, after installation, it will automatically close.</p>
<p><a href="wp-content\uploads\telegram-install2.jpg"><img class="alignnone" src="wp-content\uploads\telegram-install2.jpg" width="400" height="209"></a></p>
<p>If all goes well, on the <strong>Settings driver</strong> tab will be a line <strong>telegram.0</strong> with installed driver instance.</p>
<p><a href="wp-content\uploads\telegramm_pic2.png"><img class="alignnone wp-image-6744 size-large" src="wp-content\uploads\telegramm_pic2-1024x319.png" width="750" height="234" srcset="wp-content\uploads\telegramm_pic2-1024x319.png 1024w, wp-content\uploads\telegramm_pic2-150x47.png 150w, wp-content\uploads\telegramm_pic2-300x94.png 300w, wp-content\uploads\telegramm_pic2-100x31.png 100w, wp-content\uploads\telegramm_pic2-200x62.png 200w, wp-content\uploads\telegramm_pic2-450x140.png 450w, wp-content\uploads\telegramm_pic2-600x187.png 600w, wp-content\uploads\telegramm_pic2-900x281.png 900w, wp-content\uploads\telegramm_pic2.png 1456w" sizes="(max-width: 750px) 100vw, 750px"></a></p>
<h2><span id="Setting"><span id="i-3">Setting</span></span></h2>
<h3><span id="Registration_and_creation_of_a_bot">Registration and creation of a bot</span></h3>
<p>To configure the driver, you must first create a bot for ioBroker management.<br>
If you do not have an account in the telegram service, it&#8217;s time to create it, to do this, go to the <a href="https://web.telegram.org/#/login">link</a> (web client, it is possible also through an installed application) and register. Then create a bot, for that purpose follow the <a href="https://telegram.me/botfather">link</a>, if you use web client or contact search bar looking for a user named <strong>@BotFather</strong> and begin a dialogue with him.</p>
<p><a href="wp-content\uploads\telegram-setting1.jpg"><img class="alignnone" src="wp-content\uploads\telegram-setting1.jpg" width="400" height="393"></a></p>
<p>So, we create a new bot, give the command /<code>newbot</code>. Next in the dialog you will be asked to write the name of your bot &#8211; invent name, input it and press enter. Then you need to enter user name and it must end with the word <code>bot</code>. Username must be unique, so if the name you entered is already taken, you will be warned about it and will ask to invent another. The ultimate goal of the dialogue is the passkey to use API HTTP (token access HTTP API).</p>
<p><a href="wp-content\uploads\telegram-setting2.jpg"><img class="alignnone" src="wp-content\uploads\telegram-setting2.jpg" width="400" height="396"></a></p>
<p>Now, for security, you should set a password to communicate with the bot. To do this, open a dialogue with the newly created interlocutor and type the command <code>/password security</code>, where the word <strong>security </strong>&#8211; is the password (create your own).</p>
<p><a href="wp-content\uploads\telegram-setting3.jpg"><img class="alignnone" src="wp-content\uploads\telegram-setting3.jpg" width="401" height="156"></a></p>
<h3><span id="Setting_the_telegram_driver">Setting the telegram driver</span></h3>
<p>Now you can open the telegram driver settings in the ioBroker system (<strong>driver settings </strong>tab) and to input there a key, the password, and if you plan to use <strong>text2command</strong>, to select an instance of this driver from the list.</p>
<p><a href="wp-content\uploads\telegramm_pic3.png"><img class="alignnone wp-image-6745 size-large" src="wp-content\uploads\telegramm_pic3-1024x492.png" width="750" height="360" srcset="wp-content\uploads\telegramm_pic3-1024x492.png 1024w, wp-content\uploads\telegramm_pic3-150x72.png 150w, wp-content\uploads\telegramm_pic3-300x144.png 300w, wp-content\uploads\telegramm_pic3-100x48.png 100w, wp-content\uploads\telegramm_pic3-200x96.png 200w, wp-content\uploads\telegramm_pic3-450x216.png 450w, wp-content\uploads\telegramm_pic3-600x289.png 600w, wp-content\uploads\telegramm_pic3-900x433.png 900w, wp-content\uploads\telegramm_pic3.png 1231w" sizes="(max-width: 750px) 100vw, 750px"></a></p>
<p>&nbsp;</p>
<p>Run the configured telegram driver instance on the <strong>Settings driver tab</strong>, click <strong>Inactive </strong>button. <strong>Click to start </strong>(the red button with the play icon).<br>
<a href="wp-content\uploads\telegram-setting5.jpg"><img class="alignnone" src="wp-content\uploads\telegram-setting5.jpg" width="699" height="143"></a></p>
<p>Go to the <strong>Log </strong>tab and make sure that the driver is connected to the service telegram and that there are no errors.</p>
<p><a href="wp-content\uploads\telegramm_pic7.png"><img class="alignnone size-large wp-image-6752" src="wp-content\uploads\telegramm_pic7-1024x114.png" alt="" width="750" height="83" srcset="wp-content\uploads\telegramm_pic7-1024x114.png 1024w, wp-content\uploads\telegramm_pic7-150x17.png 150w, wp-content\uploads\telegramm_pic7-300x33.png 300w, wp-content\uploads\telegramm_pic7-100x11.png 100w, wp-content\uploads\telegramm_pic7-200x22.png 200w, wp-content\uploads\telegramm_pic7-450x50.png 450w, wp-content\uploads\telegramm_pic7-600x67.png 600w, wp-content\uploads\telegramm_pic7-900x100.png 900w" sizes="(max-width: 750px) 100vw, 750px"></a></p>
<p>Well, the driver is configured.</p>
<h2><span id="Examples_of_use">Examples of use</span></h2>
<h3><span id="Working_together_with_the_text2command_driver">Working together with the text2command driver</span></h3>
<p>To work in conjunction with the text2command driver, you need to select the installed text2command driver instance from settings of the telegram adapter, as it is described <a href="index-87.htm?page_id=6624&amp;lang=en#Setting_the_telegram_driver">above</a>.</p>
<p><a href="wp-content\uploads\telegramm_pic4.png"><img class="alignnone size-large wp-image-6746" src="wp-content\uploads\telegramm_pic4-1024x394.png" alt="" width="750" height="289" srcset="wp-content\uploads\telegramm_pic4-1024x394.png 1024w, wp-content\uploads\telegramm_pic4-150x58.png 150w, wp-content\uploads\telegramm_pic4-300x116.png 300w, wp-content\uploads\telegramm_pic4-100x39.png 100w, wp-content\uploads\telegramm_pic4-200x77.png 200w, wp-content\uploads\telegramm_pic4-450x173.png 450w, wp-content\uploads\telegramm_pic4-600x231.png 600w, wp-content\uploads\telegramm_pic4-900x347.png 900w, wp-content\uploads\telegramm_pic4.png 1228w" sizes="(max-width: 750px) 100vw, 750px"></a></p>
<p>&nbsp;</p>
<p>Let&#8217;s add several simple rules for an example – the rule, <strong>How many time, What is your name and Temperature on the street</strong>.</p>
<p><a href="wp-content\uploads\telegramm_pic5.png"><img class="alignnone size-large wp-image-6747" src="wp-content\uploads\telegramm_pic5-1024x124.png" alt="" width="750" height="91" srcset="wp-content\uploads\telegramm_pic5-1024x124.png 1024w, wp-content\uploads\telegramm_pic5-150x18.png 150w, wp-content\uploads\telegramm_pic5-300x36.png 300w, wp-content\uploads\telegramm_pic5-100x12.png 100w, wp-content\uploads\telegramm_pic5-200x24.png 200w, wp-content\uploads\telegramm_pic5-450x55.png 450w, wp-content\uploads\telegramm_pic5-600x73.png 600w, wp-content\uploads\telegramm_pic5-900x109.png 900w" sizes="(max-width: 750px) 100vw, 750px"></a></p>
<p>&nbsp;</p>
<p>That’s all! Now you can open a dialogue with the bot, log in and ask questions:</p>
<p><a href="wp-content\uploads\telegram-use2-1.jpg"><img class="alignnone wp-image-6753 size-medium" src="wp-content\uploads\telegram-use2-1-300x212.jpg" width="300" height="212" srcset="wp-content\uploads\telegram-use2-1-300x212.jpg 300w, wp-content\uploads\telegram-use2-1-150x106.jpg 150w, wp-content\uploads\telegram-use2-1-100x71.jpg 100w, wp-content\uploads\telegram-use2-1-200x141.jpg 200w, wp-content\uploads\telegram-use2-1-450x318.jpg 450w, wp-content\uploads\telegram-use2-1-600x423.jpg 600w, wp-content\uploads\telegram-use2-1-900x635.jpg 900w, wp-content\uploads\telegram-use2-1.jpg 989w" sizes="(max-width: 300px) 100vw, 300px"></a></p>
<p>&nbsp;</p>
<p>However, it should be noted that the full type of commands and questions to a bot it is not so convenient, especially on mobile devices. For a bot, you can specify a list of quick commands for faster input &#8211; is enough to write the character &#8220;/&#8221; and appears a list of pre-defined commands &#8211; you just select the required. To do this, we turn again to the user <strong>@BotFather</strong>. Enter the command <code>/setcommands</code>, then type the name of the created bot starting with &#8220;@&#8221; symbol.<br>
<a href="wp-content\uploads\telegram-use3.jpg"><img class="alignnone" src="wp-content\uploads\telegram-use3.jpg" width="400" height="191"></a></p>
<p>Enter the command in the format:<br>
<code>Command – description</code></p>
<ul>
<li>&#8211; command &#8211; short name of the command is written as one word with no spaces (can be through a sign underscore)</li>
<li>&#8211; вescription &#8211; a short description of the command</li>
</ul>
<p>Each command from a new line, in the application we use the Ctrl+Enter keyboard shortcut.</p>
<p><a href="wp-content\uploads\telegram_pic12.png"><img class="alignnone wp-image-6770 size-medium" src="wp-content\uploads\telegram_pic12-300x262.png" width="300" height="262" srcset="wp-content\uploads\telegram_pic12-300x262.png 300w, wp-content\uploads\telegram_pic12-150x131.png 150w, wp-content\uploads\telegram_pic12-1024x893.png 1024w, wp-content\uploads\telegram_pic12-100x87.png 100w, wp-content\uploads\telegram_pic12-200x174.png 200w, wp-content\uploads\telegram_pic12-450x393.png 450w, wp-content\uploads\telegram_pic12-600x523.png 600w, wp-content\uploads\telegram_pic12-900x785.png 900w, wp-content\uploads\telegram_pic12.png 1041w" sizes="(max-width: 300px) 100vw, 300px"></a></p>
<p>&nbsp;</p>
<p>Now you have to edit the rules a bit that keywords of commands matched:</p>
<p><a href="wp-content\uploads\telegramm_pic5.png"><img class="alignnone size-large wp-image-6747" src="wp-content\uploads\telegramm_pic5-1024x124.png" alt="" width="750" height="91" srcset="wp-content\uploads\telegramm_pic5-1024x124.png 1024w, wp-content\uploads\telegramm_pic5-150x18.png 150w, wp-content\uploads\telegramm_pic5-300x36.png 300w, wp-content\uploads\telegramm_pic5-100x12.png 100w, wp-content\uploads\telegramm_pic5-200x24.png 200w, wp-content\uploads\telegramm_pic5-450x55.png 450w, wp-content\uploads\telegramm_pic5-600x73.png 600w, wp-content\uploads\telegramm_pic5-900x109.png 900w" sizes="(max-width: 750px) 100vw, 750px"></a></p>
<p>&nbsp;</p>
<p>Now it is possible in a chat with a bot to write the choice command character &#8220;/&#8221; and on the screen to be displayed the list.</p>
<p><a href="wp-content\uploads\telegram_pic11.png"><img class="alignnone size-medium wp-image-6771" src="wp-content\uploads\telegram_pic11-300x238.png" alt="" width="300" height="238" srcset="wp-content\uploads\telegram_pic11-300x238.png 300w, wp-content\uploads\telegram_pic11-150x119.png 150w, wp-content\uploads\telegram_pic11-100x79.png 100w, wp-content\uploads\telegram_pic11-200x159.png 200w, wp-content\uploads\telegram_pic11-450x357.png 450w, wp-content\uploads\telegram_pic11-600x476.png 600w, wp-content\uploads\telegram_pic11-900x714.png 900w, wp-content\uploads\telegram_pic11.png 1016w" sizes="(max-width: 300px) 100vw, 300px"></a></p>
<p>&nbsp;</p>
<h3><span id="Remote_server_reboot">Remote server reboot</span></h3>
<p>Let&#8217;s review an example more difficult.</p>
<p>Suppose you want to build a command that would be perceived by the bot, and rebooted the server. To do this, you need installed and configured telegram driver, text2command and javascript.</p>
<p>In the javascript.0 driver instance will create a script called <strong>t2c_restartSystem </strong>and the following contents:</p>
<p><code>createState('t2c_restartSystem.restart_command', '');</code><br>
<code>on({id: 'javascript.0.t2c_restartSystem.restart_command', change: 'any'}, function (obj) {</code><br>
<code>  if (obj.newState.val === true || obj.newState.val === 'true'){</code><br>
<code>      log('Command reboot');</code><br>
<code>      setState('javascript.0.t2c_restartSystem.restart_command', 'false');</code><br>
<code>      exec ('reboot');</code><br>
<code>  }</code><br>
<code>});</code></p>
<p>In a script create the <code>javascript.0.t2c_restartSystem.restart_command </code>variable and subscribe to it. On a condition of new <code>true </code>value, give the message in a log, reset the value of the variable to <code>false </code>and perform a reboot command.<br>
Let&#8217;s add the new rule to the text2command driver:</p>
<p><a href="wp-content\uploads\telegramm_pic6.png"><img class="alignnone size-large wp-image-6748" src="wp-content\uploads\telegramm_pic6-1024x144.png" alt="" width="750" height="105" srcset="wp-content\uploads\telegramm_pic6-1024x144.png 1024w, wp-content\uploads\telegramm_pic6-150x21.png 150w, wp-content\uploads\telegramm_pic6-300x42.png 300w, wp-content\uploads\telegramm_pic6-100x14.png 100w, wp-content\uploads\telegramm_pic6-200x28.png 200w, wp-content\uploads\telegramm_pic6-450x63.png 450w, wp-content\uploads\telegramm_pic6-600x84.png 600w, wp-content\uploads\telegramm_pic6-900x127.png 900w" sizes="(max-width: 750px) 100vw, 750px"></a></p>
<p>&nbsp;</p>
<p>Now, in the telegram dialogue with the user <strong>@BotFather </strong>add command <code>/restart_iobroker </code>(really do not need to add a command, but rather to prescribe all possible, that is, re-enter the previously created).</p>
<p><a href="wp-content\uploads\telegram_pic10.png"><img class="alignnone size-medium wp-image-6769" src="wp-content\uploads\telegram_pic10-300x157.png" alt="" width="300" height="157" srcset="wp-content\uploads\telegram_pic10-300x157.png 300w, wp-content\uploads\telegram_pic10-150x78.png 150w, wp-content\uploads\telegram_pic10-1024x536.png 1024w, wp-content\uploads\telegram_pic10-100x52.png 100w, wp-content\uploads\telegram_pic10-200x105.png 200w, wp-content\uploads\telegram_pic10-450x235.png 450w, wp-content\uploads\telegram_pic10-600x314.png 600w, wp-content\uploads\telegram_pic10-900x471.png 900w, wp-content\uploads\telegram_pic10.png 1038w" sizes="(max-width: 300px) 100vw, 300px"></a></p>
<p>&nbsp;</p>
<p>That&#8217;s all, you can check how the newly created command is working:</p>
<p><a href="wp-content\uploads\telegramm_pic9.png"><img class="alignnone wp-image-6772 size-medium" src="wp-content\uploads\telegramm_pic9-300x134.png" width="300" height="134" srcset="wp-content\uploads\telegramm_pic9-300x134.png 300w, wp-content\uploads\telegramm_pic9-150x67.png 150w, wp-content\uploads\telegramm_pic9-100x45.png 100w, wp-content\uploads\telegramm_pic9-200x89.png 200w, wp-content\uploads\telegramm_pic9-450x201.png 450w, wp-content\uploads\telegramm_pic9-600x268.png 600w, wp-content\uploads\telegramm_pic9-900x402.png 900w, wp-content\uploads\telegramm_pic9.png 1013w" sizes="(max-width: 300px) 100vw, 300px"></a></p>
<h3><span id="Publication_snapshots_of_IP_cameras_for_motion_sensor">Publication snapshots of IP cameras for motion sensor</span></h3>
<p>In addition to commands, the bot can send messages on any event or a picture/photo. So, the next task:</p>
<ul>
<li>there is a D-Link DSC-900 IP camera, the address in networks 192.168.69.81, the stream address mjpeg http://192.168.69.81/mjpeg.cgi, the address for image capture – http://192.168.69.81/image.jpg</li>
<li>in a security zone of the camera watches the motion sensor connected to the controller based on arduino MEGA + Ethernet shield, data transmission protocol MQTT, the <code>mqtt.0.arduino56.PIR2 </code>variable is set to <code>true </code>(there is a movement), <code>false </code>(there is no movement)</li>
<li>when actuating the motion sensor, it is necessary to send in telegrams images to timepoints 0, 10, 20 seconds after actuating of the sensor.</li>
</ul>
<p>Write a script of the following contents:</p>
<p><code>var request = require('request'); //for an image request from the camera</code><br>
<code>var fs = require('fs'); //for temporal saving the image in the form of the file</code></p>
<p><code>//Function which requests the image from the camera, saves it in the temporal file and sends it to the telegram driver</code><br>
<code>function sendImage() {</code><br>
<code>  request.get({url: 'http://192.168.69.81/image.jpg', encoding: 'binary'}, function (err, response, body) {</code><br>
<code>    fs.writeFile("/tmp/snapshot.jpg", body, 'binary', function(err) {</code><br>
<code>      if (err) {</code><br>
<code>        console.error(err);</code><br>
<code>      } else {</code><br>
<code>        sendTo('telegram.0', '/tmp/snapshot.jpg');</code><br>
<code>      }</code><br>
<code>    });</code><br>
<code>  });</code><br>
<code>}</code><br>
<code>//Subscribe for the mqtt.0.arduino56.PIR2 variable as soon as true value, send the current image and two more with the period 10 sec</code><br>
<code>on({id: 'mqtt.0.arduino56.PIR2', change: 'any'}, function (obj) {</code><br>
<code>  if (obj.newState.val === true || obj.newState.val === 'true'){</code><br>
<code>    console.log('Оbserved the movement! Snapshot sent to telegram');</code><br>
<code>    sendTo('telegram.0', 'Attention! Motion! Publishing the image');</code><br>
<code>    sendImage();</code><br>
<code>    setTimeout(sendImage, 10000);</code><br>
<code>    setTimeout(sendImage, 20000);</code><br>
<code>  }</code><br>
<code>});</code></p>
<p>The result should be something like this:<br>
<a href="wp-content\uploads\telegramm_pic8.png"><img class="alignnone size-medium wp-image-6773" src="wp-content\uploads\telegramm_pic8-300x296.png" alt="" width="300" height="296" srcset="wp-content\uploads\telegramm_pic8-300x296.png 300w, wp-content\uploads\telegramm_pic8-150x148.png 150w, wp-content\uploads\telegramm_pic8-100x99.png 100w, wp-content\uploads\telegramm_pic8-200x197.png 200w, wp-content\uploads\telegramm_pic8-450x444.png 450w, wp-content\uploads\telegramm_pic8-600x592.png 600w, wp-content\uploads\telegramm_pic8-900x888.png 900w, wp-content\uploads\telegramm_pic8.png 1013w" sizes="(max-width: 300px) 100vw, 300px"></a></p>
				
<footer class="post-data">
	
	<div class="entry-meta">
			</div><!-- .entry-meta -->
	</footer><!-- .post-data -->
			</div><!-- .post-entry -->
	</article><!-- #post-## -->

				
			
		</main><!-- #main -->

			<div id="widgets" class="widget-area right-sidebar" role="complementary" itemscope="itemscope" itemtype="http://schema.org/WPSideBar">
		
		<div id="text-18" class="widget-wrapper widget_text">			<div class="textwidget"><div class="adaptermenueclass">
<!-- Page-list plugin v.5.1 wordpress.org/plugins/page-list/ -->
<ul class="page-list ">
<li class="page_item page-item-5038 page_item_has_children"><a href="index-92.htm?page_id=5038&lang=en">Adapter category VIS</a>
<ul class='children'>
	<li class="page_item page-item-5029"><a href="index-301.htm?page_id=5029&lang=en">ioBroker.vis App</a></li>
	<li class="page_item page-item-6903"><a href="index-398.htm?page_id=6903&lang=en">Widgets ioBroker.vis-players</a></li>
</ul>
</li>
<li class="page_item page-item-4541 page_item_has_children"><a href="index-75.htm?page_id=4541&lang=en">Common</a>
<ul class='children'>
	<li class="page_item page-item-4179"><a href="index-76.htm?page_id=4179&lang=en">Driver Admin</a></li>
</ul>
</li>
<li class="page_item page-item-5298 page_item_has_children current_page_ancestor current_page_parent"><a href="index-86.htm?page_id=5298&lang=en">Communication</a>
<ul class='children'>
	<li class="page_item page-item-6435"><a href="index-88.htm?page_id=6435&lang=en">Adapter MQTT</a></li>
	<li class="page_item page-item-5289"><a href="index-84.htm?page_id=5289&lang=en">Adapter Pushsafer</a></li>
	<li class="page_item page-item-6624 current_page_item"><a href="index-87.htm?page_id=6624&lang=en">Adapter Telegram</a></li>
	<li class="page_item page-item-6796"><a href="index-397.htm?page_id=6796&lang=en">eMail</a></li>
</ul>
</li>
<li class="page_item page-item-2578 page_item_has_children"><a href="index-89.htm?page_id=2578&lang=en">Hardware</a>
<ul class='children'>
	<li class="page_item page-item-4188"><a href="index-91.htm?page_id=4188&lang=en">RFLink</a></li>
	<li class="page_item page-item-2575"><a href="index-90.htm?page_id=2575&lang=en">Siemens SIMATIC S7</a></li>
</ul>
</li>
<li class="page_item page-item-4787 page_item_has_children"><a href="index-77.htm?page_id=4787&lang=en">Media</a>
<ul class='children'>
	<li class="page_item page-item-4713"><a href="index-78.htm?page_id=4713&lang=en">Adapter sayIt</a></li>
</ul>
</li>
<li class="page_item page-item-4784 page_item_has_children"><a href="index-79.htm?page_id=4784&lang=en">Scripts and logic</a>
<ul class='children'>
	<li class="page_item page-item-4711"><a href="index-80.htm?page_id=4711&lang=en">Adapter text2command</a></li>
	<li class="page_item page-item-5809"><a href="index-81.htm?page_id=5809&lang=en">Javascript</a></li>
</ul>
</li>
<li class="page_item page-item-4538 page_item_has_children"><a href="index-82.htm?page_id=4538&lang=en">Storage</a>
<ul class='children'>
	<li class="page_item page-item-4531"><a href="index-83.htm?page_id=4531&lang=en">Adapter History</a></li>
	<li class="page_item page-item-4184"><a href="index-85.htm?page_id=4184&lang=en">Adapter SQL</a></li>
</ul>
</li>
<li class="page_item page-item-5823 page_item_has_children"><a href="index-93.htm?page_id=5823&lang=en">Visualisation</a>
<ul class='children'>
	<li class="page_item page-item-5816"><a href="index-94.htm?page_id=5816&lang=en">Adapter Flot</a></li>
</ul>
</li>

</ul></div></div>
		</div>
			</div><!-- end of #widgets -->
	</div><!-- #content -->

</div><!-- end of #wrapper -->
</div><!-- end of #container -->


<footer id="footer" class="site-footer" role="contentinfo" itemscope="itemscope" itemtype="http://schema.org/WPFooter">
		<div id="footer-wrapper">

		<div id="footer-widgets-container">
					</div><!-- #footer-widgets-container-->

		<div id="menu-social-container">
			<nav id="footer-menu-container">
				<ul id="menu-2016_seitenfuss_en" class="footer-menu"><li id="menu-item-2219" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2219"><a href="index-106.htm?page_id=2216&#038;lang=en">Contact</a></li>
<li id="menu-item-2533" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2533"><a href="index-107.htm?page_id=2528&#038;lang=en">Imprint</a></li>
<li id="menu-item-2534" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2534"><a href="index-108.htm?page_id=2525&#038;lang=en">Privacy policy</a></li>
<li id="menu-item-2535" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2535"><a href="index-109.htm?page_id=2523&#038;lang=en">Sitemap (EN)</a></li>
<li id="menu-item-2532" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-2532"><a href="index-110.htm?page_id=2530&#038;lang=en">THX</a></li>
</ul>			</nav><!-- #footer-menu -->
			<div id="social-icons-container">
				<ul class="social-icons"></ul><!-- .social-icons -->			</div><!-- #social-icons-container-->
		</div><!-- #menu-social-container -->

		
		<div id="footer-base">
			<div class="copyright">
				&copy; 2019 <a href="index-1.htm?lang=en" title="ioBroker">ioBroker</a>			</div><!-- .copyright -->

			<div class="powered">
				<a href="http://cyberchimps.com/responsive-II/">Responsive II</a> powered by <a href="http://wordpress.org/">WordPress</a>			</div><!-- end .powered -->

			<div class="scroll-top">
				<a href="#scroll-top" title="scroll to top">&uarr;</a>
			</div><!-- .scroll-top -->
		</div><!-- #footer-base -->
	</div><!-- #footer-wrapper -->
	</footer><!-- #footer -->
<div id="cookie-law-info-bar"><span>This website uses cookies to improve your experience. We'll assume you're ok with this, but you can opt-out if you wish.<a data-cli_action="accept" id="cookie_action_close_header" class="medium cli-plugin-button cli-plugin-main-button cookie_action_close_header cli_action_button" style="display:inline-block; ">Akzeptieren</a> <a href='..\index-1.htm?page_id=2305&#038;lang=de' id="CONSTANT_OPEN_URL" target="_blank" class="cli-plugin-main-link" style="display:inline-block;">mehr Infos</a></span></div><div id="cookie-law-info-again" style="display:none;"><span id="cookie_hdr_showagain">Privacy & Cookies Policy</span></div><div class="cli-modal-backdrop cli-fade cli-settings-overlay"></div>
<div class="cli-modal-backdrop cli-fade cli-popupbar-overlay"></div>
<script type="text/javascript">
  /* <![CDATA[ */
  cli_cookiebar_settings='{"animate_speed_hide":"500","animate_speed_show":"500","background":"#fff","border":"#444","border_on":false,"button_1_button_colour":"#000","button_1_button_hover":"#000000","button_1_link_colour":"#fff","button_1_as_button":true,"button_1_new_win":false,"button_2_button_colour":"#333","button_2_button_hover":"#292929","button_2_link_colour":"#444","button_2_as_button":false,"button_2_hidebar":true,"button_3_button_colour":"#000","button_3_button_hover":"#000000","button_3_link_colour":"#fff","button_3_as_button":true,"button_3_new_win":false,"button_4_button_colour":"#000","button_4_button_hover":"#000000","button_4_link_colour":"#fff","button_4_as_button":true,"font_family":"inherit","header_fix":false,"notify_animate_hide":true,"notify_animate_show":false,"notify_div_id":"#cookie-law-info-bar","notify_position_horizontal":"right","notify_position_vertical":"bottom","scroll_close":false,"scroll_close_reload":false,"accept_close_reload":false,"reject_close_reload":false,"showagain_tab":false,"showagain_background":"#fff","showagain_border":"#000","showagain_div_id":"#cookie-law-info-again","showagain_x_position":"100px","text":"#000","show_once_yn":false,"show_once":"10000","logging_on":false,"as_popup":false,"popup_overlay":true,"bar_heading_text":"","cookie_bar_as":"banner","popup_showagain_position":"bottom-right","widget_position":"left"}';
  /* ]]> */
</script><div class="scroll-back-to-top-wrapper">
	<span class="scroll-back-to-top-inner">
					<i class="fa fa-2x fa-arrow-circle-up"></i>
			</span>
</div><script type='text/javascript'>
/* <![CDATA[ */
var wpcf7 = {"apiSettings":{"root":"http:\/\/www.iobroker.net\/docu\/?rest_route=\/contact-form-7\/v1","namespace":"contact-form-7\/v1"},"recaptcha":{"messages":{"empty":"Please verify that you are not a robot."}}};
var wpcf7 = {"apiSettings":{"root":"http:\/\/www.iobroker.net\/docu\/?rest_route=\/contact-form-7\/v1","namespace":"contact-form-7\/v1"},"recaptcha":{"messages":{"empty":"Please verify that you are not a robot."}}};
/* ]]> */
</script>
<script type='text/javascript' src='wp-content\plugins\contact-form-7\includes\js\scripts.js?ver=4.9.2'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var scrollBackToTop = {"scrollDuration":"500","fadeDuration":"0.5"};
var scrollBackToTop = {"scrollDuration":"500","fadeDuration":"0.5"};
/* ]]> */
</script>
<script type='text/javascript' src='wp-content\plugins\scroll-back-to-top\assets\js\scroll-back-to-top.js'></script>
<script type='text/javascript' src='wp-content\plugins\table-of-contents-plus\front.min.js?ver=1509'></script>
<script type='text/javascript' src='wp-content\themes\responsive-mobile\js\responsive-scripts.min.js?ver=1.2.5'></script>
<script type='text/javascript' src='wp-includes\js\wp-embed.min.js?ver=4.7.5'></script>
</body>
</html>
